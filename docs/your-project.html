<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Using Forrest</title>
<link type="text/css" href="../skin/page.css" rel="stylesheet">
<link rel="shortcut icon" href="../favicon.ico">
</head>
<body text="#000000" bgcolor="#FFFFFF">
<!--================= start Navigation Path ==================-->
<table summary="navigation path" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td nowrap="nowrap" valign="middle" bgcolor="#CFDCED" height="20"><img height="1" width="5" alt="" src="../skin/images/spacer.gif" class="spacer"><!--===== breadcrumb trail (javascript-generated) ====--><font size="2" face="Arial, Helvetica, Sans-serif"><a href="http://www.apache.org/">apache</a> &gt; <a href="http://forrest.apache.org/">forrest</a><script src="../skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script></font></td>
</tr>
<tr>
<td bgcolor="#4C6C8F" height="2"><img height="2" width="2" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
</table>
<!--================= end Navigation Path ==================-->
<!--================= start Banner ==================-->
<table summary="header with logos" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<!--================= start Group Logo ==================-->
<td bgcolor="#294563"><a href="http://www.apache.org/"><img class="logoImage" alt="Apache" src="../images/apache-forrest.png" title="The Apache Software Foundation"></a></td>
<!--================= end Group Logo ==================-->
<!--================= start Project Logo ==================--><td width="100%" align="center" bgcolor="#294563"><a href="http://forrest.apache.org/"><img class="logoImage" alt="Forrest" src="../images/project-logo.gif" title="Apache Forrest"></a></td>
<!--================= end Project Logo ==================-->
<!--================= start Search ==================--><td valign="top" rowspan="2" bgcolor="#294563">
<form target="_blank" action="http://www.google.com/search" method="get">
<table summary="search" border="0" cellspacing="0" cellpadding="0" bgcolor="#4C6C8F">
<tr>
<td colspan="3"><img height="10" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td><img height="1" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td nowrap="nowrap"><input value="forrest.apache.org" name="as_sitesearch" type="hidden"><input size="15" name="as_q" id="query" type="text"><img height="1" width="5" alt="" src="../skin/images/spacer.gif" class="spacer"><input name="Search" value="Search" type="submit">
<br>
<font face="Arial, Helvetica, Sans-serif" size="2" color="white">
                          the Apache Forrest site
                          
                          
                        </font></td><td><img height="1" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td><img alt="" border="0" height="10" width="9" src="../skin/images/search-left.gif"></td><td><img height="1" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td><img alt="" border="0" height="10" width="9" src="../skin/images/search-right.gif"></td>
</tr>
</table>
</form>
</td>
<!--================= end Search ==================--><td bgcolor="#294563"><img height="10" width="10" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td valign="bottom" bgcolor="#294563" colspan="2">
<!--================= start Tabs ==================-->
<div class="tab">
<table summary="tab bar" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="6"><img alt="" height="8" width="6" src="../skin/images/spacer.gif"></td><td valign="bottom">
<table summary="non selected tab" style="height: 1.6em" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="../skin/images/tab-left.gif"></td><td valign="middle" bgcolor="#B2C4E0"><a class="base-not-selected" href="../index.html">Welcome</a></td><td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="../skin/images/tab-right.gif"></td>
</tr>
<tr>
<td colspan="3" height="1"></td>
</tr>
</table>
</td><td width="6"><img alt="" height="8" width="6" src="../skin/images/spacer.gif"></td><td valign="bottom">
<table summary="non selected tab" style="height: 1.6em" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="../skin/images/tab-left.gif"></td><td valign="middle" bgcolor="#B2C4E0"><a class="base-not-selected" href="../contrib.html">Project</a></td><td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="../skin/images/tab-right.gif"></td>
</tr>
<tr>
<td colspan="3" height="1"></td>
</tr>
</table>
</td><td width="6"><img alt="" height="8" width="6" src="../skin/images/spacer.gif"></td><td valign="bottom">
<table summary="selected tab" style="height: 1.8em" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="5" bgcolor="#4C6C8F"><img height="5" width="5" alt="" src="../skin/images/tabSel-left.gif"></td><td valign="middle" bgcolor="#4C6C8F"><font color="#ffffff" size="2" face="Arial, Helvetica, Sans-serif"><b><a class="base-selected" href="../docs/your-project.html">Documentation</a></b></font></td><td valign="top" width="5" bgcolor="#4C6C8F"><img height="5" width="5" alt="" src="../skin/images/tabSel-right.gif"></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<!--================= end Tabs ==================-->
</td><td bgcolor="#294563"></td>
</tr>
<tr>
<td height="10" bgcolor="#4C6C8F" colspan="4">
<div class="level2tab">
<a class="base-selected" href="../docs/your-project.html">Core</a>&nbsp;|&nbsp;<a class="base-selected" href="../docs/forrestbot.html">ForrestBot</a>&nbsp;|&nbsp;<a class="base-selected" href="../docs/forrestbar.html">ForrestBar</a>
</div>
</td>
</tr>
</table>
<!--================= end Banner ==================-->
<!--================= start Menu, NavBar, Content ==================-->
<table summary="page content" bgcolor="#ffffff" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top">
<table summary="menu" border="0" cellspacing="0" cellpadding="0">
<tr>
<!--================= start left top NavBar ==================-->
<td rowspan="3" valign="top">
<table summary="blue line" border="0" cellpadding="0" cellspacing="0">
<tr>
<td bgcolor="#294563"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td bgcolor="#CFDCED"><font color="#4C6C8F" size="4" face="Arial, Helvetica, Sans-serif">&nbsp;</font></td>
</tr>
<tr>
<td bgcolor="#294563"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
</table>
</td>
<!--================= end left top NavBar ==================--><td bgcolor="#294563"><img width="1" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td valign="bottom" bgcolor="#4C6C8F"><img width="10" height="10" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td nowrap="nowrap" valign="top" bgcolor="#4C6C8F">
<!--================= start Menu items ==================-->
<div class="menu">
<ul>
<li>
<font color="#CFDCED">Documentation</font>
<ul>
    
<li>
<span class="sel"><font color="#ffcc00">Using Forrest</font></span>
</li>
    
<li>
<a href="../docs/validation.html">XML Validation</a>
</li>
    
<li>
<a href="../docs/linking.html">Menus and Linking</a>
</li>
    
<li>
<a href="../docs/searching.html">Searching</a>
</li>
    
<li>
<a href="../docs/skin-package.html">Skin Packages</a>
</li>
    
    
<li>
<a href="../docs/forrest-contract.html">Our Contract</a>
</li>
    
<li>
<a href="../docs/compliance.html">Standards Compliance</a>
</li>
   
    
    
<li>
<font color="#CFDCED">Advanced Topics</font>
<ul>
      
<li>
<a href="../docs/catalog.html">Using DTD Catalogs</a>
</li>
      
<li>
<a href="../docs/sitemap-ref.html">Sitemap Reference</a>
</li>
      
<li>
<a href="../docs/cap.html">Sourcetype Action</a>
</li>
    
</ul>
</li>
    
    
<li>
<font color="#CFDCED">Upgrading</font>
<ul>
      
<li>
<a href="../docs/upgrading_06.html">Upgrading to 0.6</a>
</li>
      
<li>
<a href="../docs/upgrading_05.html">Upgrading to 0.5</a>
</li>
    
</ul>
</li>
  
</ul>
</li>
<li>
<font color="#CFDCED">SubProjects</font>
<ul>
    
<li>
<a href="../docs/forrestbar.html">ForrestBar</a>
</li>
    
<li>
<a href="../docs/forrestbot.html">Forrestbot</a>
</li>
    
<li>
<a href="../docs/forrestbot-web-interface.html">Forrestbot Webapp</a>
</li>
  
</ul>
</li>
<li>
<font color="#CFDCED">References</font>
<ul>
    
<li>
<font color="#CFDCED">DTD documentation</font>
<ul>
        
<li>
<a href="../docs/dtd-docs.html">index</a>
</li>
        
<li>
<a href="../docs/document-v12.dtdx.html">document-v12</a>
</li>
        
<li>
<a href="../docs/howto-v12.dtdx.html">howto-v12</a>
</li> 
        
<li>
<a href="../docs/faq-v12.dtdx.html">faq-v12</a>
</li>           
    
</ul>
</li>
    
<li>
<a href="../docs/document-v12.html">document-v12</a>
</li>
    
<li>
<a href="../docs/wiki-sample.html">Wiki Reference</a>
</li>
    
<li>
<a href="../docs/oowriter.html">OpenOffice Writer</a>
</li>    
 
</ul>
</li>
<li>
<font color="#CFDCED">Older Docs</font>
<ul>
    
<li>
<a href="../docs/primer.html">Forrest Primer</a>
</li>
    
<li>
<a href="../docs/libre-intro.html">Libre</a>
</li>
    
<li>
<a href="../docs/dreams.html">Dream list</a>
</li>
  
</ul>
</li>
</ul>
</div>
<!--================= end Menu items ==================-->
</td><td valign="bottom" bgcolor="#4C6C8F"><img width="10" height="10" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td bgcolor="#294563"><img width="1" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td valign="bottom" align="left" colspan="2" rowspan="2" bgcolor="#4C6C8F"><img height="10" width="10" border="0" alt="" src="../skin/images/menu-left.gif"></td><td bgcolor="#4C6C8F"><img height="10" width="10" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td valign="bottom" align="right" colspan="2" rowspan="2" bgcolor="#4C6C8F"><img height="10" width="10" border="0" alt="" src="../skin/images/menu-right.gif"></td>
</tr>
<tr>
<td height="1" bgcolor="#294563"><img width="1" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
</table>
</td><td valign="top" width="100%">
<table summary="content" width="100%" border="0" cellpadding="0" cellspacing="0">
<!--================= start middle NavBar ==================-->
<tr>
<td colspan="4" bgcolor="#294563"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td align="left" width="10" bgcolor="#CFDCED"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td align="left" width="50%" bgcolor="#CFDCED"><font color="#4C6C8F" size="3" face="Arial, Helvetica, Sans-serif">
                &nbsp;
                
                </font><img width="10" height="8" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td align="right" width="50%" bgcolor="#CFDCED"><font color="#4C6C8F" size="3" face="Arial, Helvetica, Sans-serif">
                &nbsp;
                
                </font><img width="10" height="8" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td width="10" bgcolor="#CFDCED"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td colspan="4" bgcolor="#294563"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<!--================= end middle NavBar ==================-->
<!--================= start Content==================-->
<tr>
<td align="left" width="10"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td colspan="2" align="left" width="100%">
<div class="content">
<table class="title" summary="">
<tr>
<td valign="middle">
<h1>Using Forrest</h1>
</td><td nowrap="nowrap" width="40" align="center"><a class="dida" href="your-project.pdf"><img alt="PDF" src="../skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a></td>
</tr>
</table>
<h3>A tutorial on how to use Forrest in your own projects</h3>
<ul class="minitoc">
<li>
<a href="#intro">Introduction</a>
</li>
<li>
<a href="#installing">Installing Forrest</a>
</li>
<li>
<a href="#seeding_new">Seeding a new project</a>
</li>
<li>
<a href="#seeding_existing">Seeding an existing project</a>
</li>
<li>
<a href="#customizing">Customizing your project</a>
<ul class="minitoc">
<li>
<a href="#skinconf.xml">Configuring the Forrest skin: skinconf.xml</a>
</li>
<li>
<a href="#Changing_the_layout">Changing the layout: forrest.properties</a>
</li>
</ul>
</li>
<li>
<a href="#adding_content">Adding content</a>
<ul class="minitoc">
<li>
<a href="#site.xml">site.xml</a>
</li>
<li>
<a href="#tabs.xml">tabs.xml</a>
</li>
<li>
<a href="#images">Images</a>
</li>
</ul>
</li>
<li>
<a href="#sitemap.xmap">Advanced customizations: sitemap.xmap</a>
<ul class="minitoc">
<li>
<a href="#adding_new_content_type">Example: Adding a new content type</a>
<ul class="minitoc">
<li>
<a href="#new_dtd">Registering a new DTD</a>
</li>
</ul>
</li>
<li>
<a href="#integrating_rss">Example: integrating external RSS content</a>
</li>
</ul>
</li>
<li>
<a href="#skins">Forrest skins</a>
<ul class="minitoc">
<li>
<a href="#new_skin">Defining a new skin</a>
</li>
</ul>
</li>
<li>
<a href="#webapp">Interactive Forrest: developing docs faster</a>
<ul class="minitoc">
<li>
<a href="#forrest_run">Running as a webapp</a>
<ul class="minitoc">
<li>
<a href="#using_webapp">Using the webapp</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#invoking_from_ant">Invoking Forrest from Ant</a>
</li>
</ul>
    
<a name="N10013"></a><a name="intro"></a>
<h3>Introduction</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        This tutorial will lead you through the process of installing Forrest, and using
        it to create a new project, or add Forrest-based docs to an existing project.
      </p>
</div>

   
<a name="N1001D"></a><a name="installing"></a>
<h3>Installing Forrest</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
       
<a href="http://www.apache.org/dyn/closer.cgi/xml/forrest/">Download</a> the latest release of Forrest, or
       if you want to try the development version, <a href="../build.html">build
       Forrest</a> from source.
     </p>
<p>
     After downloading and extracting forrest, you need to add environment variables.
     </p>
<p>In Unix/Linux:</p>
<pre class="code">
~/apache-forrest-0.5.1$ export FORREST_HOME=`pwd`
~/apache-forrest-0.5.1$ export PATH=$PATH:$FORREST_HOME/bin
     </pre>
<p>In Windows:</p>
<pre class="code">
Go to "My Computer", "Properties", "Advanced", "Environment Variables"
and add:
<span class="codefrag">FORREST_HOME</span> as <span class="codefrag">C:\full\path\to\apache-forrest-0.5.1</span>
<span class="codefrag">PATH</span> as <span class="codefrag">%PATH%;%FORREST_HOME%\bin</span>
     
</pre>
<p>
       To see what the forrest command can do, type 'forrest -projecthelp'
       </p>
<pre class="code">
Apache Forrest.  Run 'forrest -projecthelp' to list options

ANT_OPTS is 
Buildfile: /home/jeff/apache/xml/xml-forrest/build/dist/shbat/bin/../forrest.build.xml

    *=======================================================*
    |                 Forrest Site Builder                  |
    |                        0.5-dev                        |
    |             $Date: 2004/02/26 08:01:12 $              |
    *=======================================================*
  
             Call this through the 'forrest' command
  
Main targets:

 backcopy   If anything has been edited in build/webapps, copies them back to src/documentation
 overrides  Prints a summary of which files a project is overriding
 run        Run Jetty with configuration set by the jetty.run property
 seed       Seeds a directory with a template project doc structure
 site       Generates a static HTML website for this project
 validate   Validates XML doc files in the project
 war        Generates a dynamic servlet-based website (an packaged .war file)
 webapp     Generates a dynamic servlet-based website (an unpackaged webapp)

Default target: site
      </pre>
<p>
        As 'site' is the default target, just running 'forrest' without options will
        generate a "static HTML website". For example, typing 'forrest' in the
       top-level "forrest" directory would build Forrest's own website. But we're going to be
       building a new site, so read on.
      </p>
</div>

    
<a name="N10056"></a><a name="seeding_new"></a>
<h3>Seeding a new project</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        'Seeding' a project is our own arborial term for adding a template
        documentation set to your project, which you can then customize.
      </p>
<p>
        To try this out, create a completely new directory, and type 'forrest seed':
      </p>
<pre class="code">
~/apache/xml-mysite$ forrest seed
Apache Forrest.  Run 'forrest -projecthelp' to list options

Buildfile: /home/..../xml-forrest/build/dist/shbat/bin/../forrest.build.xml

init-props:
Loading project specific properties from
/home/jeff/apache/xml-mysite/forrest.properties

echo-settings:

check-contentdir:

ensure-nocontent:

seed:
Expanding: /home/jeff/apache/xml/xml-forrest/build/dist/shbat/fresh-site.zip
           into /home/jeff/apache/xml-mysite

-------------------------------
~~ Template project created! ~~

Here is an outline of the generated files:

/                        # /home/jeff/apache/xml-mysite
/status.xml              # List of project developers, todo list and change log
/forrest.properties      # Optional file describing your site layout
/src/documentation/      # Doc-specific files
/src/documentation/skinconf.xml    # Info about your project used by the skin
/src/documentation/content/        # Site content.
/src/documentation/content/xdocs   # XML content.
/src/documentation/content/xdocs/index.xml # Home page
/src/documentation/content/xdocs/site.xml  # Navigation file for site structure
/src/documentation/content/xdocs/tabs.xml  # Skin-specific 'tabs' file.
/src/documentation/content/*.html,pdf      # Static content files
/src/documentation/resources/images        # Project images (logos, etc)


What to do now?

- Try rendering this template to HTML by typing 'forrest'. View the generated
  HTML in a browser to make sure everything works.
- Edit status.xml and src/documentation/skinconf.xml and customize for your
  project.
- Start adding content in xdocs/, remembering to add new files to site.xml
- Provide any feedback to forrest-dev@xml.apache.org

Thanks for using Apache Forrest
-------------------------------
    

BUILD SUCCESSFUL
Total time: 8 seconds
      </pre>
<div class="frame note">
<div class="label">Note</div>
<div class="content">
        As you've probably begun to notice, we like to document things right in the
        script, on the theory that people only read online docs when desperate :)
      </div>
</div>
<p>
        You now have a template documentation structure all set up:
      </p>
<pre class="code">
jeff@expresso:~/apache/xml-mysite$ tree
.
|-- forrest-targets.ent
|-- forrest.properties
|-- src
|   `-- documentation
|       |-- README.txt
|       |-- content
|       |   |-- hello.pdf
|       |   |-- test1.html
|       |   |-- test2.html
|       |   `-- xdocs
|       |       |-- index.xml
|       |       |-- samples
|       |       |   |-- ehtml-sample.ehtml
|       |       |   |-- faq.xml
|       |       |   |-- ihtml-sample.ihtml
|       |       |   |-- index.xml
|       |       |   |-- sample.xml
|       |       |   |-- sample2.xml
|       |       |   |-- sdocbook.xml
|       |       |   |-- subdir
|       |       |   |   |-- book-sample.xml
|       |       |   |   `-- index.xml
|       |       |   `-- wiki-sample.cwiki
|       |       |-- site.xml
|       |       `-- tabs.xml
|       |-- resources
|       |   `-- images
|       |       |-- group-logo.gif
|       |       |-- group.svg
|       |       |-- icon.png
|       |       |-- project-logo.gif
|       |       `-- project.svg
|       `-- skinconf.xml
`-- status.xml
      </pre>
<p>
        To render this to HTML, type 'forrest'. You should have a HTML site rendered
        into the <span class="codefrag">build/site</span> directory:
      </p>
<div align="center">
<img class="figure" alt="New project" src="images/new-project.png" height="356" width="500"></div>
</div>
    
<a name="N1007D"></a><a name="seeding_existing"></a>
<h3>Seeding an existing project</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        In the section above, we have run 'forrest seed' in an empty directory. If you
        have an existing codebase which you wish to add Forrest docs to, run 'forrest
        seed' in your project base directory, and the Forrest doc structure will be
        grafted onto your project.
      </p>
<p>
        If your project already has XML documentation, it may be easier to tell
        Forrest where the XML lives, rather than rearrange your project directories to
        accommodate Forrest. This can be done by editing
        <span class="codefrag">forrest.properties</span> (consult
        the <a href="#Changing_the_layout">Changing the layout</a>
        section for more details).
      </p>
</div>
    
<a name="N10091"></a><a name="customizing"></a>
<h3>Customizing your project</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        Having seeded a project with template docs, you will now want to customize it
        to your project's needs. Here we will deal with configuring the skin, and
        changing the project layout.
      </p>
<a name="N1009A"></a><a name="skinconf.xml"></a>
<h4>Configuring the Forrest skin: skinconf.xml</h4>
<div style="margin-left: 0 ; border: 2px">
<p>
          Most Forrest skins can be customized through a single XML file,
          <span class="codefrag">src/documentation/skinconf.xml</span>, which looks like this:
        </p>
<pre class="code">
 &lt;!DOCTYPE skinconfig PUBLIC
        "-//APACHE//DTD Skin Configuration V0.6-1//EN"
        "skinconfig-v06-1.dtd"&gt;

&lt;skinconfig&gt;
  &lt;!-- To enable lucene search add provider="lucene" --&gt;
  &lt;search name="MyProject" domain="mydomain"/&gt;
  
  &lt;!-- Do we want to disable the print link? If enabled, invalid HTML 4.0.1 --&gt;
  &lt;disable-print-link&gt;true&lt;/disable-print-link&gt;  
  &lt;!-- Do we want to disable the PDF link? --&gt;
  &lt;disable-pdf-link&gt;false&lt;/disable-pdf-link&gt;
  &lt;!-- Do we want to disable the xml source link? --&gt;
  &lt;!-- The xml source link makes it possible to access the xml rendition of
        the source frim the html page, and to have it generated statically.
        This can be used to enable other sites and services to reuse the
        xml format for their uses. Keep this disabled if you don't want other
        sites to easily reuse your pages.--&gt;
  &lt;disable-xml-link&gt;true&lt;/disable-xml-link&gt;
  
  &lt;!-- If true, an the images on all external links will not be added --&gt;  
  &lt;disable-external-link-image&gt;false&lt;/disable-external-link-image&gt;
  
  &lt;!-- Do we want to disable w3c compliance links? --&gt;
  &lt;disable-compliance-links&gt;false&lt;/disable-compliance-links&gt;
  &lt;!-- Whether to render mailto: links unrecognisable by spam harvesters --&gt;
  &lt;obfuscate-mail-links&gt;true&lt;/obfuscate-mail-links&gt;

  &lt;!-- mandatory project logo
       skin: forrest-site renders it at the top --&gt;
  &lt;project-name&gt;MyProject&lt;/project-name&gt;
  &lt;project-description&gt;MyProject Description&lt;/project-description&gt;
  &lt;project-url&gt;http://myproj.mygroup.org/&lt;/project-url&gt;
  &lt;project-logo&gt;images/project.png&lt;/project-logo&gt;
  &lt;!-- Alternative static image:
  &lt;project-logo&gt;images/project-logo.gif&lt;/project-logo&gt; --&gt;

  &lt;!-- optional group logo
       skin: forrest-site renders it at the top-left corner --&gt;
  &lt;group-name&gt;MyGroup&lt;/group-name&gt;
  &lt;group-description&gt;MyGroup Description&lt;/group-description&gt;
  &lt;group-url&gt;http://mygroup.org&lt;/group-url&gt;
  &lt;group-logo&gt;images/group.png&lt;/group-logo&gt;
  &lt;!-- Alternative static image:
  &lt;group-logo&gt;images/group-logo.gif&lt;/group-logo&gt; --&gt;

  &lt;!-- optional host logo (e.g. sourceforge logo)
       skin: forrest-site renders it at the bottom-left corner --&gt;
  &lt;host-url&gt;&lt;/host-url&gt;
  &lt;host-logo&gt;&lt;/host-logo&gt;
  
  &lt;!-- relative url of a favicon file, normally favicon.ico --&gt;
  &lt;favicon-url&gt;&lt;/favicon-url&gt;

  &lt;!-- The following are used to construct a copyright statement --&gt;
  &lt;year&gt;2004&lt;/year&gt;
  &lt;vendor&gt;The Acme Software Foundation.&lt;/vendor&gt;
  &lt;!-- if present, the copyright-link URL will used as a link in the copyright statement
  &lt;copyright-link&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/copyright-link&gt;
  --&gt;

  &lt;!-- Some skins use this to form a 'breadcrumb trail' of links. If you don't
  want these, set the attributes to blank. The DTD purposefully requires them.
  --&gt;
  &lt;trail&gt;
    &lt;link1 name="myGroup" href="http://www.apache.org/"/&gt;
    &lt;link2 name="myProject" href="http://forrest.apache.org/"/&gt;
    &lt;link3 name="" href=""/&gt;
  &lt;/trail&gt;

  &lt;!-- Configure the TOC, ie the Table of Contents.
  @max-depth
  how many "section" levels need to be included in the
  generated Table of Contents (TOC). 
  @min-sections
  Minimum required to create a TOC.
  @location ("page","menu","page,menu")
  Where to show the TOC.
  --&gt;
  &lt;toc max-depth="2" min-sections="1" location="page"/&gt;

  &lt;!-- Heading types can be clean|underlined|boxed  --&gt;
  &lt;headings type="boxed"/&gt;
  
  &lt;extra-css&gt;
  &lt;/extra-css&gt;
  
  &lt;colors&gt;
  &lt;!-- CSS coloring examples omitted for brevity --&gt;
  &lt;/colors&gt;
 
  &lt;!-- Settings specific to PDF output.  --&gt;
  &lt;pdf&gt;
    &lt;!-- 
       Supported page sizes are a0, a1, a2, a3, a4, a5, executive,
       folio, legal, ledger, letter, quarto, tabloid (default letter).
       Supported page orientations are portrait, landscape (default
       portrait).
    --&gt;
    &lt;page size="letter" orientation="portrait"/&gt;

    &lt;!--
       Margins can be specified for top, bottom, inner, and outer
       edges. If double-sided="false", the inner edge is always left
       and the outer is always right. If double-sided="true", the
       inner edge will be left on odd pages, right on even pages,
       the outer edge vice versa.
       Specified below are the default settings.
    --&gt;
    &lt;margins double-sided="false"&gt;
      &lt;top&gt;1in&lt;/top&gt;
      &lt;bottom&gt;1in&lt;/bottom&gt;
      &lt;inner&gt;1.25in&lt;/inner&gt;
      &lt;outer&gt;1in&lt;/outer&gt;
    &lt;/margins&gt;
  &lt;/pdf&gt;

  &lt;!-- Credits are typically rendered as a set of small clickable images in the
  page footer --&gt;
  &lt;credits&gt;
    &lt;credit&gt;
      &lt;name&gt;Built with Apache Forrest&lt;/name&gt;
      &lt;url&gt;http://forrest.apache.org/&lt;/url&gt;
      &lt;image&gt;images/built-with-forrest-button.png&lt;/image&gt;
      &lt;width&gt;88&lt;/width&gt;
      &lt;height&gt;31&lt;/height&gt;
    &lt;/credit&gt;
    &lt;!-- A credit with @role='pdf' will have its name and url displayed in the
    PDF page's footer. --&gt;
  &lt;/credits&gt;

&lt;/skinconfig&gt;
</pre>
<p>
          Customise this file for your project. The <span class="codefrag">images/</span> directory
          mentioned in 'project-logo' and 'group-logo' elements correspond to the
          <span class="codefrag">src/documentation/resources/images</span> directory (this mapping is done
          in the sitemap).
        </p>
<p>
          Having edited this file (and ensured it is valid XML!), re-run the 'forrest'
          command in the site root, and the site should be updated.
        </p>
</div>
<a name="N100B7"></a><a name="Changing_the_layout"></a>
<h4>Changing the layout: forrest.properties</h4>
<div style="margin-left: 0 ; border: 2px">
<p>
          For a simple site, Forrest's default directory layout may seem rather
          cumbersome.  Forrest allows you to place files anywhere you want in your
          project, so long as you tell Forrest where you have placed the major file
          types.
        </p>
<p>
          The <span class="codefrag">forrest.properties</span> file is what maps from your directory
          layout to Forrest's. If you generated your site with 'forrest seed', you
          should have one pre-written, with all the entries commented out. The relevant
          <span class="codefrag">forrest.properties</span> entries (with default values) are:
        </p>
<pre class="code">
# Properties that must be set to override the default locations
#
# Parent properties must be set. This usually means uncommenting
# project.content-dir if any other property using it is uncommented

#project.status=status.xml
#project.content-dir=src/documentation
#project.conf-dir=${project.content-dir}/conf
#project.sitemap-dir=${project.content-dir}
#project.xdocs-dir=${project.content-dir}/content/xdocs
#project.resources-dir=${project.content-dir}/resources
#project.stylesheets-dir=${project.resources-dir}/stylesheets
#project.images-dir=${project.resources-dir}/images
#project.schema-dir=${project.resources-dir}/schema
#project.skins-dir=${project.content-dir}/skins
#project.skinconf=${project.content-dir}/skinconf.xml
#project.lib-dir=${project.content-dir}/lib
#project.classes-dir=${project.content-dir}/classes
       </pre>
<p>
         For example, if you wish to keep XML documentation in src/xdocs rather than
         <span class="codefrag">src/documentation/content/xdocs</span> simply change the 'project.xdocs-dir'
         definition:
       </p>
<pre class="code">
         project.xdocs-dir=src/xdocs
       </pre>
<p>
         Say we wish to emulate the nice and simple 
         <a class="external" href="http://maven.apache.org/">Maven</a> format:
       </p>
<div class="pre">
         /xdocs
         /xdocs/images
         /xdocs/stylesheets
       </div>
<p>Here are the required property definitions:</p>
<pre class="code">
project.content-dir=xdocs
project.sitemap-dir=${project.content-dir}
project.xdocs-dir=${project.content-dir}
project.stylesheets-dir=${project.content-dir}/stylesheets
project.images-dir=${project.content-dir}/images
project.skinconf=${project.content-dir}/skinconf.xml
         </pre>
<div class="frame note">
<div class="label">Note</div>
<div class="content">
           Internally, Forrest rearranges the specified directory into the default
           <span class="codefrag">src/documentation/content/xdocs</span> structure. In the layout above, we have
           overlapping directories, so you will end up with duplicate files. This small
           glitch doesn't usually cause problems; just always remember that all links
           are resolved through the sitemap.
         </div>
</div>
</div>
</div>


    
<a name="N100F1"></a><a name="adding_content"></a>
<h3>Adding content</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        Now you can start adding content of your own, in
        <span class="codefrag">src/documentation/content/xdocs</span>
      
</p>
<a name="N100FD"></a><a name="site.xml"></a>
<h4>site.xml</h4>
<div style="margin-left: 0 ; border: 2px">
<p>
          Whenever adding a new file, you should add an entry to the project's
          <span class="codefrag">site.xml</span> file. site.xml is like a site index, and is rendered as
          the vertical column of links in the default skin.  Have a look at Forrest's own
          xdocs for an example.  More detailed info about site.xml is provided in 
          <a href="../docs/linking.html">Menus and Linking</a>.
        </p>
</div>
<a name="N1010E"></a><a name="tabs.xml"></a>
<h4>tabs.xml</h4>
<div style="margin-left: 0 ; border: 2px">
<p>
          The <span class="codefrag">tabs.xml</span> file is used to produce the 'tabs' in the top-left
          corner of the default skin.
        </p>
<div align="center">
<img class="figure" alt="Tabs" src="images/tabs.png"></div>
<p>
          Tabs allow users to quickly jump to sections of your site.  See the
          <a href="../docs/linking.html#menu_generation">menu generation</a> documentation
          for more details, and again, consult Forrest's own docs for a usage
          example.
        </p>
<p>You can have one or two levels of tabs. The images above show a 
        single level. However, you can create a second level that
        will only be displayed when its parent tab is selected. For example,
        the <span class="codefrag">tabs.xml</span> snippet below will display either one or
        two rows of tabs, depending on which of the top level tabs is selected.
        The first row will have two tabs, one labelled <span class="codefrag">How-Tos</span>, the
        other labelled <span class="codefrag">Apache XML Projects</span>. When the 
        <span class="codefrag">How-Tos</span> tab is selected there will
        be no second row of tabs. However, when the <span class="codefrag">Apache XML
        Projects</span> tab is selected, a second row of tabs will be displayed
        below the first.</p>
<pre class="code">
  &lt;tab label="How-Tos" dir="community/howto/"/&gt;
  &lt;tab label="Apache XML Projects" href="http://xml.apache.org"&gt;
    &lt;tab label="Forrest" href="http://forrest.apache.org/"/&gt;
    &lt;tab label="Xerces" href="http://xml.apache.org/xerces"/&gt;
  &lt;/tab&gt;
</pre>
</div>
<a name="N1013C"></a><a name="images"></a>
<h4>Images</h4>
<div style="margin-left: 0 ; border: 2px">
<p>
          Images usually go in <span class="codefrag">src/documentation/resources/images/</span>
          The default sitemap
          maps this directory to <span class="codefrag">images/</span>, so image tags will typically look
          like &lt;figure src="images/project-logo.png" alt="Project Logo"/&gt; 
        </p>
</div>
</div>


    
<a name="N1014D"></a><a name="sitemap.xmap"></a>
<h3>Advanced customizations: sitemap.xmap</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        The Cocoon sitemap is a set of rules for generating content (HTML, PDFs etc)
        from XML sources. Forrest has a default sitemap, which is adequate for
        everyday sites (like the <a href="http://forrest.apache.org/">Forrest site</a> itself).
      </p>
<p>
        Sometimes, one needs to go beyond the default set of rules. This is where
        Forrest really shines, because its Cocoon backend allows virtually any
        processing pipeline to be defined. For example, one can:
      </p>
<ul>
        
<li>Transform custom XML content types with XSLT stylesheets</li>
        
<li>Generate PNG or JPEG images from 
        <a class="external" href="http://www.w3.org/TR/SVG/">SVG</a> XML files.
          (<strong>Update:</strong> Forrest's sitemap now does this natively).</li>
        
<li>Integrate external XML feeds (eg RSS) into your site's content
          (<strong>Update:</strong> See issues.xmap for an example.</li>
        
<li>Merge XML sources via aggregation, or make content from large XML
          sources available as "virtual" files.
          (<strong>Update:</strong>: Forrest's default sitemap defines a whole-site HTML
          and PDF, available as <span class="codefrag">site.html</span> and <span class="codefrag">site.pdf</span>.</li>
        
<li>Read content from exotic sources like
        <a class="external" href="http://www.rpbourret.com/xml/XMLDBLinks.htm">XML
            databases</a>
</li>
        
<li>Integrate any of <a class="external" href="http://cocoon.apache.org/2.1/">Cocoon's</a> vast array
          of capabilities.  The possibilities are best appreciated by
          downloading the latest Cocoon distribution and playing with the
          samples.</li>
      
</ul>
<p>
        If your site defines its own sitemap, it must perform all the operations of
        the Forrest default.  Simply copy the relevant sitemaps
        that you wish to over-ride, from Forrest sitemaps at
        <span class="codefrag">forrest/src/core/context/*.xmap</span> into your
        <span class="codefrag">src/documentation</span> directory (or wherever
        <span class="codefrag">${project.sitemap-dir}</span> points to).
      </p>
<p>
        The sitemap syntax is described in the 
        <a class="external" href="http://cocoon.apache.org/2.1/userdocs/concepts/sitemap.html">Cocoon sitemap docs</a>.  The Forrest
        sitemap is broken into multiple files. The main one is
        <strong>sitemap.xmap</strong>, which delegates to others.  See the
         <a href="../docs/sitemap-ref.html">Sitemap Reference</a> for a tour of the
        default sitemap.
      </p>
<a name="N101A6"></a><a name="adding_new_content_type"></a>
<h4>Example: Adding a new content type</h4>
<div style="margin-left: 0 ; border: 2px">
<p>
          Say that <span class="codefrag">download.xml</span> lists downloads for a certain package. It would be
          best to represent download information in a custom XML format:
        </p>
<pre class="code">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!DOCTYPE document PUBLIC "-//Acme//DTD Download Documentation V1.0//EN"
  "dtd/download-v10.dtd"&gt;
&lt;document&gt; 
  &lt;header&gt;
    &lt;title&gt;Downloading Binaries&lt;/title&gt;
  &lt;/header&gt;
  &lt;body&gt;
    &lt;section&gt;
      &lt;title&gt;Downloading binaries&lt;/title&gt;
      &lt;p&gt;
        Here are the binaries for FooProject
      &lt;/p&gt;
      &lt;release version="0.9.13" date="2002-10-11"&gt;
        &lt;downloads&gt;
          &lt;file
            url="http://prdownloads.sf.net/aft/fooproj-0.9.13-bin.zip?download"
            name="fooproj-0.9.13-bin.zip"
            size="5738322"/&gt;
          &lt;file
            url="http://prdownloads.sf.net/aft/fooproj-0.9.13-src.zip?download"
            name="fooproj-0.9.13-src.zip"
            size="10239777"/&gt;
        &lt;/downloads&gt;
      &lt;/release&gt;
      &lt;release version="0.9.12" date="2002-10-08"&gt;
        &lt;downloads&gt;
          &lt;file
            url="http://prdownloads.sf.net/aft/fooproj-0.9.12-src.zip?download"
            name="fooproj-0.9.12-src.zip"
            size="10022737"/&gt;
         &lt;/downloads&gt;
       &lt;/release&gt;
    &lt;/section&gt;
    &lt;section&gt;
      &lt;title&gt;Getting FooProject from CVS&lt;/title&gt;
      &lt;p&gt;....&lt;/p&gt;
    &lt;/section&gt;
  &lt;/body&gt;
&lt;/document&gt;</pre>
<p>This should be placed in your content directory, typically
          <span class="codefrag">src/documentation/content/xdocs</span>, and an entry added to
          site.xml</p>
<p>
          To handle these special tags, one would write a stylesheet to convert
          them to regular documentv12 format. Here is such a stylesheet,
          download2document.xsl:
        </p>
<pre class="code">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;xsl:stylesheet
  version="1.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;

  &lt;xsl:template match="release"&gt;
    &lt;section&gt;
      &lt;title&gt;Version &lt;xsl:value-of select="@version"/&gt; (released
          &lt;xsl:value-of select="@date"/&gt;)&lt;/title&gt;
      &lt;table&gt;
        &lt;tr&gt;&lt;th&gt;File&lt;/th&gt;&lt;th&gt;Size&lt;/th&gt;&lt;/tr&gt;
        &lt;xsl:apply-templates select="downloads/*"/&gt;
      &lt;/table&gt;
    &lt;/section&gt;
  &lt;/xsl:template&gt;

  &lt;xsl:template match="file"&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;link href="{@url}"&gt;&lt;xsl:value-of select="@name"/&gt;&lt;/link&gt;&lt;/td&gt;
      &lt;td&gt;&lt;xsl:value-of
           select="format-number(@size div (1024*1024), '##.##')"/&gt; MB&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/xsl:template&gt;


  &lt;xsl:template match="@* | node() | comment()"&gt;
    &lt;xsl:copy&gt;
      &lt;xsl:apply-templates select="@*"/&gt;
      &lt;xsl:apply-templates/&gt;
    &lt;/xsl:copy&gt;
  &lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;

</pre>
<p>
            Place this file in the default stylesheets directory,
            <span class="codefrag">src/documentation/resources/stylesheets</span> (or wherever
            ${project.stylesheets-dir} points).
          </p>
<p>
            Now the sitemap has to be modified to transform our custom format
            into doc-v12.  The <a href="../docs/sitemap-ref.html">Sitemap
              Reference</a> provides details on how the sitemap works, and
            how it can be customized for specific projects.  Specifically, the
            part to read is <a href="../docs/sitemap-ref.html#forrest_xmap">the
              forrest.xmap section</a>.  We have to register our new DTD and
            associate a transformation with it.
          </p>
<ol>
            
<li>Override <span class="codefrag">forrest.xmap</span> in your project by copying
              $FORREST_HOME/src/core/context/forrest.xmap to your project's
              src/documentation/ directory.</li>
            
<li>
              
<p>Edit <span class="codefrag">forrest.xmap</span>, locate the
                <span class="codefrag">sourcetype</span> action, and register the new document
                type:</p>
              
<pre class="code">
&lt;sourcetype name="download"&gt;
  &lt;document-declaration public-id="-//Acme//DTD Download Documentation V1.0//EN" /&gt;
&lt;/sourcetype&gt;</pre>
            
</li>
            
<li>
              
<p>Locate where the sourcetype action is used, and add a
                <span class="codefrag">when</span> clause to handle the conversion for our
                document type:</p>
              
<pre class="code">
&lt;map:when test="download"&gt;
  &lt;map:transform
    src="resources/stylesheets/download2document.xsl" /&gt;
&lt;/map:when&gt;</pre>
            
</li>
          
</ol>
<a name="N101FA"></a><a name="new_dtd"></a>
<h5>Registering a new DTD</h5>
<div style="margin-left: 0 ; border: 2px">
<p>
                 By default, Forrest requires that all XML files be valid: i.e.
                 they must have a DOCTYPE declaration and associated DTD, and
                 validate against it.  Our new 'downloads' document type is no
                 exception.  The <a href="../docs/validation.html">XML
                   Validation</a> section continues this example, showing how
                 to register a new document type.  Briefly, this involves:
               </p>
<ul>
                 
<li>Creating a new DTD or (in our case) extending an existing
                   one</li>
                 
<li>Putting the new DTD in
                   <span class="codefrag">${project.schema-dir}/dtd</span>
</li>
                 
<li>Adding a mapping from the DOCTYPE public id to the DTD
                   location, in the catalog file,
                   <span class="codefrag">${project.schema-dir}/catalog.xcat</span>.  Eg:
                   <span class="codefrag">PUBLIC "-//Acme//DTD Download Documentation V1.0//EN"
                     "dtd/download-v10.dtd"</span>
</li>
               
</ul>
<p>
                 Please read <a href="../docs/validation.html">XML Validation</a>
                 for the full story.
               </p>
</div>
</div>
<a name="N10223"></a><a name="integrating_rss"></a>
<h4>Example: integrating external RSS content</h4>
<div style="margin-left: 0 ; border: 2px">
<p>Similar to the previous example, we can integrate RSS into our
              site by overriding and editing the sitemap.  As described in 
              <a href="../docs/sitemap-ref.html#source_pipelines">the 'source pipelines'
                section of sitemap reference</a>, Forrest's
              <span class="codefrag">sitemap.xmap</span> delegates source
              handling to various subsitemaps in a <span class="codefrag">**.xml</span> block.
              We can add another *.xml matcher in this section, just before the
              catch-all subsitemap:
            </p>
<pre class="code">&lt;map:match pattern="site.xml"&gt;
    &lt;map:mount uri-prefix="" src="aggregate.xmap" check-reload="yes" /&gt;
  &lt;/map:match&gt;
  <strong>
&lt;map:match pattern="weblog.xml"&gt;
  &lt;map:generate src="http://blogs.cocoondev.org/stevenn/index.rss"/&gt;
  &lt;map:transform src="resources/stylesheets/rssissues2document.xsl"/&gt;
  &lt;map:call resource="skinit"&gt;
    &lt;map:parameter name="type" value="document2html"/&gt;
    &lt;map:parameter name="path" value="weblog.xml"/&gt;
  &lt;/map:call&gt;
&lt;/map:match&gt;</strong>

  &lt;!-- Default source types --&gt;
  &lt;map:mount uri-prefix="" src="forrest.xmap" check-reload="yes" /&gt;

&lt;/map:match&gt;</pre>
<p>(You will want to rename and customize
              <span class="codefrag">rssissues2document.xsl</span> to your needs)</p>
</div>
</div>

      
<a name="N10245"></a><a name="skins"></a>
<h3>Forrest skins</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
          As Forrest separates content from presentation, we can plug in different
          "skins" to instantly change a site's look &amp; feel.  Forrest provides one
          primary skin, <span class="codefrag">forrest-site</span>, and a handful of others in various
          states of maintenance.
        </p>
<p>
          To change the skin, edit the <span class="codefrag">forrest.properties</span> file, and
          change the following entry:
        </p>
<pre class="code">
project.skin=forrest-site
        </pre>
<a name="N1025D"></a><a name="new_skin"></a>
<h4>Defining a new skin</h4>
<div style="margin-left: 0 ; border: 2px">
<p>
            Projects can define their own skin, in the
            <span class="codefrag">src/documentation/skins</span> directory (or wherever
            <span class="codefrag">${project.skins-dir}</span> points). The default sitemap assumes a
            certain skin layout, so the easiest way to create a new skin is by
            copying an existing Forrest skin.  For example, copy
            <span class="codefrag">forrest/src/core/context/skins/tigris-style</span> to
            <span class="codefrag">src/documentation/skins/myskin</span>, and add
            <span class="codefrag">project.skin=myskin</span> to forrest.properties.
          </p>
<p>
            In addition, when using a project-specific skin it is a good idea to
            also use a project-specific sitemap.  This is to protect your skin
            from changes in the Forrest default sitemap.  While the sitemap-skin
            contract (expressed as XSLT parameters) is now fairly stable, this
            should not be relied on.
          </p>
<p>
            The two most interesting XSLT stylesheets involved are:
          </p>
<dl>
            
<dt>xslt/html/document2html.xsl</dt>
            
<dd>
              This stylesheet is applied to individual documentv11 XML files, and
              converts them to HTML suitable for embedding in a larger HTML page.
            </dd>
            
<dt>xslt/html/site2xhtml.xsl</dt>
            
<dd>
              This stylesheet generates the final HTML file from an intermediate
              'site' format produced by the other stylesheets. It defines the general
              layout, and adds the header and footer.
            </dd>
          
</dl>
<p>
            Typically there is a lot of commonality between skins.  XSLT
            provides an 'import' mechanism whereby one XSLT can extend another.
            Forrest XSLTs typically 'import' from a common base:
          </p>
<pre class="code">
&lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;

  &lt;xsl:import href="../../../common/xslt/html/document2html.xsl"/&gt;

  <strong>... overrides of default templates ...</strong> 
&lt;/xsl:stylesheet&gt;</pre>
<p>In order to use this feature in your custom skins you must copy
          the common skin from the forrest distribution into your custom skins 
          directory (see <span class="codefrag">forrest/src/core/context/skins/common</span>).
          This will protect your skin from changes in the Forrest common skin,
          but you must remember to update this skin in order to take advantage
          of new features added by the Forrest team.</p>
<p>This is particularly relevant for menu rendering (book2menu.xsl),
            where the common stylesheet does the 'logic' of which item is
            selected, and overriding stylesheets define the presentation.</p>
</div>
</div>

    
<a name="N1029F"></a><a name="webapp"></a>
<h3>Interactive Forrest: developing docs faster</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        In comparison to simpler tools like 
        <a class="external" href="http://jakarta.apache.org/velocity/anakia.html">Anakia</a>, Cocoon's command-line mode (and hence
        Forrest) is painfully slow.  As the <a href="../docs/dreams.html">dream
          list</a> notes, Forrest was originally intended to be used for
        dynamic sites, and the Cocoon crawler used only to create static
        snapshots for mirroring.  This section describes how, by developing with
        a "live" Forrest webapp instance, Forrest-based doc development can be
        faster and easier than comparable tools.
      </p>
<a name="N102B0"></a><a name="forrest_run"></a>
<h4>Running as a webapp</h4>
<div style="margin-left: 0 ; border: 2px">
<p>
          Type <span class="codefrag">forrest run</span> in your project root to start Forrest's
          built-in Jetty web server.  Once it has started, point your browser at
          <a class="external" href="http://localhost:8888">http://localhost:8888</a>, which
          should show your website, rendered on demand as each page is clicked.
        </p>
<p>Alternatively if you wish to run Forrest from within an existing
          servlet container, type <span class="codefrag">forrest webapp</span> to build an open
          webapp in <span class="codefrag">build/webapp/</span>.
        </p>
<a name="N102C9"></a><a name="using_webapp"></a>
<h5>Using the webapp</h5>
<div style="margin-left: 0 ; border: 2px">
<p>
            With the setup above, you can edit the XML files in
            <span class="codefrag">build/webapp/content/xdocs</span> and see the changes immediately
            in the browser.
          </p>
<p>
            To get the edited content back to its home directory, either copy it
            once you have finished editing (with the <span class="codefrag">forrest
              backcopy</span> command), or symlink the
            <span class="codefrag">src/documentation/content/xdocs</span> directory to
            <span class="codefrag">build/webapp/content/xdocs</span>.
          </p>
<div class="frame note">
<div class="label">Note</div>
<div class="content">In the future, we are hoping that Forrest will be able to work with
            <em>in-place</em> content, eliminating the step of copying everything
            into the <span class="codefrag">build/</span> directory.  There are also suggestions for making
            webapp-based content generation the primary technique. Future
            directions like these are debated on 
            the forrest-dev <a href="../mail-lists.html">mail list</a>.
            Please join if you have any suggestions.
          </div>
</div>
</div>
</div>
</div>
    
<a name="N102F1"></a><a name="invoking_from_ant"></a>
<h3>Invoking Forrest from Ant</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        Ant has an <a class="external" href="http://ant.apache.org/manual/CoreTasks/import.html">&lt;import&gt;</a>
        task which can be used to invoke Forrest from Ant.  All targets and properties
        are imported and can be used in your project.  Here's a simple example:
      </p>
<pre class="code">
&lt;project name="myproject" default="hello"&gt;
     &lt;!-- FORREST_HOME must be set as an environment variable --&gt;
     &lt;property environment="env"/&gt;
     &lt;import file="${env.FORREST_HOME}/forrest.build.xml"/&gt;

     &lt;!-- 'site' is a target imported from forrest.build.xml --&gt;
     &lt;target name="post-build" depends="site"&gt;
       &lt;echo&gt;something here&lt;/echo&gt;
     &lt;/target&gt;
&lt;/project&gt;
        </pre>
<div class="frame note">
<div class="label">Note</div>
<div class="content">If you do not use Ant 1.6+, the &lt;import&gt; task will not be available for you to use.  Forrest
        includes the latest version of Ant so you can invoke your project like this: <span class="codefrag">forrest -f myproject.xml</span>.
        This will not run forrest; it will just use Forrest's Ant to execute your buildfile.
      </div>
</div>
<p>
        Another option is to use the Forrest Antlet from the Krysalis Project's <a class="external" href="http://antworks.sourceforge.net/importer/">Antworks Importer</a>.
      </p>
<p>
        The <a href="../docs/forrestbot.html">Forrestbot</a> provides workstages to get source, build, deploy, and notify.
        This is very useful for automating builds; you may want to consider using the Forrestbot if your Ant project
        does those things.
      </p>
</div>
  
<div class="attribution">
<span class="version">
          version 1.35</span>
</div>
</div>
</td><td width="10"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<!--================= end Content==================-->
</table>
</td>
</tr>
</table>
<!--================= end Menu, NavBar, Content ==================-->
<!--================= start Footer ==================-->
<table summary="footer" cellspacing="0" cellpadding="0" width="100%" border="0">
<tr>
<td colspan="2" height="1" bgcolor="#4C6C8F"><img height="1" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"><a href="../skin/images/label.gif"></a><a href="../skin/images/page.gif"></a><a href="../skin/images/chapter.gif"></a><a href="../skin/images/chapter_open.gif"></a><a href="../skin/images/current.gif"></a></td>
</tr>
<tr>
<td colspan="2" bgcolor="#CFDCED" class="copyright" align="center"><font size="2" face="Arial, Helvetica, Sans-Serif"><a href="http://www.apache.org/licenses/LICENSE-2.0">
              Copyright &copy; 2002-2004&nbsp;
              The Apache Software Foundation.</a>
          All rights reserved.
          <script type="text/javascript" language="JavaScript"><!--
              document.write(" - "+"Last Published: " + document.lastModified);
            //  --></script></font></td>
</tr>
<tr>
<td colspan="2" align="left" bgcolor="#CFDCED" class="logos"></td>
</tr>
</table>
<!--================= end Footer ==================-->
</body>
</html>
