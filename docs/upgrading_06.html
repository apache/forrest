<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Upgrading to Forrest 0.6</title>
<link type="text/css" href="../skin/page.css" rel="stylesheet">
<link rel="shortcut icon" href="../favicon.ico">
</head>
<body text="#000000" bgcolor="#FFFFFF">
<!--================= start Navigation Path ==================-->
<table summary="navigation path" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td nowrap="nowrap" valign="middle" bgcolor="#CFDCED" height="20"><img height="1" width="5" alt="" src="../skin/images/spacer.gif" class="spacer"><!--===== breadcrumb trail (javascript-generated) ====--><font size="2" face="Arial, Helvetica, Sans-serif"><a href="http://www.apache.org/">apache</a> &gt; <a href="http://forrest.apache.org/">forrest</a><script src="../skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script></font></td>
</tr>
<tr>
<td bgcolor="#4C6C8F" height="2"><img height="2" width="2" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
</table>
<!--================= end Navigation Path ==================-->
<!--================= start Banner ==================-->
<table summary="header with logos" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<!--================= start Group Logo ==================-->
<td bgcolor="#294563"><a href="http://www.apache.org/"><img class="logoImage" alt="Apache" src="../images/apache-forrest.png" title="The Apache Software Foundation"></a></td>
<!--================= end Group Logo ==================-->
<!--================= start Project Logo ==================--><td width="100%" align="center" bgcolor="#294563"><a href="http://forrest.apache.org/"><img class="logoImage" alt="Forrest" src="../images/project-logo.gif" title="Apache Forrest"></a></td>
<!--================= end Project Logo ==================-->
<!--================= start Search ==================--><td valign="top" rowspan="2" bgcolor="#294563">
<form target="_blank" action="http://www.google.com/search" method="get">
<table summary="search" border="0" cellspacing="0" cellpadding="0" bgcolor="#4C6C8F">
<tr>
<td colspan="3"><img height="10" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td><img height="1" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td nowrap="nowrap"><input value="forrest.apache.org" name="as_sitesearch" type="hidden"><input size="15" name="as_q" id="query" type="text"><img height="1" width="5" alt="" src="../skin/images/spacer.gif" class="spacer"><input name="Search" value="Search" type="submit">
<br>
<font face="Arial, Helvetica, Sans-serif" size="2" color="white">
                          the Apache Forrest site
                          
                          
                        </font></td><td><img height="1" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td><img alt="" border="0" height="10" width="9" src="../skin/images/search-left.gif"></td><td><img height="1" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td><img alt="" border="0" height="10" width="9" src="../skin/images/search-right.gif"></td>
</tr>
</table>
</form>
</td>
<!--================= end Search ==================--><td bgcolor="#294563"><img height="10" width="10" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td valign="bottom" bgcolor="#294563" colspan="2">
<!--================= start Tabs ==================-->
<div class="tab">
<table summary="tab bar" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="6"><img alt="" height="8" width="6" src="../skin/images/spacer.gif"></td><td valign="bottom">
<table summary="non selected tab" style="height: 1.6em" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="../skin/images/tab-left.gif"></td><td valign="middle" bgcolor="#B2C4E0"><a class="base-not-selected" href="../index.html">Welcome</a></td><td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="../skin/images/tab-right.gif"></td>
</tr>
<tr>
<td colspan="3" height="1"></td>
</tr>
</table>
</td><td width="6"><img alt="" height="8" width="6" src="../skin/images/spacer.gif"></td><td valign="bottom">
<table summary="non selected tab" style="height: 1.6em" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="../skin/images/tab-left.gif"></td><td valign="middle" bgcolor="#B2C4E0"><a class="base-not-selected" href="../contrib.html">Project</a></td><td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="../skin/images/tab-right.gif"></td>
</tr>
<tr>
<td colspan="3" height="1"></td>
</tr>
</table>
</td><td width="6"><img alt="" height="8" width="6" src="../skin/images/spacer.gif"></td><td valign="bottom">
<table summary="selected tab" style="height: 1.8em" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="5" bgcolor="#4C6C8F"><img height="5" width="5" alt="" src="../skin/images/tabSel-left.gif"></td><td valign="middle" bgcolor="#4C6C8F"><font color="#ffffff" size="2" face="Arial, Helvetica, Sans-serif"><b><a class="base-selected" href="../docs/your-project.html">Documentation</a></b></font></td><td valign="top" width="5" bgcolor="#4C6C8F"><img height="5" width="5" alt="" src="../skin/images/tabSel-right.gif"></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<!--================= end Tabs ==================-->
</td><td bgcolor="#294563"></td>
</tr>
<tr>
<td height="10" bgcolor="#4C6C8F" colspan="4">
<div class="level2tab">
<a class="base-selected" href="../docs/your-project.html">Core</a>&nbsp;|&nbsp;<a class="base-selected" href="../docs/forrestbot.html">ForrestBot</a>&nbsp;|&nbsp;<a class="base-selected" href="../docs/forrestbar.html">ForrestBar</a>
</div>
</td>
</tr>
</table>
<!--================= end Banner ==================-->
<!--================= start Menu, NavBar, Content ==================-->
<table summary="page content" bgcolor="#ffffff" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top">
<table summary="menu" border="0" cellspacing="0" cellpadding="0">
<tr>
<!--================= start left top NavBar ==================-->
<td rowspan="3" valign="top">
<table summary="blue line" border="0" cellpadding="0" cellspacing="0">
<tr>
<td bgcolor="#294563"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td bgcolor="#CFDCED"><font color="#4C6C8F" size="4" face="Arial, Helvetica, Sans-serif">&nbsp;</font></td>
</tr>
<tr>
<td bgcolor="#294563"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
</table>
</td>
<!--================= end left top NavBar ==================--><td bgcolor="#294563"><img width="1" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td valign="bottom" bgcolor="#4C6C8F"><img width="10" height="10" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td nowrap="nowrap" valign="top" bgcolor="#4C6C8F">
<!--================= start Menu items ==================-->
<div class="menu">
<ul>
<li>
<font color="#CFDCED">Documentation</font>
<ul>
    
<li>
<a href="../docs/your-project.html">Using Forrest</a>
</li>
    
<li>
<a href="../docs/validation.html">XML Validation</a>
</li>
    
<li>
<a href="../docs/linking.html">Menus and Linking</a>
</li>
    
<li>
<a href="../docs/searching.html">Searching</a>
</li>
    
<li>
<a href="../docs/skin-package.html">Skin Packages</a>
</li>
    
    
<li>
<a href="../docs/forrest-contract.html">Our Contract</a>
</li>
    
<li>
<a href="../docs/compliance.html">Standards Compliance</a>
</li>
   
    
    
<li>
<font color="#CFDCED">Advanced Topics</font>
<ul>
      
<li>
<a href="../docs/catalog.html">Using DTD Catalogs</a>
</li>
      
<li>
<a href="../docs/sitemap-ref.html">Sitemap Reference</a>
</li>
      
<li>
<a href="../docs/cap.html">Sourcetype Action</a>
</li>
    
</ul>
</li>
    
    
<li>
<font color="#CFDCED">Upgrading</font>
<ul>
      
<li>
<span class="sel"><font color="#ffcc00">Upgrading to 0.6</font></span>
</li>
      
<li>
<a href="../docs/upgrading_05.html">Upgrading to 0.5</a>
</li>
    
</ul>
</li>
  
</ul>
</li>
<li>
<font color="#CFDCED">SubProjects</font>
<ul>
    
<li>
<a href="../docs/forrestbar.html">ForrestBar</a>
</li>
    
<li>
<a href="../docs/forrestbot.html">Forrestbot</a>
</li>
  
</ul>
</li>
<li>
<font color="#CFDCED">References</font>
<ul>
    
<li>
<font color="#CFDCED">DTD documentation</font>
<ul>
        
<li>
<a href="../docs/dtd-docs.html">index</a>
</li>
        
<li>
<a href="../docs/document-v12.dtdx.html">document-v12</a>
</li>
        
<li>
<a href="../docs/howto-v12.dtdx.html">howto-v12</a>
</li> 
        
<li>
<a href="../docs/faq-v12.dtdx.html">faq-v12</a>
</li>           
    
</ul>
</li>
    
<li>
<a href="../docs/document-v12.html">document-v12</a>
</li>
    
<li>
<a href="../docs/wiki-sample.html">Wiki Reference</a>
</li>
    
<li>
<a href="../docs/oowriter.html">OpenOffice Writer</a>
</li>    
 
</ul>
</li>
<li>
<font color="#CFDCED">Older Docs</font>
<ul>
    
<li>
<a href="../docs/primer.html">Forrest Primer</a>
</li>
    
<li>
<a href="../docs/libre-intro.html">Libre</a>
</li>
    
<li>
<a href="../docs/dreams.html">Dream list</a>
</li>
  
</ul>
</li>
</ul>
</div>
<!--================= end Menu items ==================-->
</td><td valign="bottom" bgcolor="#4C6C8F"><img width="10" height="10" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td bgcolor="#294563"><img width="1" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td valign="bottom" align="left" colspan="2" rowspan="2" bgcolor="#4C6C8F"><img height="10" width="10" border="0" alt="" src="../skin/images/menu-left.gif"></td><td bgcolor="#4C6C8F"><img height="10" width="10" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td valign="bottom" align="right" colspan="2" rowspan="2" bgcolor="#4C6C8F"><img height="10" width="10" border="0" alt="" src="../skin/images/menu-right.gif"></td>
</tr>
<tr>
<td height="1" bgcolor="#294563"><img width="1" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
</table>
</td><td valign="top" width="100%">
<table summary="content" width="100%" border="0" cellpadding="0" cellspacing="0">
<!--================= start middle NavBar ==================-->
<tr>
<td colspan="4" bgcolor="#294563"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td align="left" width="10" bgcolor="#CFDCED"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td align="left" width="50%" bgcolor="#CFDCED"><font color="#4C6C8F" size="3" face="Arial, Helvetica, Sans-serif">
                &nbsp;
                
                </font><img width="10" height="8" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td align="right" width="50%" bgcolor="#CFDCED"><font color="#4C6C8F" size="3" face="Arial, Helvetica, Sans-serif">
                &nbsp;
                
                </font><img width="10" height="8" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td width="10" bgcolor="#CFDCED"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td colspan="4" bgcolor="#294563"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<!--================= end middle NavBar ==================-->
<!--================= start Content==================-->
<tr>
<td align="left" width="10"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td colspan="2" align="left" width="100%">
<div class="content">
<table class="title" summary="">
<tr>
<td valign="middle">
<h1>Upgrading to Forrest 0.6</h1>
</td><td nowrap="nowrap" width="40" align="center"><a class="dida" href="upgrading_06.pdf"><img alt="PDF" src="../skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a></td>
</tr>
</table>
<ul class="minitoc">
<li>
<a href="#Introduction">Introduction</a>
</li>
<li>
<a href="#New+Features">New Features</a>
</li>
<li>
<a href="#Run+a+clean+target+after+upgrade">Run a clean target after upgrade</a>
</li>
<li>
<a href="#copyless">Copyless</a>
</li>
<li>
<a href="#skin-config-1">Private skins might need changes to document2html.xsl</a>
</li>
<li>
<a href="#antproxy">forrest.antproxy.xml is obsolete in favor of Ant's &lt;import&gt; task</a>
</li>
<li>
<a href="#ehtml">Deprecation of .ehtml</a>
</li>
<li>
<a href="#forrestbot">New forrestbot</a>
</li>
<li>
<a href="#catalog">SystemIdentifiers for DTDs changed to forrest.apache.org</a>
</li>
<li>
<a href="#To+be+continued...">To be continued...</a>
</li>
</ul> 
    
<a name="N10010"></a><a name="Introduction"></a>
<h3>Introduction</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
      This page describes changes to Forrest that affect people who are
      upgrading from 0.4 and earlier to the 0.6 version.
      Please post your upgrade experiences to either the
      <a href="../mail-lists.html#forrest-dev">forrest-dev</a> or
      <a href="../mail-lists.html#forrest-user">forrest-user</a>
      mailing lists.
      As more experience is gained, this document will be updated.  
      </p>
<p>
      See also the notes for the
      <a href="../docs/upgrading_05.html">previous</a> upgrade.
      </p>
</div>

    
<a name="N10029"></a><a name="New+Features"></a>
<h3>New Features</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        The following list shows some of the key new features for Forrest 0.6
        (for the full list of changes, see the
        <a href="../changes.html">change log</a>).
      </p>
<ul>
        
<li>copyless</li>
        
<li>SVN</li>
        
<li>skinconf DTD</li>
      
</ul>
</div>

    
<a name="N10043"></a><a name="Run+a+clean+target+after+upgrade"></a>
<h3>Run a clean target after upgrade</h3>
<div style="margin-left: 0 ; border: 2px">
<p>To avoid any issue with old classes being loaded, run a
       '<span class="codefrag">forrest clean</span>' just after you upgraded to this version.</p>
</div>

    
<a name="N10050"></a><a name="copyless"></a>
<h3>Copyless</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
      In essence, Forrest does not create a dist anymore, and uses 
      itself in place. No more useless copying to a separate build space,
      no more backcopying bugfixes, all is used live.
      It improves the build process a lot.
      </p>
<p>
      To use the new Forrest, launch "build" as you always have done,
      and then change FORREST_HOME to point to [forrest]/src/core instead of 
      .../build/dist/shbat. Also make sure PATH gets updated to use the new 
      $FORREST_HOME/bin
      </p>
</div>

    
<a name="N1005D"></a><a name="skin-config-1"></a>
<h3>Private skins might need changes to document2html.xsl</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
      Moved all references to //skinconfig out of the document2html.xsl
      into the site2xhtml.xsl file. If you have your own skins that were
      referencing "$config" or "//skinconfig" in the document2html.xsl
      then you need to make similar changes.
      For further information, see Issue
      <a class="external" href="http://issues.cocoondev.org/jira/secure/ViewIssue.jspa?key=FOR-146">FOR-146</a>.
      </p>
</div>
    
    
<a name="N1006B"></a><a name="antproxy"></a>
<h3>forrest.antproxy.xml is obsolete in favor of Ant's &lt;import&gt; task</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
      Ant projects that use <span class="codefrag">forrest.antproxy.xml</span> to invoke Forrest will recieve
      an error message directing them to this document.  Please see the <a href="../docs/your-project.html#invoking_from_ant">Invoking
      Forrest from Ant</a> documentation for instructions on how to use the &lt;import&gt; task.
      </p>
</div>
    
    
<a name="N1007C"></a><a name="ehtml"></a>
<h3>Deprecation of .ehtml</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
      The .ehtml input file format has been deprecated and will likely be removed in the next release.
      Please convert all .ehtml files to .ihtml.
      If you do <span class="codefrag">forrest seed</span> there is a sample ihtml file.
      </p>
</div>
    
    
<a name="N10089"></a><a name="forrestbot"></a>
<h3>New forrestbot</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
      The forrestbot and the forrestbot web interface have been completely rewritten.  There is no
      direct way to convert old configurations to new configurations.  Please see the <a href="../docs/forrestbot.html">forrestbot
      documentation</a> for instructions to create buildfiles that work with the new forrestbot.
      </p>
</div>
    
    
<a name="N10097"></a><a name="catalog"></a>
<h3>SystemIdentifiers for DTDs changed to forrest.apache.org</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        Everyone should still continue to use the
        <a href="../docs/catalog.html">Catalog Entity Resolver</a>
        and that certainly still operates at the core of Forrest using the
        well-defined PublicIdentifiers.
        However, some impoverished XML tools do not, so they need to be able
        to get the DTDs from the website. Some other tools rely on the System
        Identifier rather than the Public Identifer. See Forrest Issue
        <a class="external" href="http://issues.cocoondev.org/jira/secure/ViewIssue.jspa?key=FOR-107">FOR-107</a>.
      </p>
<p>
        In previous versions of Forrest, and maybe in your application if
        you copied the fresh-site xdocs, there were inconsistent
        SystemIdentifiers. Some used local filenames, others used
        apache.org/forrest/dtd/ URIs. In v0.6 we changed to use
        System Identifiers at forrest.apache.org/dtd/ as resource URLs.
        You do not need to change them becaus eyou are using the entity
        resolver, but to remain consistent, it probably is best.
      </p>
<p>
        Beware if you have a catalog where the mapping is not declared properly.
        The Catalog Entity Resolver will miss the local mapping and happily
        go to the network to get the DTDs. That would cause Forrest to appear
        to be slow for you, yet it will still operate properly. While we are
        on that topic, if you use the XSLT document() function - there is a 
        <a class="external" href="http://issues.apache.org/bugzilla/show_bug.cgi?id=28341">Xalan bug 28341</a>
        for DTD resolution via document() - please help to fix it.
      </p>
</div>

<!-- local-catalog ... CatalogManager.properties
plus status.xml
plus FAQ about CatalogManager.properties not found.
-->

    
<a name="N100B5"></a><a name="To+be+continued..."></a>
<h3>To be continued...</h3>
<div style="margin-left: 0 ; border: 2px">
<p>...as more issues are discovered/remembered :)  Please send feedback
      to the
      <a href="../mail-lists.html#forrest-dev">mailing list</a>.</p>
</div>
  
<div class="attribution">
<span class="version">$Revision$</span>
</div>
</div>
</td><td width="10"><img width="10" height="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<!--================= end Content==================-->
</table>
</td>
</tr>
</table>
<!--================= end Menu, NavBar, Content ==================-->
<!--================= start Footer ==================-->
<table summary="footer" cellspacing="0" cellpadding="0" width="100%" border="0">
<tr>
<td colspan="2" height="1" bgcolor="#4C6C8F"><img height="1" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"><a href="../skin/images/label.gif"></a><a href="../skin/images/page.gif"></a><a href="../skin/images/chapter.gif"></a><a href="../skin/images/chapter_open.gif"></a><a href="../skin/images/current.gif"></a></td>
</tr>
<tr>
<td colspan="2" bgcolor="#CFDCED" class="copyright" align="center"><font size="2" face="Arial, Helvetica, Sans-Serif"><a href="http://www.apache.org/licenses/LICENSE-2.0">
              Copyright &copy; 2002-2004&nbsp;
              The Apache Software Foundation.</a>
          All rights reserved.
          <script type="text/javascript" language="JavaScript"><!--
              document.write(" - "+"Last Published: " + document.lastModified);
            //  --></script></font></td>
</tr>
<tr>
<td colspan="2" align="left" bgcolor="#CFDCED" class="logos"></td>
</tr>
</table>
<!--================= end Footer ==================-->
</body>
</html>
