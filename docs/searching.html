<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Searching Forrest-built documentation</title>
<link rel="stylesheet" href="../skin/page.css" type="text/css">
<link rel="stylesheet" href="../skin/forrest.css" type="text/css">
<link rel="shortcut icon" href="../favicon.ico">
<script type="text/javascript" language="javascript" src="../skin/fontsize.js"></script><script type="text/javascript" language="javascript" src="../skin/menu.js"></script>
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<table class="header" cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td>
<div class="headerlogo">
<a href="http://www.apache.org/"><img alt="Apache" class="logoImage" src="../images/apache-forrest.png"></a>
</div>
</td><td align="center">
<div class="headerlogo">
<a href="http://forrest.apache.org/"><img alt="Forrest" class="logoImage" src="../images/project-logo.gif"></a>
</div>
</td><td class="search" align="right" rowspan="2" valign="top">
<form method="get" action="http://www.google.com/search" target="_blank">
<table class="dialog" cellspacing="0" cellpadding="0" border="0">
<tr>
<td colspan="3" class="border" height="10"></td>
</tr>
<tr>
<td colspan="3" height="8"></td>
</tr>
<tr>
<td></td><td nowrap="nowrap"><input type="hidden" name="as_sitesearch" value="forrest.apache.org"><input type="text" id="query" name="as_q" size="15">
			&nbsp;
			<input type="submit" value="Search" name="Search">
<br>
			the Apache Forrest site
			
			
		      </td><td></td>
</tr>
<tr>
<td colspan="3" height="7"></td>
</tr>
<tr>
<td class="search border bottom-left SBBL"></td><td class="search border bottomborder"></td><td class="search border bottom-right SBBR"></td>
</tr>
</table>
</form>
</td><td align="right" width="10" height="10"><span class="textheader">Forrest</span></td>
</tr>
<tr>
<td colspan="4" class="tabstrip">
<table class="tab" cellspacing="0" cellpadding="0" border="0">
<tr>
<td class="tab pre-separator"></td><td>
<table cellspacing="0" cellpadding="0" border="0">
<tr>
<td class="tab unselected top-left TUTL"></td><td class="tab unselected corner"><a class="base-not-selected" href="../index.html">Welcome</a></td><td class="tab unselected top-right TUTR"></td>
</tr>
<tr>
<td colspan="3" class="spacer"></td>
</tr>
</table>
</td><td class="tab separator"></td><td>
<table cellspacing="0" cellpadding="0" border="0">
<tr>
<td class="tab unselected top-left TUTL"></td><td class="tab unselected corner"><a class="base-not-selected" href="../contrib.html">Project</a></td><td class="tab unselected top-right TUTR"></td>
</tr>
<tr>
<td colspan="3" class="spacer"></td>
</tr>
</table>
</td><td class="tab separator"></td><td class="tab selected top-left TSTL"></td><td class="tab selected"><a class="base-selected" href="../docs/your-project.html">Documentation</a></td><td class="tab selected top-right TSTR"></td><td class="tab separator"></td><td>
<table cellspacing="0" cellpadding="0" border="0">
<tr>
<td class="tab unselected top-left TUTL"></td><td class="tab unselected corner"><a class="base-not-selected" href="../howto/index.html">How-To</a></td><td class="tab unselected top-right TUTR"></td>
</tr>
<tr>
<td colspan="3" class="spacer"></td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="2" class="level2tabstrip">
<table class="level2tab" cellspacing="0" cellpadding="0" border="0">
<tr>
<td><td class="tab pre-separator"></td><td class="level2tab selected"><a class="base-selected" href="../docs/your-project.html">Core</a></td><td class="level2tab separator">|</td><td class="level2tab selected"><a class="base-selected" href="../docs/forrestbot.html">ForrestBot</a></td><td class="level2tab separator">|</td><td class="level2tab selected"><a class="base-selected" href="../docs/forrestbar.html">ForrestBar</a></td></td>
</tr>
</table>
</td><td colspan="2" class="datenote level2tabstrip">
<div class="published">
<script language="JavaScript" type="text/javascript"><!--
              document.write("Published: " + document.lastModified);
              //  --></script>
</div>
</td>
</tr>
</table>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td valign="top">
<table cellpadding="0" cellspacing="0" class="menuarea">
<tr>
<td valign="top" width="6px">
<table class="leftpagemargin" cellspacing="0" cellpadding="0" border="0">
<tr>
<td class="subborder trail">&nbsp;</td>
</tr>
</table>
</td><td class="dialog">
<div class="menu">
<div class="menutitle" id="menu_selected_1.1Title" onclick="SwitchMenu('menu_selected_1.1')">Documentation</div>
<div class="selectedmenuitemgroup" id="menu_selected_1.1">
<div class="menuitem">
<a href="../docs/your-project.html">Using Forrest</a>
</div>
<div class="menuitem">
<a href="../docs/validation.html">XML Validation</a>
</div>
<div class="menuitem">
<a href="../docs/linking.html">Menus and Linking</a>
</div>
<div class="menupage">
<div class="menupagetitle">Searching</div>
</div>
<div class="menuitem">
<a href="../docs/skins.html">Default Skins</a>
</div>
<div class="menuitem">
<a href="../docs/skin-package.html">Skin Packages</a>
</div>
<div class="menuitem">
<a href="../docs/forrest-contract.html">Our Contract</a>
</div>
<div class="menuitem">
<a href="../docs/compliance.html">Standards Compliance</a>
</div>
<div class="menutitle" id="menu_1.1.9Title" onclick="SwitchMenu('menu_1.1.9')">Advanced Topics</div>
<div class="menuitemgroup" id="menu_1.1.9">
<div class="menuitem">
<a href="../docs/catalog.html">Using DTD Catalogs</a>
</div>
<div class="menuitem">
<a href="../docs/sitemap-ref.html">Sitemap Reference</a>
</div>
<div class="menuitem">
<a href="../docs/cap.html">Sourcetype Action</a>
</div>
</div>
<div class="menutitle" id="menu_1.1.10Title" onclick="SwitchMenu('menu_1.1.10')">Upgrading</div>
<div class="menuitemgroup" id="menu_1.1.10">
<div class="menuitem">
<a href="../docs/upgrading_06.html">Upgrading to 0.6</a>
</div>
<div class="menuitem">
<a href="../docs/upgrading_05.html">Upgrading to 0.5</a>
</div>
</div>
</div>
<div class="menutitle" id="menu_1.2Title" onclick="SwitchMenu('menu_1.2')">SubProjects</div>
<div class="menuitemgroup" id="menu_1.2">
<div class="menuitem">
<a href="../docs/forrestbar.html">ForrestBar</a>
</div>
<div class="menuitem">
<a href="../docs/forrestbot.html">Forrestbot</a>
</div>
<div class="menuitem">
<a href="../docs/forrestbot-web-interface.html">Forrestbot Webapp</a>
</div>
</div>
<div class="menutitle" id="menu_1.3Title" onclick="SwitchMenu('menu_1.3')">Reference docs</div>
<div class="menuitemgroup" id="menu_1.3">
<div class="menutitle" id="menu_1.3.1Title" onclick="SwitchMenu('menu_1.3.1')">DTD documentation</div>
<div class="menuitemgroup" id="menu_1.3.1">
<div class="menuitem">
<a href="../docs/dtd-docs.html">index</a>
</div>
<div class="menuitem">
<a href="../docs/document-v13.dtdx.html">document-v13</a>
</div>
<div class="menuitem">
<a href="../docs/howto-v13.dtdx.html">howto-v13</a>
</div>
<div class="menuitem">
<a href="../docs/faq-v13.dtdx.html">faq-v13</a>
</div>
</div>
<div class="menuitem">
<a href="../docs/document-v13.html">document-v13</a>
</div>
<div class="menuitem">
<a href="../docs/wiki-sample.html">Wiki Reference</a>
</div>
<div class="menuitem">
<a href="../docs/oowriter.html">OpenOffice Writer</a>
</div>
</div>
<div class="menutitle" id="menu_1.4Title" onclick="SwitchMenu('menu_1.4')">Older Docs</div>
<div class="menuitemgroup" id="menu_1.4">
<div class="menuitem">
<a href="../docs/primer.html">Forrest Primer</a>
</div>
<div class="menuitem">
<a href="../docs/libre-intro.html">Libre</a>
</div>
<div class="menuitem">
<a href="../docs/dreams.html">Dream list</a>
</div>
</div>
</div>
</td>
</tr>
<tr>
<td></td><td>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td class="border bottom-left"></td><td class="border bottomborder"></td><td class="border bottom-right"></td>
</tr>
</table>
</td>
</tr>
<tr>
<td height="10" colspan="2"></td>
</tr>
</table>
</td><td valign="top" width="100%">
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td class="subborder trail">
	         &nbsp;<a href="http://www.apache.org/">apache</a> &gt; <a href="http://forrest.apache.org/">forrest</a><script type="text/javascript" language="JavaScript" src="../skin/breadcrumbs.js"></script>&nbsp;
          </td><td class="subborder trail" align="right" nowrap="nowrap">
	        Font size: 
	          &nbsp;<input type="button" onclick="ndeSetTextSize('reset'); return false;" title="Reset text" class="resetfont" value="Reset">      
	          &nbsp;<input type="button" onclick="ndeSetTextSize('decr'); return false;" title="Shrink text" class="smallerfont" value="-a">
	          &nbsp;<input type="button" onclick="ndeSetTextSize('incr'); return false;" title="Enlarge text" class="biggerfont" value="+a"></td>
</tr>
<tr>
<td align="left" colspan="2">
<div class="content">
<table class="title">
<tr>
<td valign="middle">
<h1>Searching Forrest-built documentation</h1>
</td><td align="center" width="40" nowrap="nowrap"><a href="searching.pdf" class="dida"><img class="skin" src="../skin/images/pdfdoc.gif" alt="PDF"><br>
        PDF</a></td>
</tr>
</table>
<ul class="minitoc">
<li>
<a href="#Google+SiteSearch">Google SiteSearch</a>
</li>
<li>
<a href="#Lucene+search">Lucene search</a>
</li>
<li>
<a href="#Disabling+full-text+search">Disabling full-text search</a>
</li>
</ul>
    
<p>Forrest provides you with two distinct options for making your
      documentation available through full-text search:</p>
    
<ul>
      
<li>Google SiteSearch,</li>
      
<li>Built-in search using Apache Lucene.</li>
    
</ul>
    
<p>Both options have their advantages and disadvantages. The
      purpose of this document is to outline them, and to help you
      make a choice. This document also tells you how to disable
      full-text search completely, if you so choose.</p>
    
<a name="d1037e27"></a><a name="Google+SiteSearch"></a>
<h3 class="h3">Google SiteSearch</h3>
<div class="section">
      
      
<p>Forrest provides a simple interface to the Google search
	engine. It invokes Google Advanced Search and limits the search
	scope to the domain of your choice. Since the actual search
	functionality is implemented on Google's end, you do not need
	any additional capability on your Forrest server (which may
	well be a simple static web server serving content generated
	with <span class="codefrag">forrest site</span>).</p>
      
<p>To use Google SiteSearch in your Forrest application, open
	your <span class="codefrag">skinconf.xml</span> file. By default this file is
	in the <span class="codefrag">src/documentation</span> subdirectory of your
	Forrest repository root. Find the <span class="codefrag">&lt;search&gt;</span>
	element; it should be near the top of the file. If the element
	does not exist, create it below the
	<span class="codefrag">&lt;skinconfig&gt;</span> opening tag. If there is any
	attribute named <span class="codefrag">provider</span>, remove it. The element
	should look similar to this:</p>
      
<pre class="code">&lt;search name="MyProject"
	domain="myproject.com"/&gt;</pre>
      
<p>Then, build your Forrest documentation and open it using your
	favorite web browser. You are now invited to peruse the search
	box (most skins render this in the top-right corner). Google's
	search results will be displayed in a new browser window.</p>
      
<p>Needless to say, for this to work your content must be
	accessible to Google's indexing robot. It can't be stored on a
	server which is only locally accessible, or which requires
	authentication. In addition, the content index is created and
	updated at a time of Google's choosing. However, the search is fast
	and search precision is usually excellent. So if your
	Forrest content is placed on a busy, popular public web
	server, Google search is probably the best choice.</p>
    
</div>
    
<a name="d1037e66"></a><a name="Lucene+search"></a>
<h3 class="h3">Lucene search</h3>
<div class="section">
      
      
<p>Lucene is a high-performance, full-text search engine built
	entirely in Java. To use Lucene-based search with your Forrest
	documentation, you will need to run Forrest in a Java servlet
	environment (such as Tomcat or Jetty). Lucene-based searching
	will not work in a static site generated with the '<span class="codefrag">forrest
	  site</span>' command.</p>
      
<p>In order to enable Lucene-based full-text search in your
	Forrest application, you must first edit your
	<span class="codefrag">skinconf.xml</span> file. Locate the
	<span class="codefrag">&lt;search&gt;</span> element. If the element does not
	exist, insert it right underneath the
	<span class="codefrag">&lt;skinconfig&gt;</span> opening tag. Add an attribute
	named <span class="codefrag">provider</span> with a value of
	<span class="codefrag">lucene</span>, so that the element looks similar to
	this:</p>
      
<pre class="code">&lt;search name="MyProject" domain="myproject.com"
	provider="lucene"/&gt;</pre>
      
<p>Next, create and run your Forrest webapp. This may mean
	simply invoking <span class="codefrag">forrest run</span>, or building and
	bundling a servlet webapp (with <span class="codefrag">forrest webapp</span>),
	and then deploying it to your servlet container.</p>
      
<p>You can now build a Lucene search index by pointing your web
	browser at
	<span class="codefrag">http://localhost:8888/lucene-update.html</span>. This
	generates the search index and provides some information about
	the index generation process.</p>
      
<div class="frame note">
<div class="label">Note</div>
<div class="content">You may have to substitute a different hostname, port, or
	path, depending on your configuration. The path mentioned here
	reflects Forrest's default settings when invoked as
	<span class="codefrag">forrest run</span>.</div>
</div>
      
<p>Now you can utilize the full-text search box, located in the
	top-right corner of the rendered Forrest pages. Search results
	will be displayed in the same browser window and will look
	remarkably similar to the rest of your Forrest documents.</p>
      
<p>Unlike with Google SiteSearch, the indexing information
	retrieved by Lucene is stored on your own server, access to
	which you may limit to users in your own organization.
	Likewise, you may update or recreate the Lucene index at any
	time and at your own discretion. So if you aren't making your
	Forrest-built documentation publicly available, and you're
	able to run Forrest on a Java-enabled web server, Lucene
	search is probably right for you.</p>
    
</div>
    
<a name="d1037e126"></a><a name="Disabling+full-text+search"></a>
<h3 class="h3">Disabling full-text search</h3>
<div class="section">
      
      
<p>If you are convinced your users don't need any full-text
	search capability whatsoever, you may disallow displaying the
	search box entirely. You may also wish to do so if you're
	keeping Forrest-built content on a restricted server (meaning
	you can't use Google), while at the same time not having any
	usable servlet-capable web server at your disposal (meaning
	you can't use Lucene, either).</p>
      
<p>To disable full-text search completely, open the
	<span class="codefrag">skinconf.xml</span> file and remove (or comment out) the
	entire <span class="codefrag">&lt;search&gt;</span> element.</p>
    
</div>
  
</div>
</td>
</tr>
</table>
</td>
</tr>
</table>
<table>
<tr>
<td>
<br>
<br>
</td>
</tr>
</table>
<table class="footer">
<tr>
<td width="90%" align="center" colspan="2"><span class="footnote"><a href="http://www.apache.org/licenses/">
                Copyright &copy; 2002-2004&nbsp;
                The Apache Software Foundation.</a>
            All rights reserved.
            <br>
<script language="JavaScript" type="text/javascript"><!--
              document.write(" - "+"Last Published: " + document.lastModified);
              //  --></script></span></td><td class="logos" align="right" nowrap="nowrap"></td>
</tr>
</table>
</body>
</html>
