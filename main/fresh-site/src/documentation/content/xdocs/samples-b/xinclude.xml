<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN" "http://forrest.apache.org/dtd/document-v20.dtd">
<document xmlns:xi="http://www.w3.org/2001/XInclude">
  <header>
    <title>XInclude Example</title>
  </header>
  <body>
    <section>
      <title>Introduction</title>
      <p>
        One xml file can include content from other xml files using
        <a href="http://www.w3.org/TR/xinclude/">XInclude</a> "XML Inclusions".
      </p>
      <p>
        To understand how this is handled internally, see the
        <code>main/webapp/sitemap.xmap</code> and search for xinclude.
        It uses the <a href="http://cocoon.apache.org/2.1/userdocs/xinclude-transformer.html">Apache Cocoon XInclude Transformer</a>.
      </p>
      <p>
        The following sections are included from other files.
        Section 1 (the whole section) is included from the xinclude-explanation.xml file. 
        Section 2 (the whole section) is included from the xinclude-input-sec2.xml file. 
        Section 3 (just the "p" elements) are included from the xinclude-input-sec3.xml file using "xpointer".
	Section 4 (just the text) is included from the xinclude-input-sec4.txt file. 
	Section 5 (the first "tr" and containing "td") is included from the xinclude-input-sec5.xml file.
      </p>
      <p>
        Using XInclude in the "site.xml" configuration is also demonstrated.
      </p>
    </section>
    <xi:include href="cocoon://samples-b/xinclude-explanation.xml"/>
    <xi:include href="cocoon://samples-b/xinclude-input-sec2.xml"/>
    <section>
      <title>Section 3</title>
      <xi:include href="cocoon://samples-b/xinclude-input-sec3.xml"
        xpointer="xpointer(/section/p)"/>
    </section>
    <section>
      <title>Section 4</title>
      <source><xi:include parse="text" href="cocoon://samples-b/xinclude-input-sec4.txt"/></source>
    </section>
    <section>
      <title>Section 5</title>
      <table>
        <xi:include href="cocoon://samples-b/xinclude-input-sec5.xml"/>
        <tr>
    	  <td>This <![CDATA[<tr>]]> and <![CDATA[<td>]]> are native to this file</td>
	</tr>
      </table>
    </section>
  </body>
</document>
