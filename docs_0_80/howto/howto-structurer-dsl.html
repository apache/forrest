<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.8-dev">
<meta name="Forrest-skin-name" content="pelt">
<title>How to use the structurer (v0.8-dev)</title>
<link type="text/css" href="../../skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="../../skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="../../skin/print.css" rel="stylesheet">
<link type="text/css" href="../../skin/profile.css" rel="stylesheet">
<script src="../../skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="../../skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="../../skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="../../favicon.ico">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
<a href="http://www.apache.org/">apache</a> &gt; <a href="http://forrest.apache.org/">forrest</a><script src="../../skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script>
</div>
<!--+
    |header
    +-->
<div class="header">
<!--+
    |start group logo
    +-->
<div class="grouplogo">
<a href="http://www.apache.org/"><img class="logoImage" alt="Apache" src="../../images/apache-forrest.png" title="The Apache Software Foundation"></a>
</div>
<!--+
    |end group logo
    +-->
<!--+
    |start Project Logo
    +-->
<div class="projectlogo">
<a href="http://forrest.apache.org/"><img class="logoImage" alt="Forrest" src="../../images/project-logo.gif" title="Apache Forrest"></a>
</div>
<!--+
    |end Project Logo
    +-->
<!--+
    |start Search
    +-->
<div class="searchbox">
<form action="http://www.google.com/search" method="get" class="roundtopsmall">
<input value="forrest.apache.org" name="sitesearch" type="hidden"><input onFocus="getBlank (this, 'Search the site with google');" size="25" name="q" id="query" type="text" value="Search the site with google">&nbsp; 
                    <input name="Search" value="Search" type="submit">
</form>
</div>
<!--+
    |end search
    +-->
<!--+
    |start Tabs
    +-->
<ul id="tabs">
<li>
<a class="base-not-selected" href="../../index.html">Welcome</a>
</li>
<li>
<a class="base-not-selected" href="../../contrib.html">Project</a>
</li>
<li>
<a class="base-not-selected" href="../../versions/index.html">Versioned Docs</a>
</li>
<li>
<a class="base-not-selected" href="../../pluginDocs/index.html">Plugins</a>
</li>
<li>
<a class="base-not-selected" href="../../tools/index.html">Tools</a>
</li>
</ul>
<!--+
    |end Tabs
    +-->
</div>
</div>
<div id="main">
<div id="publishedStrip">
<!--+
    |start Subtabs
    +-->
<div id="level2tabs"></div>
<!--+
    |end Endtabs
    +-->
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
             
             &nbsp;
           </div>
<!--+
    |start Menu, mainarea
    +-->
<!--+
    |start Menu
    +-->
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', '../../skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('../../skin/images/chapter_open.gif');">0.80-dev</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="../../docs_0_80/index.html">Overview</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/faq.html">FAQs</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/changes.html">Changes</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/todo.html">Todo</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/your-project.html">Using Forrest</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/locationmap.html">Locationmap</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/validation.html">XML Validation</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/linking.html">Menus and Linking</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/searching.html">Searching</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/skins.html">Default Skins</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/skin-package.html">Skin Packages</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/dispatcher.html">Dispatcher development</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/forrest-contract.html">Our Contract</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/compliance.html">Standards Compliance</a>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.15', '../../skin/')" id="menu_selected_1.1.15Title" class="menutitle" style="background-image: url('../../skin/images/chapter_open.gif');">How-To</div>
<div id="menu_selected_1.1.15" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="../../docs_0_80/howto/index.html">Overview</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/howto-howto.html">Write a How-to</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/howto-dev.html">Be a developer</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/howto-asf-mirror.html">Download mirror</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/howto-pdf-tab.html">Create tab PDF</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/howto-editcss.html">Edit CSS (WYSIWYG)</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/howto-corner-images.html">CSS corner SVG</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/howto-forrest-from-maven.html">Maven Integration</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/howto-buildPlugin.html">Build a Plugin</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/howto-custom-html-source.html">Custom html source</a>
</div>
<div onclick="SwitchMenu('menu_1.1.15.11', '../../skin/')" id="menu_1.1.15.11Title" class="menutitle">Multipage HowTo</div>
<div id="menu_1.1.15.11" class="menuitemgroup">
<div class="menuitem">
<a href="../../docs_0_80/howto/multi/howto-multi.html">Introduction</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/multi/step1.html">Step 1</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/multi/step2.html">Step 2</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/multi/step3.html">Step 3</a>
</div>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.15.12', '../../skin/')" id="menu_selected_1.1.15.12Title" class="menutitle" style="background-image: url('../../skin/images/chapter_open.gif');">Dispatcher</div>
<div id="menu_selected_1.1.15.12" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="../../docs_0_80/howto/howto-structurer-install.html">Install</a>
</div>
<div class="menupage">
<div class="menupagetitle">Structurer</div>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/howto-dispatcher-quickstart.html">Quickstart</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/howto-structurer-contracts.html">Contracts</a>
</div>
</div>
</div>
<div onclick="SwitchMenu('menu_1.1.16', '../../skin/')" id="menu_1.1.16Title" class="menutitle">Advanced Topics</div>
<div id="menu_1.1.16" class="menuitemgroup">
<div class="menuitem">
<a href="../../docs_0_80/build.html">Building Forrest</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/catalog.html">Using DTD Catalogs</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/sitemap-ref.html">Sitemap Reference</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/project-sitemap.html">Project sitemap</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/cap.html">Sourcetype Action</a>
</div>
</div>
<div class="menuitem">
<a href="../../docs_0_80/upgrading_08.html">Upgrading to 0.8</a>
</div>
<div onclick="SwitchMenu('menu_1.1.18', '../../skin/')" id="menu_1.1.18Title" class="menutitle">Reference docs</div>
<div id="menu_1.1.18" class="menuitemgroup">
<div onclick="SwitchMenu('menu_1.1.18.1', '../../skin/')" id="menu_1.1.18.1Title" class="menutitle">DTD documentation</div>
<div id="menu_1.1.18.1" class="menuitemgroup">
<div class="menuitem">
<a href="../../dtdx/dtd-docs.html">Overview</a>
</div>
<div class="menuitem">
<a href="../../dtdx/document-v20.dtdx.html">document-v20</a>
</div>
<div class="menuitem">
<a href="../../dtdx/howto-v20.dtdx.html">howto-v20</a>
</div>
<div class="menuitem">
<a href="../../dtdx/faq-v20.dtdx.html">faq-v20</a>
</div>
<div class="menuitem">
<a href="../../dtdx/document-v13.dtdx.html">document-v13</a>
</div>
<div class="menuitem">
<a href="../../dtdx/howto-v13.dtdx.html">howto-v13</a>
</div>
<div class="menuitem">
<a href="../../dtdx/faq-v13.dtdx.html">faq-v13</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.1.18.2', '../../skin/')" id="menu_1.1.18.2Title" class="menutitle">Doc samples</div>
<div id="menu_1.1.18.2" class="menuitemgroup">
<div class="menuitem">
<a href="../../dtdx/document-v13.html">document-v13</a>
</div>
<div class="menuitem">
<a href="../../dtdx/document-v20.html">document-v20</a>
</div>
</div>
</div>
<div onclick="SwitchMenu('menu_1.1.19', '../../skin/')" id="menu_1.1.19Title" class="menutitle">Older Docs</div>
<div id="menu_1.1.19" class="menuitemgroup">
<div class="menuitem">
<a href="../../docs_0_80/primer.html">Forrest Primer</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/libre-intro.html">Libre</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/dreams.html">Dream list</a>
</div>
<div class="menuitem">
<a href="../../docs_0_80/howto/cvs-ssh/howto-cvs-ssh.html">CVS over SSH</a>
</div>
</div>
</div>
<div id="credit">
<hr>
        This is documentation for development version v0.8
       (<a href="http://forrest.apache.org/versions/">More</a>)</div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="../../skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<!--+
  |alternative credits
  +-->
<div id="credit2"></div>
</div>
<!--+
    |end Menu
    +-->
<!--+
    |start content
    +-->
<div id="content">
<div title="Portable Document Format" class="pdflink">
<a class="dida" href="howto-structurer-dsl.pdf"><img alt="PDF -icon" src="../../skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a>
</div>
<div class="trail">Font size: 
	          &nbsp;<input value="Reset" class="resetfont" title="Reset text" onclick="ndeSetTextSize('reset'); return false;" type="button">      
	          &nbsp;<input value="-a" class="smallerfont" title="Shrink text" onclick="ndeSetTextSize('decr'); return false;" type="button">
	          &nbsp;<input value="+a" class="biggerfont" title="Enlarge text" onclick="ndeSetTextSize('incr'); return false;" type="button">
</div>
<h1>How to use the structurer</h1>
<div class="abstract"> This How-To describes the usage of the structurer config domain 
    specific language to create beautiful websites in no time. </div>
<div id="motd-area">
        This is documentation for development version v0.8
       (<a href="http://forrest.apache.org/versions/">More</a>)</div>
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#Intended Audience">Intended Audience</a>
</li>
<li>
<a href="#Purpose">Purpose</a>
</li>
<li>
<a href="#Prerequisites">Prerequisites</a>
</li>
<li>
<a href="#Steps">Steps</a>
<ul class="minitoc">
<li>
<a href="#emptystructurer">Empty structurer file</a>
</li>
<li>
<a href="#firststructurer">Creating your first structurer</a>
</li>
<li>
<a href="#hookstructurer">Hooks in the structurer</a>
</li>
<li>
<a href="#cssstructurer">CSS in the structurer</a>
</li>
<li>
<a href="#Linking+to+an+external+css+file">Linking to an external css file</a>
</li>
</ul>
</li>
<li>
<a href="#Further Reading">Further Reading</a>
</li>
<li>
<a href="#Feedback">Feedback</a>
</li>
</ul>
</div>
<a name="N10010"></a><a name="Intended Audience"></a>
<h2 class="underlined_10">Intended Audience</h2>
<div class="section">
<div class="warning">
<div class="label">Warning</div>
<div class="content"> The "Dispatcher" (aka "Views") is new functionality which is 
      still in development phase. That is why it is in the "whiteboard" section 
      of the Forrest distribution. This HowTo is a good start but still needs 
      more work. </div>
</div>
<p> This part of the the dispatcher is called the structurer and is 
      dedicated to webdesigner and user with some knowlegde of css. </p>
<div class="note">
<div class="label">Note</div>
<div class="content"> For the moment we will use a special seed template called seed-v2. 
      We still need to fix issues of the dispatcher that it really can replace 
      old fashion skins. Like performance, standalone contracts, other testing 
      output/input formats - using POJO based processing will help solving 
      this. All this will ATM happen in the v2 seed-target till the dispatcher 
      will be realesed to the stable plugins. So make regular updates of your 
      forrest-trunk to keep track. </div>
</div>
<div class="warning">
<div class="label">Warning</div>
<div class="content"> The way we develop contracts will/may change with introduction 
      of java based processing rather then xsl. Please keep this in mind and 
      help updating the documentation by sending patches. TIA. ;-) </div>
</div>
</div>
<a name="N10021"></a><a name="Purpose"></a>
<h2 class="underlined_10">Purpose</h2>
<div class="section">
<p> This how-to will show you how to write a <strong>forrest:view</strong> 
      from the ground up. We will focus on html as the output format. As well 
      it will show how to add your own css implementation to the structurer. 
      </p>
</div>
<a name="N1002C"></a><a name="Prerequisites"></a>
<h2 class="underlined_10">Prerequisites</h2>
<div class="section">
<ul>
      
<li> You have a ready-to-go new seed-v2 (v2) based on the dispatcher like 
        described in <a href="../../docs_0_80/howto/howto-structurer-install.html">Install</a>. </li>
      
<li> Reading that how-to is as well a good idea to understand the used 
        directory structure in this how-to. </li>
      
<li>Installing a mozilla browser and the forrestbar helps a lot in 
        developing.</li>
    
</ul>
</div>
<a name="N10041"></a><a name="Steps"></a>
<h2 class="underlined_10">Steps</h2>
<div class="section">
<div class="note">
<div class="label">Note</div>
<div class="content"> When developing with the dispatcher we assume you are using 'forrest 
      run' and the following workflow "change files -&gt; refresh browser"<br> 
      Installing a mozilla browser and the forrestbar helps a lot in 
      developing. Many instructions assumes that you have the forrestbar 
      installed. </div>
</div>
<p> We developed<strong> the structurer</strong> to let the user decide 
      where to place elements in e.g. html pages. We started this work with the 
      <span class="codefrag">skinconf.xml</span> where you could configure certain elements and 
      their positions. These elements were known under certain names. It was up 
      to the skin designer to support this configuration and the elements. </p>
<p> The work started with grouping elements (the ones from skinconf). We 
      used css-contracts that we added as @attributes e.g. <span class="codefrag">&lt;div id="content-main"/&gt;
       </span>. That made it possible to use the same elements in different 
      skins. For the full list refer to the <a href="http://svn.apache.org/repos/asf/forrest/trunk/main/webapp/skins/leather-dev/contracts.initial.txt"> 
      initial contract list </a> 
</p>
<p> Around this contracts we developed a configuration Domain Specific 
      Language - called <strong>the structurer</strong>. The 
      <strong>structurer</strong> allows us to define the order in which 
      <strong>forrest:contract</strong>s appear, and also to group them using 
      <strong>forrest:hook</strong>s. </p>
<p> 
<strong>forrest:hook</strong>s are containers that are only used for 
      layout reasons. They <strong>do not</strong> add any content nor 
      functionality to the output. They add <strong>only</strong> layout 
      information to the output. Actually e.g. a <span class="codefrag">&lt;forrest:hook name="layoutId"/&gt;
      </span> will be transformed to <span class="codefrag">&lt;div id="layoutId"/&gt; 
      </span> 
</p>
<p> 
<strong>forrest:contract</strong>s are functionality or extra content 
      that a theme can use to display the request. Sometimes a contract 
      delivers <strong>format-specific markup</strong>, other times it delivers 
      a <strong>format-independent string</strong>. We decide different kind of 
      contracts, static one (like described in the contract howto), semi static 
      (which offer configuration parameter in the structurer) and dynamic 
      contracts (which offer semi-static configuration and/or requesting the 
      content).  </p>
<p>Till now the processing includes firstly all raw data into the 
      structurer, then generating a dynamic xsl and last but nor least 
      response. That is heavy based on xsl processing which is quite slow. A 
      better way is that we do not include *raw* but the *transformed* (by the 
      contract) data . This way we do not have to generate a dynamic stylesheet 
      which leads to the upcoming development of standalone contracts.</p>
<div class="note">
<div class="label">Note</div>
<div class="content"> The structurer is as well a configuration file for the dispatcher. 
        The new think on the dispatcher is that one can include any content 
        from any given business service by dispatching a request against it. In 
        "old fashion" skins and in v1 contracts we assumed a given data model. 
        In the dispatcher there is <strong>no</strong> given data model any 
        more. All data has to be defined in the structurer that they can be 
        dispatched. </div>
</div>
<a name="N10094"></a><a name="emptystructurer"></a>
<h3 class="underlined_5">Empty structurer file</h3>
<pre class="code">&lt;forrest:views 
  xmlns:forrest="http://apache.org/forrest/templates/1.0"
  xmlns:jx="http://apache.org/cocoon/templates/jx/1.0"&gt;
  &lt;forrest:view type="html"&gt;
  &lt;/forrest:view&gt;
&lt;/forrest:views&gt;
      </pre>
<p> 
<strong> The structurer</strong> is designed to be open for any 
        format that can use<strong> forrest:view</strong> as configuration 
        file. The only format we implemented is html for now. This is as well 
        true for the delivered contracts. </p>
<a name="N100A8"></a><a name="firststructurer"></a>
<h3 class="underlined_5">Creating your first structurer</h3>
<div class="warning">
<div class="label">Warning</div>
<div class="content"> The structurer is based on jx templates to allow simple 
        presentation logic (all code starting with "jx:"). Please refer to the 
        cocoon documentation about jx. For now we are using jx to 
        include the raw data into the presentation model and generating an 
        alias-xsl stylesheet. That is heavy on performance and we will change 
        this ASAP. Mind the warning at the start of the howto. </div>
</div>
<p> In this section we will create a new structurer. We will override the 
        default structurer of the themer-plugin for the index page of the <a href="../../docs_0_80/howto/howto-structurer-install.html">v2</a>. For that we will create a 
        file called <span class="codefrag">index.fv</span> and save it in our xdocs directory. 
        This will make <strong>only</strong> the index.html page look different 
        from the rest of the project. </p>
<div class="note">
<div class="label">Note</div>
<div class="content">You can set a view for an individual file, a directory, or the whole site. To address multiple files in a directory call your  <span class="codefrag">.fv</span> file <span class="codefrag">common.fv</span>. If Forrest doesn't find a <span class="codefrag">.fv</span> file with the same name as the current file it will use the common.fv file in that directory, or the first one it finds going upwards through the directory structure. 
	<span class="codefrag">common.fv</span> files affect all subdirectories unless they are overidden by another <span class="codefrag">common.fv</span> or a file-specific <span class="codefrag">foo.fv</span> file. 
	</div>
</div>
<p> Remember: pointing your browser to 
        <span class="codefrag">http://localhost:8888/ls.contracts.html</span> will show a page 
        with all contracts and themes that you can use in your project provided 
        by forrest. </p>
<p> Let us use the blank structurer from the earlier step and add the 
        content-main contract. In ls.contracts.html we find the information for 
        how to use the contract in our structurer. Our <span class="codefrag">index.fv</span> 
        should look like: </p>
<pre class="code">&lt;forrest:views 
  xmlns:forrest="http://apache.org/forrest/templates/1.0"
  xmlns:jx="http://apache.org/cocoon/templates/jx/1.0"&gt;
  &lt;forrest:view type="html"&gt;
    &lt;forrest:contract name="content-main"&gt;
    &lt;forrest:properties contract="content-main"&gt;
      &lt;forrest:property name="content-main" nugget="get.body"&gt;
        &lt;jx:import uri="cocoon://#{$cocoon/parameters/getRequest}.body.xml"/&gt;
      &lt;/forrest:property&gt;
      &lt;!-- Heading types can be clean|underlined|boxed  --&gt;
      &lt;forrest:property name="content-main-conf"&gt;
        &lt;headings type="underlined"/&gt;
      &lt;/forrest:property&gt;
    &lt;/forrest:properties&gt;
  &lt;/forrest:contract&gt;
  &lt;/forrest:view&gt;
&lt;/forrest:views&gt;
      </pre>
<p>A contract has to request the data model it want to transform. This 
        happends by defining forrest:properties which have the same name like 
        the contract. In our case we want the HTML rendered from intermediate 
        format (**.body.xml). This we are going to include via: <span class="codefrag">&lt;jx:import uri="cocoon://#{$cocoon/parameters/getRequest}.body.xml"/&gt;
         </span>
</p>
<p>Contracts can offer some property configuration of the outcome of 
            the transformation. In our case <span class="codefrag">&lt;forrest:property name="content-main-conf"&gt;
        &lt;headings type="underlined"/&gt;
      &lt;/forrest:property&gt;. </span>
</p>
<p> Lets try our new structurer by pointing to 
        <span class="codefrag">http://localhost:8888/index.html</span>. We will see only the 
        main content. Now let us add the section navigation to our structurer. 
        The contract usage in the structurer can be looked up in 
        ls.contracts.html. Our structurer now looks like: </p>
<pre class="code">&lt;forrest:views 
  xmlns:forrest="http://apache.org/forrest/templates/1.0"
  xmlns:jx="http://apache.org/cocoon/templates/jx/1.0"&gt;
  &lt;forrest:view type="html"&gt;
    &lt;forrest:contract name="nav-main"&gt;
      &lt;forrest:properties contract="nav-main"&gt;
        &lt;forrest:property name="nav-main" nugget="get.navigation"&gt;
          &lt;jx:import 
            uri="cocoon://#{$cocoon/parameters/getRequest}.navigation.xml"/&gt;
        &lt;/forrest:property&gt;
      &lt;/forrest:properties&gt;
    &lt;/forrest:contract&gt;
    &lt;forrest:contract name="content-main"&gt;
      &lt;forrest:properties contract="content-main"&gt;
        &lt;forrest:property name="content-main" nugget="get.body"&gt;
          &lt;jx:import uri="cocoon://#{$cocoon/parameters/getRequest}.body.xml"/&gt;
        &lt;/forrest:property&gt;
        &lt;!-- Heading types can be clean|underlined|boxed  --&gt;
        &lt;forrest:property name="content-main-conf"&gt;
          &lt;headings type="underlined"/&gt;
        &lt;/forrest:property&gt;
      &lt;/forrest:properties&gt;
    &lt;/forrest:contract&gt;
  &lt;/forrest:view&gt;
&lt;/forrest:views&gt;
      </pre>
<p> We now find the main content and the section navigation after each 
        other and in the order we placed them in the structurer, but we want it 
        next to each other (left: nav-section; right: content-main). </p>
<a name="N100FB"></a><a name="hookstructurer"></a>
<h3 class="underlined_5">Hooks in the structurer</h3>
<p> We will use now the first time a <span class="codefrag">&lt;forrest:hook name="layoutId"/&gt;
         </span>. Hooks are the styling side of the structurer. We can imitate 
        arbitrary html skeleton with their help. Before we explain how to use 
        your own css in the structurer, we will use the default css. You can 
        see in our example that we have css included. That is a default 
        fallback coming from the implementation. In this common.css we can find 
        </p>
<pre class="code">/* menu */
#leftbar {
    width: 25%;
    float: left;
    background: #eae8e3;
    border: thin dashed #565248;
}
      </pre>
<p> With this information we know to use <span class="codefrag">&lt;forrest:hook name="leftbar"/&gt;
        </span> and add contracts into that container. </p>
<p> If we want to put the nav-section contract into the left-hand side 
        position of the site we need to place the contract into that hook. 
        Like: </p>
<pre class="code">&lt;forrest:hook name="leftbar"&gt;
  &lt;!-- Include contract here --&gt;
&lt;/forrest:hook&gt;
      </pre>
<p> Our structurer will then look like: </p>
<pre class="code">&lt;forrest:views 
  xmlns:forrest="http://apache.org/forrest/templates/1.0"
  xmlns:jx="http://apache.org/cocoon/templates/jx/1.0"&gt;
  &lt;forrest:view type="html"&gt;
    &lt;forrest:hook name="leftbar"&gt;
      &lt;forrest:contract name="nav-section"&gt;
        &lt;forrest:properties contract="nav-section"&gt;
          &lt;forrest:property name="nav-section" nugget="get.navigation"&gt;
            &lt;jx:import 
              uri="cocoon://#{$cocoon/parameters/getRequest}.navigation.xml"/&gt;
          &lt;/forrest:property&gt;
        &lt;/forrest:properties&gt;
      &lt;/forrest:contract&gt;
    &lt;/forrest:hook&gt;   
    &lt;forrest:contract name="content-main"&gt;
      &lt;forrest:properties contract="content-main"&gt;
        &lt;forrest:property name="content-main" nugget="get.body"&gt;
          &lt;jx:import uri="cocoon://#{$cocoon/parameters/getRequest}.body.xml"/&gt;
        &lt;/forrest:property&gt;
        &lt;!-- Heading types can be clean|underlined|boxed  --&gt;
        &lt;forrest:property name="content-main-conf"&gt;
          &lt;headings type="underlined"/&gt;
        &lt;/forrest:property&gt;
      &lt;/forrest:properties&gt;
    &lt;/forrest:contract&gt;
  &lt;/forrest:view&gt;
&lt;/forrest:views&gt;
      </pre>
<a name="N10120"></a><a name="cssstructurer"></a>
<h3 class="underlined_5">CSS in the structurer</h3>
<p>We now know how to place contracts and hooks in our structurer. Until 
        this stage we only used the common.css. CSS-support of the structurer 
        is as easy as placing contracts/hooks. To override the common.css 
        stylesheet we use another tag within our structurer <span class="codefrag">&lt;forrest:css /&gt;
        </span>. </p>
<p>You can add inline and linked css with the structurer. As soon as you 
        use forrest:css you will disable the fallback css support from 
        forrest. With this tag we tell the dispatcher that we want to override the common.css.  
        After adding the following to our index.fv the design will be different.</p>
<pre class="code">&lt;forrest:css &gt;
/* Extra css */
/* menu */
#leftbar {
  width: 25%;
  float: left;
  background: #CCCCFF;
  border: thin solid #000000;
}
&lt;/forrest:css&gt; </pre>
<p> We just changed the border-style to 'solid', the background to 
        '#CCCCFF' and the color to '#000000'.  So you see a white page where the menu is surrounded by a solid 
        border with the defined background.</p>
<div class="note">
<div class="label">Note</div>
<div class="content">
        
<span class="codefrag">&lt;forrest:css /&gt;</span> needs to be the direct child of 
        <span class="codefrag">&lt;forrest:view type="html"&gt;</span>
      
</div>
</div>
<pre class="code">&lt;forrest:views 
  xmlns:forrest="http://apache.org/forrest/templates/1.0"
  xmlns:jx="http://apache.org/cocoon/templates/jx/1.0"&gt;
  &lt;forrest:view type="html"&gt;
    &lt;forrest:css &gt;
/* Extra css */
/* menu */
#leftbar {
  width: 25%;
  float: left;
  background: #CCCCFF;
  border: thin solid #000000;
}
    &lt;/forrest:css&gt;
    &lt;forrest:hook name="leftbar"&gt;
      &lt;forrest:contract name="nav-section"&gt;
        &lt;forrest:properties contract="nav-section"&gt;
          &lt;forrest:property name="nav-section" nugget="get.navigation"&gt;
            &lt;jx:import 
              uri="cocoon://#{$cocoon/parameters/getRequest}.navigation.xml"/&gt;
          &lt;/forrest:property&gt;
        &lt;/forrest:properties&gt;
      &lt;/forrest:contract&gt;
    &lt;/forrest:hook&gt;   
    &lt;forrest:contract name="content-main"&gt;
      &lt;forrest:properties contract="content-main"&gt;
        &lt;forrest:property name="content-main" nugget="get.body"&gt;
          &lt;jx:import uri="cocoon://#{$cocoon/parameters/getRequest}.body.xml"/&gt;
        &lt;/forrest:property&gt;
        &lt;!-- Heading types can be clean|underlined|boxed  --&gt;
        &lt;forrest:property name="content-main-conf"&gt;
          &lt;headings type="underlined"/&gt;
        &lt;/forrest:property&gt;
      &lt;/forrest:properties&gt;
    &lt;/forrest:contract&gt;
  &lt;/forrest:view&gt;
&lt;/forrest:views&gt;
      </pre>
<p>As a second example, let us change 
        as well the content-main by adding another hook <span class="codefrag">&lt;forrest:hook name="content"/&gt;
        </span> We need to add the new layout container to our inline css: </p>
<pre class="code">
/* The actual content */
#content {
  margin-left: 25%;
  padding: 0 20px 0 20px;
  background: #B9D3EE;
}</pre>
<p> Then we have to add the 'content-main' contract to the 'content' 
        hook. The resulting structurer looks like: </p>
<pre class="code">&lt;forrest:views 
  xmlns:forrest="http://apache.org/forrest/templates/1.0"
  xmlns:jx="http://apache.org/cocoon/templates/jx/1.0"&gt;
  &lt;forrest:view type="html"&gt;
    &lt;forrest:css &gt;
/* Extra css */
/* menu */
#leftbar {
  width: 25%;
  float: left;
  background: #CCCCFF;
  border: thin solid #000000;
}
/* The actual content */
#content {
  margin-left: 25%;
  padding: 0 20px 0 20px;
  background: #B9D3EE;
}
    &lt;/forrest:css&gt;
    &lt;forrest:hook name="leftbar"&gt;
      &lt;forrest:contract name="nav-section"&gt;
        &lt;forrest:properties contract="nav-section"&gt;
          &lt;forrest:property name="nav-section" nugget="get.navigation"&gt;
            &lt;jx:import 
              uri="cocoon://#{$cocoon/parameters/getRequest}.navigation.xml"/&gt;
          &lt;/forrest:property&gt;
        &lt;/forrest:properties&gt;
      &lt;/forrest:contract&gt;
    &lt;/forrest:hook&gt;
    &lt;forrest:hook name="content"&gt;
      &lt;forrest:contract name="content-main"&gt;
      &lt;forrest:properties contract="content-main"&gt;
        &lt;forrest:property name="content-main" nugget="get.body"&gt;
          &lt;jx:import uri="cocoon://#{$cocoon/parameters/getRequest}.body.xml"/&gt;
        &lt;/forrest:property&gt;
        &lt;!-- Heading types can be clean|underlined|boxed  --&gt;
        &lt;forrest:property name="content-main-conf"&gt;
          &lt;headings type="underlined"/&gt;
        &lt;/forrest:property&gt;
      &lt;/forrest:properties&gt;
    &lt;/forrest:contract&gt;
    &lt;/forrest:hook&gt;
  &lt;/forrest:view&gt;
&lt;/forrest:views&gt;
      </pre>
<p> We are now able to place contracts into the layout container and add 
        custom css to the structurer. </p>
<a name="N1015C"></a><a name="Linking+to+an+external+css+file"></a>
<h3 class="underlined_5">Linking to an external css file</h3>
<div class="note">
<div class="label">Note</div>
<div class="content">This will change for the next version of views (v3) where we use a 
        generic contract instead of the standalone element (forrest:css). </div>
</div>
<p>Make sure your project has the following directory structure. If it 
        doesn't you'll have to create it. "common" is the fallback for all 
        themes, if you want to override the css for a specific theme replace 
        "common" with "themeName". This is where Forrest will look for external 
        css stylesheets. </p>
<pre class="code">
        $projectHome\src\documentation\resources\themes\common\css</pre>
<p>Where $projectHome is the directory where your project exists.</p>
<p>Put your css stylesheets in this directory. For arguement's sake let's say 
        it's called mystyles.css</p>
<p>Edit your common.fv structurer (or whatever structurer (theme) you are using). This 
        will probably be some where in: </p>
<pre class="code">$projectHome\src\documentation\content\xdocs</pre>
<p>or if you want to override it for the whole project in:</p>
<pre class="code">$projectHome\src\documentation\resources\themes\</pre>
<p>Add the following element to the *.fv file:</p>
<pre class="code">&lt;forrest:css url="styles.css" media="screen" theme="pelt"/&gt;
        </pre>
<p>
<strong>Important!</strong> This must appear straight after the "view 
        type" element (as first child): </p>
<pre class="code">&lt;forrest:view type="html"&gt;</pre>
<pre class="code">&lt;forrest:css url="mystyles.css" media="screen" theme="pelt"/&gt;
        </pre>
<p>The attributes are: </p>
<ol>
        
<li>the url where the css exist (NOTE: it will be rewritten to "../themes/mystyles.css").</li>
        
<li>the media type, you can set different styles for screen and print. 
          This is really useful if you want to hide elements such as navigation 
          in the print output (#nav-section{display:none} for example).</li>
        
<li>the theme, "pelt" is the default theme (another is the "common" theme). Change this if you 
          are using your own theme.</li>
      
</ol>
<p>You can have as many css links as you like, and they'll appear in the 
        head of your document in same order as they are in the .fv file.</p>
<div class="fixme">
<div class="label">Fixme (thorsten)</div>
<div class="content"> Add more information of recent threads around 
        css in the structurer and information how you add an @import? Use e.g. 
        <a href="http://marc.theaimsgroup.com/?t=113471292700001&r=1&w=2">http://marc.theaimsgroup.com/?t=113471292700001&amp;r=1&amp;w=2</a> 
        
</div>
</div>
</div>
<a name="N101AF"></a><a name="Further Reading"></a>
<h2 class="underlined_10">Further Reading</h2>
<div class="section">
<p> Congratulations you are now able to work with the structurer. From here 
      we recommend to read the following How-Tos: </p>
<ul>
      
<li>
        
<a href="../../docs_0_80/howto/howto-structurer-contracts.html">Create your own contract 
          implementation</a>
      
</li>
    
</ul>
</div>
<a name="N101C1"></a><a name="Feedback"></a>
<h2 class="underlined_10">Feedback</h2>
<div class="section">
<p> Please provide feedback about this document via the <a href="../../mail-lists.html">mailing lists</a>. </p>
</div>
</div>
<!--+
    |end content
    +-->
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<!--+
    |start bottomstrip
    +-->
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2002-2005 <a href="http://www.apache.org/licenses/">The Apache Software Foundation.</a>
</div>
<!--+
    |end bottomstrip
    +-->
</div>
</body>
</html>
