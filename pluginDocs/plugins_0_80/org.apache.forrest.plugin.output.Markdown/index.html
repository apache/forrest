<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.8">
<meta name="Forrest-skin-name" content="pelt">
<title>Welcome to the org.apache.forrest.plugin.output.Markdown Plugin</title>
<link type="text/css" href="skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="skin/print.css" rel="stylesheet">
<link type="text/css" href="skin/profile.css" rel="stylesheet">
<script src="skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="favicon.ico">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
<a href="http://forrest.apache.org/">Apache Forrest</a> &gt; <a href="http://forrest.apache.org/pluginDocs/">Plugins</a><script src="skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script>
</div>
<!--+
    |header
    +-->
<div class="header">
<!--+
    |start group logo
    +-->
<div class="grouplogo">
<a href="http://forrest.apache.org/"><img class="logoImage" alt="Apache Forrest" src="images/project-logo.gif" title="Apache Forrest"></a>
</div>
<!--+
    |end group logo
    +-->
<!--+
    |start Project Logo
    +-->
<div class="projectlogoA1">
<a href=""><img class="logoImage" alt="Plugin: Markdown output" src="images/project.png" title="org.apache.forrest.plugin.output.Markdown plugin for Apache Forrest"></a>
</div>
<!--+
    |end Project Logo
    +-->
<!--+
    |start Tabs
    +-->
<ul id="tabs">
<li>
<a class="unselected" href="http://forrest.apache.org/pluginDocs/">Forrest Plugins</a>
</li>
<li class="current">
<a class="selected" href="index.html">Plugin Home</a>
</li>
</ul>
<!--+
    |end Tabs
    +-->
</div>
</div>
<div id="main">
<div id="publishedStrip">
<!--+
    |start Subtabs
    +-->
<div id="level2tabs"></div>
<!--+
    |end Endtabs
    +-->
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<!--+
    |breadtrail
    +-->
<div class="breadtrail">

             &nbsp;
           </div>
<!--+
    |start Menu, mainarea
    +-->
<!--+
    |start Menu
    +-->
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', 'skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">About</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menupage">
<div class="menupagetitle">Index</div>
</div>
<div class="menuitem">
<a href="changes.html" title="History of Changes">Changes</a>
</div>
<div class="menuitem">
<a href="todo.html" title="Todo List">Todo</a>
</div>
<div class="menuitem">
<a href="sample-1.html" title="Sample simple generated html">Sample-1</a>
</div>
</div>
<div id="credit"></div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<!--+
  |alternative credits
  +-->
<div id="credit2"></div>
</div>
<!--+
    |end Menu
    +-->
<!--+
    |start content
    +-->
<div id="content">
<div class="trail">Font size: 
	          &nbsp;<input value="Reset" class="resetfont" title="Reset text" onclick="ndeSetTextSize('reset'); return false;" type="button">      
	          &nbsp;<input value="-a" class="smallerfont" title="Shrink text" onclick="ndeSetTextSize('decr'); return false;" type="button">
	          &nbsp;<input value="+a" class="biggerfont" title="Enlarge text" onclick="ndeSetTextSize('incr'); return false;" type="button">
</div>
<h1>Welcome to the org.apache.forrest.plugin.output.Markdown Plugin</h1>
<div id="front-matter">
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#overview">Overview</a>
</li>
<li>
<a href="#howto">Howto</a>
</li>
<li>
<a href="#notes">Notes</a>
</li>
<li>
<a href="#explanation">How it works</a>
</li>
<li>
<a href="#links">Links</a>
</li>
</ul>
</div>
</div>
    
<a name="N1000E"></a><a name="overview"></a>
<h2 class="underlined_10">Overview</h2>
<div class="section">
<p>
        Produce output in 
        <a href="http://daringfireball.net/projects/markdown/">Markdown</a>
        "mdtext" format. This enables use of Forrest as
        a tool for gathering input from various sources, and generate a
        consistent set of output documents.
        See <a href="sample-1.html">example</a>.
      </p>
</div>
    
<a name="N10020"></a><a name="howto"></a>
<h2 class="underlined_10">Howto</h2>
<div class="section">
<p>
        In your project's <span class="codefrag">forrest.properties</span> file make the
        following changes ...
      </p>
<ul>
        
<li>
          Declare the <span class="codefrag">org.apache.forrest.plugin.output.Markdown</span>
          plugin at the <span class="codefrag">project.required.plugins</span> property
          (comma-separated list).
        </li>
        
<li>
          Uncomment the <span class="codefrag">project.start-uri</span> property and set it to be
          <span class="codefrag">markdown-start.xml</span>
        
</li>
      
</ul>
<p>
         Now do '<span class="codefrag">forrest</span>' to build your site as normal.
      </p>
<p>
         Alongside each <span class="codefrag">*.html</span> file there will now be a matching
         <span class="codefrag">*.mdtext</span> file.
      </p>
<p>
         Of course you can also do '<span class="codefrag">forrest run</span>' and request
         individual <span class="codefrag">*.mdtext</span> files.
      </p>
</div>
<!--
    <section id="tips">
      <title>Tips</title>
      <p>
      </p>
    </section>
-->
    
<a name="N1005C"></a><a name="notes"></a>
<h2 class="underlined_10">Notes</h2>
<div class="section">
<p>
        This first version of the plugin might not convert all complex content.
      </p>
<p>
        May need a combination of editing output, editing input and running
        again, or tweaking transformations to do special things.
      </p>
<p>
        See the two transformations mentioned below. We can adjust to treat
        certain input differently.
      </p>
<p>
        The initial anakia-to-markdown.xsl referred to below was from
        <a href="https://svn.apache.org/repos/infra/infrastructure/trunk/projects/cms/prototype/conversion-utilities/anakia2markdown.xslt"><span class="codefrag">https://svn.apache.org/repos/infra/infrastructure/trunk/projects/cms/prototype/conversion-utilities/anakia2markdown.xslt</span></a> (r776923 2010-09-24). Monitor/integrate changes.
      </p>
<p>
        See some other notes here:
          <a href="https://svn.apache.org/repos/infra/infrastructure/trunk/projects/cms/prototype/Markdown-limitations.mdtext"><span class="codefrag">https://svn.apache.org/repos/infra/infrastructure/trunk/projects/cms/prototype/Markdown-limitations.mdtext</span></a>
      
</p>
<p>
        See some notes in this mail thread on the "site-dev" mail list:
        "[CMS] handling tables and other complex html" 2010-10-16.
      </p>
</div>
    
<a name="N1007F"></a><a name="explanation"></a>
<h2 class="underlined_10">How it works</h2>
<div class="section">
<p>
        Explanation of how this plugin works
        and how its output can be enhanced with additional processing.
      </p>
<p>
        Without touching any of the site source content or navigation system,
        we need to additionally inject another set of links to be processed.
        Each html output document will then also have a matching URI with 
        <span class="codefrag">*.mdtext</span> extension.
      </p>
<p>
        This is achieved with the <span class="codefrag">input.xmap</span> sitemap. For the
        requested <span class="codefrag">markdown-start.xml</span> pipeline, Forrest will generate
        the "linkmap" of the complete site navigation, then apply a transformation
        to amend each link.
      </p>
<p>
        This automatically enables the crawler to gather this set of links.
      </p>
<p>
        The <span class="codefrag">output.xmap</span> sitemap then handles each mdtext URI to
        transform the internal XML content structure. This plugin provides a
        stylesheet <span class="codefrag">document-to-anakia.xsl</span> to transform the
        internal XML to something close to Anakia-like XML
        The following transformation <span class="codefrag">anakia-to-markdown.xsl</span> (see
        above) transforms that XML to Markdown text.
      </p>
<p>
        To enhance the output, either amend the <span class="codefrag">document-to-anakia.xsl</span>
        stylesheet or the <span class="codefrag">anakia-to-markdown.xsl</span> stylesheet
        (and please send changes), or insert another output transformation.
      </p>
</div>
    
<a name="N100B0"></a><a name="links"></a>
<h2 class="underlined_10">Links</h2>
<div class="section">
<ul>
        
<li>
          
<a href="http://daringfireball.net/projects/markdown/">Markdown</a>
        
</li>
        
<li>
          
<a href="http://www.freewisdom.org/projects/python-markdown/">Markdown in Python: Features</a>
        
</li>
        
<li>
          
<a href="http://velocity.apache.org/engine/devel/anakia.html">Apache Velocity Anakia</a>
        
</li>
      
</ul>
</div>
  
</div>
<!--+
    |end content
    +-->
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<!--+
    |start bottomstrip
    +-->
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2004-2011 <a href="http://www.apache.org/licenses/">The Apache Software Foundation.</a>
<br>
  Apache, Apache Forrest, the Apache feather logo, and the Apache Forrest
  logos are trademarks of The Apache Software Foundation.
</div>
<div id="logos">
<a href="http://validator.w3.org/check/referer"><img style="height: 31px; width: 88px;" title="Valid HTML 4.01!" alt="Valid HTML 4.01!" src="skin/images/valid-html401.png" class="logoImage"></a><a href="http://jigsaw.w3.org/css-validator/check/referer"><img style="height: 31px; width: 88px;" title="Valid CSS!" alt="Valid CSS!" src="skin/images/vcss.png" class="logoImage"></a><a href="http://forrest.apache.org/"><img border="0" title="Built with Apache Forrest" alt="Built with Apache Forrest - logo" src="images/built-with-forrest-button.png" style="width: 88px;height: 31px;"></a><a href="http://cocoon.apache.org/"><img border="0" title="Built with Apache Cocoon" alt="Built with Apache Cocoon - logo" src="images/built-with-cocoon.gif" style="width: 88px;height: 31px;"></a><a href="http://forrest.apache.org/thanks.html"><img border="0" title="thanks to ASF, thanks from ASF" alt="thanks to ASF, thanks from ASF - logo" src="images/apache-thanks.png" style="width: 88px;height: 31px;"></a>
</div>
<!--+
    |end bottomstrip
    +-->
</div>
</body>
</html>
