<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
        <link href="../themes/common.css" media="screen" rel="alternate stylesheet" title="common" type="text/css" />
        <link href="../themes/leather-dev.css" media="screen" rel="alternate stylesheet" title="common" type="text/css" />
        <link href="../themes/pelt.screen.css" media="screen" rel="stylesheet" title="Pelt" type="text/css" />
        
        <link href="../how/index.dispatcher.css" media="screen" rel="stylesheet" title="Pelt" type="text/css" />
        <link href="../themes/pelt.print.css" media="print" rel="stylesheet" title="pelt.print.css" type="text/css" />
        <style type="text/css">/* Extra css */ 
p.quote {
 margin-left: 2em; 
 padding: .5em; 
 background-color: #f0f0f0; 
 font-family: monospace; 
}</style>
      <meta content="Apache Forrest" name="Generator" />
<meta content="0.8-dev" name="Forrest-version" />
<meta content="pelt" name="Forrest-theme-name" />
<meta content="text/html; charset=UTF-8" http-equiv="content-type" />
<!--+ |start navigation links +-->
<link href="../index.html" rel="Index" title="Index..." />
<link href="../linkmap.html" rel="CONTENTS" title="Site map..." />
<link href="../how/howItWork.html" rel="NEXT" title="(FIXME: old) howItWorks" />
<link href="../howto-structurer-contracts.html" rel="PREVIOUS" title="Contracts" />
<link href="../todo.html" rel="LAST" title="Todo" />
<link href="../dispatcher.html" rel="FIRST" title="Dispatcher development" />
<!--+ |end navigation links +-->
<!--+|start favicon +-->
<link href="../favicon.ico" rel="shortcut icon" />
<!--+|start favicon +-->
<script src="../themes/getBlank.js" type="text/javascript"> </script>
<script src="../themes/menu.js" type="text/javascript"> </script>
<!--+ |start content-title +-->
<title>forrest:views - x output formats, one config</title>
<!--+ |end content-title +-->
</head>
<body>
<div id="container">
<!--+
    | start breadtrail
    +-->
<div class="breadtrail">
<a href="http://www.apache.org/">MyGroup</a>
                   &gt; <a href="http://forrest.apache.org/">MyProject</a>
<script src="../themes/breadcrumbs.js" type="text/javascript"> </script>
</div>
<!--+
    | end breadtrail
    +-->
<div id="header">
<div id="branding-tagline-name">new 
            seed</div>
<div id="branding-tagline-tagline">powered by the 
            dispatcher</div>
<div class="logo">
<!--+
    |start Logo
    +-->
<a href="http://mygroup.org/">
<img alt="MyGroup" class="logoImage" src="../images/group.png" title="MyGroup Description" />
</a>
<!--+
    |end group Logo
    +-->
</div>
<div class="logo">
<!--+
    |start Logo
    +-->
<a href="http://myproj.mygroup.org/">
<img alt="MyProject" class="logoImage" src="../images/project.png" title="MyProject Description" />
</a>
<!--+
    |end group Logo
    +-->
</div>
<!--+
  |start Search
  +-->
<div class="searchbox">
<div class="round-top-left-small">
<div class="round-top-right-small">
<div class="search-input">
<form action="http://www.google.com/search" method="get">
<div class="search-hidden">
<input name="sitesearch" type="hidden" value="mydomain" />
</div>
<div class="search-field">
<input name="q" size="25" type="text" value="Search the site with google" />
</div>
<div class="search-submit">
<input name="Search" type="submit" value="Search" />
</div>
</form>
</div>
</div>
</div>
</div>
<!--+ |end search +-->
<div id="nav-main-hook">
<!--+ |start Tabs new +-->
<ul id="nav-main">
<li class="current">
<a class="base-selected" href="../dispatcher.html">Home</a>
</li>
</ul>
<!--+ |end Tabs +-->
<div id="publishedStrip"> <!--+
    |start nav-main-sub
    +--><!--+
    |end Endtabs
    +--><script type="text/javascript">document.write("Last Published: " + document.lastModified);</script>
</div>
</div>
</div>
<div id="page">
<div class="breadtrail"> </div>
<div id="leftbar">
<!--+ |start 0 menu +-->
<!--+ |start Menu +-->
<div id="nav-section">
<ul>
<li class="pagegroupselected" id="menu_selected_1.1Title">
<span onclick="SwitchMenu('menu_selected_1.1')">About</span>
<ul class="&#10;               selectedmenuitemgroup" id="menu_selected_1.1">
<li class="menuitem">
<a href="../dispatcher.html" title="">Dispatcher development</a>
</li>
<li class="menuitem">
<a href="../dispatcher-glossary.html" title="Dispactcher related terms and meanings">(FIXME: add content) Glossary</a>
</li>
<li class="pagegroup" id="menu_1.1.3Title">
<span onclick="SwitchMenu('menu_1.1.3')">How to</span>
<ul class="menuitemgroup" id="menu_1.1.3">
<li class="menuitem">
<a href="../howto-structurer-dsl.html" title="">Structurer</a>
</li>
<li class="menuitem">
<a href="../howto-dispatcher-quickstart.html" title="">Quickstart</a>
</li>
<li class="menuitem">
<a href="../howto-structurer-contracts.html" title="">Contracts</a>
</li>
</ul>
</li>
<li class="menupage">
<div class="menupagetitle">(FIXME: old) Index</div>
</li>
<li class="menuitem">
<a href="../how/howItWork.html" title="(FIXME: old) howItWorks">(FIXME: old) howItWorks</a>
</li>
<li class="menuitem">
<a href="../changes.html" title="History of Changes">Changes</a>
</li>
<li class="menuitem">
<a href="../todo.html" title="Todo List">Todo</a>
</li>
</ul>
</li>
</ul>
</div>
<!--+ |end menu +-->
<!--+ |start content-motd-page +-->
<!--+ |end content-motd-page +-->
<div id="roundbottom">
<div id="roundbottomLeft">
<img alt="spacer" src="../themes/images/spacer.gif" />
</div>
</div>
</div>
<div id="export-link">
<a class="format" href="index.pdf">
<img alt="PDF - icon" class="skin" src="../themes/images/pdfdoc.gif" />
<span class="caption">PDF</span>
</a>
</div>
<div id="content">
<!--+ |start content-title +-->
<h1 class="content-title">forrest:views - x output formats, one config</h1>
<!--+ |end content-title +-->
<!--+ |start content-abstract +-->This plugin depends on a ViewHelper and a BusinessHelper implementation.<!--+ |end content-abstract +--><!--+ |start content-minitoc +--><div id="content-minitoc-area">
<ul class="minitoc">
<li>
<a href="#view">view</a>
</li>
<li>
<a href="#viewHelper">viewHelper</a>
</li>
<li>
<a href="#BusinessHelper">BusinessHelper </a>
</li>
<li>
<a href="#links">links</a>
</li>
</ul>
</div>
<!--+ |end minitoc +-->
<!--+ |start content-main +-->
<a name="view" title="view"> </a>
<h2 class="underlined_10">view</h2>
<div class="section">
<p>Together with the ViewHelper and the BusinessHelper (to be implemented) 
        plugin this plugin is following the <a href="http://java.sun.com/j2ee/patterns/DispatcherView.html">DispatcherView pattern</a> 
        and building the final view which will be delivered to the client. This implementation follows exactly the pattern shown on 
          <a href="http://corej2eepatterns.com/Patterns2ndEd/DispatcherView.htm">corej2eepatterns.com</a>
        </p>
<p>
        A view will be configured by a config file 
        which basically contains the following tags (it is still evolving): </p>
<pre class="code">&lt;forrest:view type="xhtml"&gt;
  &lt;forrest:css url="common.css"/&gt;
  &lt;forrest:contract name="meta"/&gt;
  &lt;forrest:hook name="container"&gt;
   &lt;forrest:contract name="feedback"/&gt;
  &lt;/forrest:hook /&gt;
&lt;/forrest:view&gt;</pre>
<p>The view tag's @type determines the final output format. The idea is to
configure different output formats within a forrest:views. That means a forrest:views 
can contain n different "forrest:view" configurations for n different formats. <br />
In short: x formats, one config. :)</p>
<pre class="code">&lt;forrest:views
  xmlns:forrest="http://apache.org/forrest/templates/1.0"&gt;
&lt;forrest:view type="xhtml"&gt;
  &lt;forrest:css url="common.css"/&gt;
  &lt;forrest:contract name="meta"/&gt;
  &lt;forrest:hook name="container"&gt;
   &lt;forrest:contract name="feedback"/&gt;
  &lt;/forrest:hook /&gt;
&lt;/forrest:view&gt;
&lt;forrest:view type="fo"&gt;
  &lt;forrest:hook name="container"&gt;
   &lt;forrest:contract name="feedback"/&gt;
  &lt;/forrest:hook /&gt;
&lt;/forrest:view&gt;
/forrest:views&gt;</pre>
</div>
<a name="viewHelper" title="viewHelper"> </a>
<h2 class="underlined_10">viewHelper</h2>
<div class="section">
<p>viewHelper class/implementation - a class/implementation which will
access the presentation model and transform its models. In other words
it is a presentation producing factory.
</p>
<div class="note">
<div class="label">Note</div>
<div class="content">The &lt;forrest:contract name="nav-main"/&gt; expects a certain model
(now produced by leather-dev - tab2menu.xsl) to transform it. In the
future this dependency will be on a businessHelper implementation that
has to be defined in the view. For now it depends on leather-dev. I
guess leather-dev is still not dead till the businessHelper plugin comes
(which will implement the businessHelper of leather-dev). ;-)</div>
</div>
<p>
Each forrest:css will be transformed into a &lt;link rel="stylesheet" type="text/css" url="{$root}skin/{url}"&gt; tag (in html
output [only format that has an implementation]). 
This tags are designed to help <strong>web-designers</strong> to freely implemend their own css-implementations for a view.
</p>
<p>
Each forrest:hook will be transformed into a &lt;div/&gt; tag (in html
output [only format that has an implementation]). 
This tags are designed to help <strong>web-designers</strong> to freely move
around and group contracts into design container.
</p>
<p>Each forrest:contract will dispatch a xml file (ViewHelper) that contains
xsl:stylesheets (for now, but other implementations to transform the presentation
 model are/should be possible) for the different output formats of a contract.
  For html, the only format that we have implemented so far, we
have three different kind of templates:</p>
<p>
&lt;xsl:templates name="{contract/@name}-css/&gt;<br />
Here the contract specific css will be stored.
</p>
<p>
&lt;xsl:templates name="{contract/@name}-head/&gt;<br />
Here goes everything that belongs in the html head. e.g. scripts.
</p>
<p>
&lt;xsl:templates name="{contract/@name}-body/&gt;<br />
Everything that belongs into the body.
  </p>
</div>
<a name="BusinessHelper" title="BusinessHelper "> </a>
<h2 class="underlined_10">BusinessHelper </h2>
<div class="section">
<p>
<strong>businessHelper class/implementation </strong>- a class/implementation which will
access businessServices to produce models for the presentation model. In
other word it is a data producing factory.
</p>
<div class="note">
<div class="label">Note</div>
<div class="content">Right now we are using the default forrest businessHelper (defined
by the skin you are using). There are contracts that depend on a
businessHelper implementation of leather-dev (tab2menu.xsl, site2xhtml.xsl,...). 
We will create a businessHelper plugin to overcome this problem.</div>
</div>
<p>Right now it is implemented for the forrest way of producing the models
for the view but we will create an independent BusinessHelper to
access all BusinessServices you may have in your application. </p>
</div>
<a name="links" title="links"> </a>
<h2 class="underlined_10">links</h2>
<div class="section">
<div class="note">
<div class="label">Note</div>
<div class="content">There are/were lots of mails on the dev-list. Please, search the list</div>
</div>
<p>Background mailings around the views concept</p>
<ul>
        <li>
<a href="http://marc.theaimsgroup.com/?l=forrest-dev&amp;m=110019697426791&amp;w=2">[RT] plugin infrastructure</a> </li>
        <li>
<a href="http://marc.theaimsgroup.com/?l=forrest-dev&amp;m=109959086204887&amp;w=2">[RT] Forrest templates for second generation skining - towards Corium</a> </li>
      </ul>
</div>
<!--+ |end content-main +-->
</div>
</div>
<div id="footer">
<div class="lastmodified">
<script type="text/javascript">document.write("Last Published: " + document.lastModified);</script>
</div>
<div class="copyright">
            Copyright ©
             2002-2006 <a href="http://www.acme.org/licenses/">The Acme Software Organisation.</a> </div>
<!--+ |start compliance links +-->
<div id="siteinfo-compliance-links">
<a href="http://validator.w3.org/check?uri=referer">
<img alt="Valid XHTML 1.0!" height="31" src="http://www.w3.org/Icons/valid-xhtml10" width="88" />
</a>
<a href="http://jigsaw.w3.org/css-validator/check/referer">
<img alt="Valid CSS!" src="http://jigsaw.w3.org/css-validator/images/vcss" style="border:0;width:88px;height:31px" />
</a>
</div>
<!--+ |end compliance links +-->
<!-- |start siteinfo-credits -->
<div id="credit">
<a href="http://forrest.apache.org/">
<img alt="Built with Apache Forrest - logo" src="../images/built-with-forrest-button.png" style="width: 88px;height: 31px;" title="Built with Apache Forrest" />
</a>
<a href="http://cocoon.apache.org/">
<img alt="Built with Cocoon - logo" src="../&#10;                  http://forrest.apache.org/images/built-with-cocoon.gif" style="" title="Built with Cocoon" />
</a>
</div>
<!--+ |end siteinfo-credits +-->
</div>
</div>
</body>
</html>
