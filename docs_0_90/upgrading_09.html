<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.9-dev">
<meta name="Forrest-skin-name" content="pelt">
<title>Upgrading to Apache Forrest 0.9-dev (v0.9-dev)</title>
<link type="text/css" href="../skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="../skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="../skin/print.css" rel="stylesheet">
<link type="text/css" href="../skin/profile.css" rel="stylesheet">
<script src="../skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="../skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="../skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="../favicon.ico">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
<a href="http://www.apache.org/">Apache Software Foundation</a> &gt; <a href="http://forrest.apache.org/">Apache Forrest</a><script src="../skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script>
</div>
<!--+
    |header
    +-->
<div class="header">
<!--+
    |start group logo
    +-->
<div class="grouplogo">
<a href="http://www.apache.org/"><img class="logoImage" alt="Apache" src="../images/apache-forrest.png" title="The Apache Software Foundation"></a>
</div>
<!--+
    |end group logo
    +-->
<!--+
    |start Project Logo
    +-->
<div class="projectlogo">
<a href="http://forrest.apache.org/"><img class="logoImage" alt="Forrest" src="../images/project-logo.gif" title="Apache Forrest"></a>
</div>
<!--+
    |end Project Logo
    +-->
<!--+
    |start Search
    +-->
<div class="searchbox">
<form action="http://www.google.com/search" method="get" class="roundtopsmall">
<input value="forrest.apache.org" name="sitesearch" type="hidden"><input onFocus="getBlank (this, 'Search the site with google');" size="25" name="q" id="query" type="text" value="Search the site with google">&nbsp; 
                    <input name="Search" value="Search" type="submit">
</form>
</div>
<!--+
    |end search
    +-->
<!--+
    |start Tabs
    +-->
<ul id="tabs">
<li>
<a class="unselected" href="../index.html">Welcome</a>
</li>
<li>
<a class="unselected" href="../contrib.html">Developers</a>
</li>
<li class="current">
<a class="selected" href="../versions/index.html">Versioned Docs</a>
</li>
<li>
<a class="unselected" href="../pluginDocs/index.html">Plugins</a>
</li>
<li>
<a class="unselected" href="../tools/index.html">Tools</a>
</li>
</ul>
<!--+
    |end Tabs
    +-->
</div>
</div>
<div id="main">
<div id="publishedStrip">
<!--+
    |start Subtabs
    +-->
<div id="level2tabs">
<a class="unselected" href="../docs_0_80/index.html">0.80 (current)</a><a class="selected" href="../docs_0_90/index.html">0.90-dev (under development)</a><a class="unselected" href="../docs_0_70/index.html">0.70 (past)</a>
</div>
<!--+
    |end Endtabs
    +-->
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<!--+
    |breadtrail
    +-->
<div class="breadtrail">

             &nbsp;
           </div>
<!--+
    |start Menu, mainarea
    +-->
<!--+
    |start Menu
    +-->
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', '../skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('../skin/images/chapter_open.gif');">0.90-dev</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="../docs_0_90/index.html">Overview</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/your-project.html">Using Forrest</a>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.3', '../skin/')" id="menu_selected_1.1.3Title" class="menutitle" style="background-image: url('../skin/images/chapter_open.gif');">How-To</div>
<div id="menu_selected_1.1.3" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="../docs_0_90/howto/index.html">Overview</a>
</div>
<div onclick="SwitchMenu('menu_1.1.3.2', '../skin/')" id="menu_1.1.3.2Title" class="menutitle">Install Forrest</div>
<div id="menu_1.1.3.2" class="menuitemgroup">
<div class="menuitem">
<a href="../docs_0_90/build.html" title="Build and install the current                     unreleased version">Building Forrest from Source</a>
</div>
</div>
<div class="menupage">
<div class="menupagetitle">Upgrading to 0.9</div>
</div>
<div onclick="SwitchMenu('menu_1.1.3.4', '../skin/')" id="menu_1.1.3.4Title" class="menutitle">Customize Forrest</div>
<div id="menu_1.1.3.4" class="menuitemgroup">
<div class="menuitem">
<a href="../docs_0_90/sitemap-explain.html">Sitemaps explained</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/howto/howto-custom-html-source.html">Custom html source</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/project-sitemap.html">Project sitemap</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/howto/howto-editcss.html">Edit CSS (WYSIWYG)</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/howto/howto-pdf-tab.html" title="Generate one pdf-document for all pages of a tab">Create tab PDF</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/howto/howto-corner-images.html">CSS corner SVG</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.1.3.5', '../skin/')" id="menu_1.1.3.5Title" class="menutitle">Integrate Forrest with tools</div>
<div id="menu_1.1.3.5" class="menuitemgroup">
<div class="menuitem">
<a href="../docs_0_90/howto/howto-forrest-from-maven.html">Maven Integration</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/catalog.html">Using DTD Catalogs</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.1.3.6', '../skin/')" id="menu_1.1.3.6Title" class="menutitle">Extend Forrest</div>
<div id="menu_1.1.3.6" class="menuitemgroup">
<div class="menuitem">
<a href="../docs_0_90/howto/howto-buildPlugin.html">Build a Plugin</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/skin-package.html">Package new Skins</a>
</div>
</div>
<div class="menuitem">
<a href="../docs_0_90/howto/howto-asf-mirror.html">Download mirror</a>
</div>
<div onclick="SwitchMenu('menu_1.1.3.8', '../skin/')" id="menu_1.1.3.8Title" class="menutitle">Adding Documentation</div>
<div id="menu_1.1.3.8" class="menuitemgroup">
<div class="menuitem">
<a href="../howto-howto.html" title="Instructions for writing                 a new howto-document">Write a How-to</a>
</div>
<div onclick="SwitchMenu('menu_1.1.3.8.2', '../skin/')" id="menu_1.1.3.8.2Title" class="menutitle">Multipage HowTo</div>
<div id="menu_1.1.3.8.2" class="menuitemgroup">
<div class="menuitem">
<a href="../docs_0_90/howto/multi/howto-multi.html">Introduction</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/howto/multi/step1.html">Step 1</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/howto/multi/step2.html">Step 2</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/howto/multi/step3.html">Step 3</a>
</div>
</div>
</div>
</div>
<div class="menuitem">
<a href="../docs_0_90/faq.html">FAQs</a>
</div>
<div onclick="SwitchMenu('menu_1.1.5', '../skin/')" id="menu_1.1.5Title" class="menutitle">Background</div>
<div id="menu_1.1.5" class="menuitemgroup">
<div class="menuitem">
<a href="../docs_0_90/linking.html">Menus and Linking</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/searching.html">Search Options in Forrest</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/locationmap.html">Locationmap</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/properties.html">Properties system</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/sitemap-ref.html">Sitemap Reference</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/skins.html" title="About default skins, their naming and features">Skins</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/status-themes.html">Dispatcher versus Skins</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/cap.html">Sourcetype Action</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/validation.html">XML validation and entity resolution</a>
</div>
</div>
<div class="menuitem">
<a href="../docs_0_90/changes.html">Changes</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/glossary.html">Glossary</a>
</div>
<div onclick="SwitchMenu('menu_1.1.8', '../skin/')" id="menu_1.1.8Title" class="menutitle">Reference docs</div>
<div id="menu_1.1.8" class="menuitemgroup">
<div onclick="SwitchMenu('menu_1.1.8.1', '../skin/')" id="menu_1.1.8.1Title" class="menutitle">DTD documentation</div>
<div id="menu_1.1.8.1" class="menuitemgroup">
<div class="menuitem">
<a href="../dtdx/dtd-docs.html">Overview</a>
</div>
<div class="menuitem">
<a href="../dtdx/document-v20.dtdx.html">document-v20</a>
</div>
<div class="menuitem">
<a href="../dtdx/howto-v20.dtdx.html">howto-v20</a>
</div>
<div class="menuitem">
<a href="../dtdx/faq-v20.dtdx.html">faq-v20</a>
</div>
<div class="menuitem">
<a href="../dtdx/document-v13.dtdx.html">document-v13</a>
</div>
<div class="menuitem">
<a href="../dtdx/howto-v13.dtdx.html">howto-v13</a>
</div>
<div class="menuitem">
<a href="../dtdx/faq-v13.dtdx.html">faq-v13</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.1.8.2', '../skin/')" id="menu_1.1.8.2Title" class="menutitle">Doc samples</div>
<div id="menu_1.1.8.2" class="menuitemgroup">
<div class="menuitem">
<a href="../dtdx/document-v13.html">document-v13</a>
</div>
<div class="menuitem">
<a href="../dtdx/document-v20.html">document-v20</a>
</div>
</div>
</div>
<div onclick="SwitchMenu('menu_1.1.9', '../skin/')" id="menu_1.1.9Title" class="menutitle">Older Docs</div>
<div id="menu_1.1.9" class="menuitemgroup">
<div class="menuitem">
<a href="../docs_0_90/primer.html">Forrest Primer</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/libre-intro.html">Libre</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/dreams.html">Dream list</a>
</div>
<div class="menuitem">
<a href="../docs_0_90/howto/cvs-ssh/howto-cvs-ssh.html">CVS over SSH</a>
</div>
</div>
</div>
<div id="credit">
<hr>
        This is documentation for development version v0.9-dev
       (<a href="http://forrest.apache.org/versions/">More</a>)</div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="../skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<!--+
  |alternative credits
  +-->
<div id="credit2">
<a href="http://www.apache.org/events/current-event.html"><img border="0" title="ApacheCon" alt="ApacheCon - logo" src="http://www.apache.org/events/current-event-125x125.png" style="width: 125px;height: 125px;"></a>
</div>
</div>
<!--+
    |end Menu
    +-->
<!--+
    |start content
    +-->
<div id="content">
<div class="trail">Font size: 
	          &nbsp;<input value="Reset" class="resetfont" title="Reset text" onclick="ndeSetTextSize('reset'); return false;" type="button">      
	          &nbsp;<input value="-a" class="smallerfont" title="Shrink text" onclick="ndeSetTextSize('decr'); return false;" type="button">
	          &nbsp;<input value="+a" class="biggerfont" title="Enlarge text" onclick="ndeSetTextSize('incr'); return false;" type="button">
</div>
<h1>Upgrading to Apache Forrest 0.9-dev</h1>
<div id="front-matter">
<div id="motd-area">
        This is documentation for development version v0.9-dev
       (<a href="http://forrest.apache.org/versions/">More</a>)</div>
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#introduction">Introduction</a>
</li>
<li>
<a href="#new">New Features</a>
</li>
<li>
<a href="#jdk15">Java 1.5 (or newer) is required</a>
</li>
<li>
<a href="#cocoon">Notes about Cocoon version</a>
<ul class="minitoc">
<li>
<a href="#cocoon-upgrade">Cocoon upgrade issues</a>
</li>
</ul>
</li>
<li>
<a href="#missing-symbols">Missing project symbols file in some projects</a>
</li>
<li>
<a href="#docs">Notes about documentation</a>
</li>
<li>
<a href="#tips">General upgrade tips</a>
</li>
<li>
<a href="#project-sitemap">Remove project sitemap if not necessary</a>
</li>
<li>
<a href="#To+be+continued...">To be continued...</a>
</li>
</ul>
</div>
</div>
    
<a name="N1000E"></a><a name="introduction"></a>
<h2 class="underlined_10">Introduction</h2>
<div class="section">
<div class="note">
<div class="label">Note</div>
<div class="content">
        This is the <strong>development</strong> version of Apache Forrest.
        Developers can obtain it from the <a href="../svn.html">Subversion</a>
        repository.
        See the notes for obtaining and <a href="../docs_0_90/howto/../build.html">Building
        Forrest</a>.
      </div>
</div>
<p>
        This page describes some changes to Apache Forrest that affect people
        who are upgrading to the 0.9 version. If you have other issues, then
        please discuss on either the
        <a href="../mail-lists.html#forrest-dev">dev</a> or
        <a href="../mail-lists.html#forrest-user">user</a> mailing lists. As more
        experience is gained, this document will be updated.
      </p>
<p>
        (If you are upgrading from a version prior to 0.8 then you will need to
        see the notes for the previous upgrade.)
      </p>
</div>
    
<a name="N10031"></a><a name="new"></a>
<h2 class="underlined_10">New Features</h2>
<div class="section">
<p>
        The following list shows some of the key new features. For the full list
        of changes, see the main <a href="../docs_0_90/changes.html">change log</a> and also
        for each plugin.
      </p>
<ul>
        
<li>
          Our packaged Apache Cocoon is upgraded, along with various other
          important supporting products such as Apache Xerces and Apache Xalan, etc.
        </li>
        
<li>
          The properties are supplemented by the new
          <a href="../docs_0_90/properties.html">Properties</a> system.
        </li>
        
<li>Java 1.5</li>
      
</ul>
<p>
        Some new initial plugins are in the "whiteboard". See the entries in the
        <a href="../docs_0_90/changes.html">change log</a> and see each plugin's
        documentation and changes log. This includes the new Dispatcher. See
        <a href="../docs_0_90/status-themes.html">Status of Themes: Skins and Dispatcher</a>.
      </p>
</div>
    
<a name="N1005A"></a><a name="jdk15"></a>
<h2 class="underlined_10">Java 1.5 (or newer) is required</h2>
<div class="section">
<p>
        Java 1.5 (or newer) is required, starting with this Forrest 0.9 version.
        For further information, see
        <a href="../docs_0_90/faq.html#requirements">FAQ</a>.
      </p>
</div>
    
<a name="N10068"></a><a name="cocoon"></a>
<h2 class="underlined_10">Notes about Cocoon version</h2>
<div class="section">
<p>
        Our packaged version of Apache Cocoon has been upgraded to use the
        latest version of their stable 2.1 branch. This is a major step forward
        for Forrest. It enables us to use a reliable and up-to-date Cocoon.
        Forrest developers can again participate at Cocoon to fix issues or
        develop new blocks. A number of major performance issues are already
        fixed in this version.
      </p>
<p>
        In previous versions of Forrest we were using a development version of
        Cocoon trunk (i.e. 2.2). A number of things happened which caused us to
        fall out of synchronisation with Cocoon. They started using Maven as a
        build system, which took a long time to settle down. In turn that meant
        that Apache Gump could not perform continuous integration, which shut
        Forrest off. At the same time Cocoon trunk was making technical advances
        which changed some of the ways that Forrest interacts with Cocoon. In
        particular the command-line interface which Forrest uses to build a
        complete static site.
        See other notes via <a href="http://issues.apache.org/jira/browse/FOR-1017">FOR-1017</a>.
      </p>
<p>
        Cocoon-2.1 is closer to our stalled version of Cocoon-2.2 than the
        current head of Cocoon-2.2 trunk.
      </p>
<p>
        Note that this move does not preclude us from future updates to other
        versions of Cocoon or even to another xml processing framework.
      </p>
<p>
        If you want to use your own version of Cocoon-2.1, for example to add
        another Cocoon Block or to enhance a particular existing block, then
        see the notes in the <span class="codefrag">$FORREST_HOME/etc/cocoon_upgrade</span>
        directory.
      </p>
<a name="N10084"></a><a name="cocoon-upgrade"></a>
<h3 class="underlined_5">Cocoon upgrade issues</h3>
<p>
          There are only two minor issues for those upgrading from the previous
          version of Forrest:
        </p>
<p>
          When you first use this in your existing projects, there will probably
          be a message about a certain cache item. On the second run all is well.
          A way to avoid that would be to do 'forrest clean-work' in each of
          your projects to remove the old Cocoon cache.
        </p>
<p>
          The configuration file is now at
          <span class="codefrag">main/webapp/WEB-INF/cocoon.xconf</span>
        
</p>
<p>
          Our previous version of Cocoon had a facility called "Running modes"
          which enabled one set of a minimal group of properties for development
          and a different set for production. This is not available in Cocoon-2.1
          version. If you were using this feature, then simply move your defined
          properties into the <span class="codefrag">main/webapp/WEB-INF/properties/core.properties</span>
          file.
        </p>
</div>
    
<a name="N1009E"></a><a name="missing-symbols"></a>
<h2 class="underlined_10">Missing project symbols file in some projects</h2>
<div class="section">
<p>Users of 0.8, and developers with older 0.9-dev, who based their sites on 'forrest seed-basic' rather than 'forrest seed-sample' will be affected by <a href="https://issues.apache.org/jira/browse/FOR-1075">FOR-1075</a>. There was a partially implemented xml catalog with missing symbols file.
      </p>
<p>
        You would get the message:
      </p>
<pre class="code">Failed to create InputSource (java.io.FileNotFoundException:
.../src/documentation/resources/schema/symbols-project-v10.ent
(No such file or directory)...</pre>
<p>
        This is just a warning message from the misconfigured xml entity catalog.
        To silence it, simply copy the file from a new "seed-basic" site,
        or more directly by
        <span class="codefrag">cp $FORREST_HOME/main/fresh-site/src/documentation/resources/schema/symbols-project-v10.ent $PROJECT/src/documentation/resources/schema/symbols-project-v10.ent</span>
      
</p>
<p>
        This "project symbols" ability using xml entities is useful in two ways.
        To provide common symbols, words, and phrases, in your source documents
        (added in v0.8 - <a href="../docs_0_90/faq.html#xml-entities">FAQ</a>).
        To configure some Cocoon sitemap components
        (added in v0.9 - <a href="../docs_0_90/faq.html#sitemap-entities">FAQ</a>).
      </p>
</div>
    
<a name="N100C4"></a><a name="docs"></a>
<h2 class="underlined_10">Notes about documentation</h2>
<div class="section">
<p>
        After each release, the "Versioned Docs" are copied to form the new
        "dev" set. Ideally the docs are then upgraded in readiness for the new
        release. This has not been completed for recent releases. In particular
        there are example snippets of sitemaps which have not yet been upgraded
        to reflect the changes to the sitemaps and the separation of some core
        stuff into plugins. See issues
        <a href="http://issues.apache.org/jira/browse/FOR-546">FOR-546</a> and
        <a href="http://issues.apache.org/jira/browse/FOR-922">FOR-922</a> and
        others.
      </p>
</div>
    
<a name="N100D6"></a><a name="tips"></a>
<h2 class="underlined_10">General upgrade tips</h2>
<div class="section">
<p>
        Synchronise your project's skinconf.xml and forrest.properties files:
      </p>
<p>
        Take advantage of the separation of concerns. In a new workspace, create
        a fresh '<span class="codefrag">forrest seed</span>' site, then tweak its
        forrest.properties and skinconf.xml until it reflects your old site.
        When it is ready, replace your project's skinconf.xml and
        forrest.properties files. Any remaining issues would concern other
        aspects of your configuration, such as site.xml and your actual content.
      </p>
</div>
    
<a name="N100E6"></a><a name="project-sitemap"></a>
<h2 class="underlined_10">Remove project sitemap if not necessary</h2>
<div class="section">
<p>
        It has come to our attention that some people have a
        <a href="../docs_0_90/project-sitemap.html">project sitemap</a>
        even though they are not using it. Such un-necessary sitemaps should be
        removed to avoid maintenance issues.
      </p>
<p>
        If you do use a project sitemap, then pay attention to the 0.8 upgrade
        instructions "<a href="../docs_0_80/upgrading_08.html">Forrest configuration simplification</a>".
      </p>
</div>
    
<a name="N100FB"></a><a name="To+be+continued..."></a>
<h2 class="underlined_10">To be continued...</h2>
<div class="section">
<p>
        ...as more issues are discovered/remembered :) Please send feedback to
        the <a href="../mail-lists.html#forrest-dev">mailing list</a>.
      </p>
</div>
  
</div>
<!--+
    |end content
    +-->
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<!--+
    |start bottomstrip
    +-->
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2002-2011 <a href="http://www.apache.org/licenses/">The Apache Software Foundation. Licensed under Apache License 2.0</a>
<br>
    Apache, Apache Forrest, the Apache feather logo, and the Apache Forrest
    logos are trademarks of The Apache Software Foundation.
  </div>
<!--+
    |end bottomstrip
    +-->
</div>
</body>
</html>
