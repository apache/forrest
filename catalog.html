<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Using Catalog Entity Resolver for local DTDs</title>
<link type="text/css" href="skin/page.css" rel="stylesheet">
<link rel="shortcut icon" href="favicon.ico">
</head>
<body text="#000000" bgcolor="#FFFFFF">
<!--================= start Navigation Path ==================-->
<table summary="navigation path" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td nowrap="nowrap" valign="middle" bgcolor="#CFDCED" height="20"><img height="1" width="5" alt="" src="skin/images/spacer.gif" class="spacer"><!--===== breadcrumb trail (javascript-generated) ====--><font size="2" face="Arial, Helvetica, Sans-serif"><a href="http://www.apache.org/">apache</a> &gt; <a href="http://xml.apache.org/">xml.apache</a><script src="skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script></font></td>
</tr>
<tr>
<td bgcolor="#4C6C8F" height="2"><img height="2" width="2" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
</table>
<!--================= end Navigation Path ==================-->
<!--================= start Banner ==================-->
<table summary="header with logos" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<!--================= start Group Logo ==================-->
<td bgcolor="#294563"><a href="http://xml.apache.org/"><img class="logoImage" alt="Apache XML" src="images/group-logo.gif"></a></td>
<!--================= end Group Logo ==================-->
<!--================= start Project Logo ==================--><td width="100%" align="center" bgcolor="#294563"><a href="http://xml.apache.org/forrest/"><img class="logoImage" alt="Forrest" src="images/project-logo.gif"></a></td>
<!--================= end Project Logo ==================-->
<!--================= start Search ==================--><td valign="top" rowspan="2" bgcolor="#294563">
<form target="_blank" action="http://www.google.com/search" method="get">
<table summary="search" border="0" cellspacing="0" cellpadding="0" bgcolor="#4C6C8F">
<tr>
<td colspan="3"><img height="10" width="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td><img height="1" width="1" alt="" src="skin/images/spacer.gif" class="spacer"></td><td nowrap="nowrap"><input value="xml.apache.org" name="as_sitesearch" type="hidden"><input size="15" name="as_q" id="query" type="text"><img height="1" width="5" alt="" src="skin/images/spacer.gif" class="spacer"><input name="Search" value="Search" type="submit">
<br>
<font face="Arial, Helvetica, Sans-serif" size="2" color="white">
                          the Apache XML site
                          
                          
                        </font></td><td><img height="1" width="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td><img alt="" border="0" height="10" width="9" src="skin/images/search-left.gif"></td><td><img height="1" width="1" alt="" src="skin/images/spacer.gif" class="spacer"></td><td><img alt="" border="0" height="10" width="9" src="skin/images/search-right.gif"></td>
</tr>
</table>
</form>
</td>
<!--================= end Search ==================--><td bgcolor="#294563"><img height="10" width="10" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td valign="bottom" bgcolor="#294563" colspan="2">
<!--================= start Tabs ==================-->
<div class="tab">
<table summary="tab bar" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="6"><img alt="" height="8" width="6" src="skin/images/spacer.gif"></td><td valign="bottom">
<table summary="selected tab" style="height: 1.8em" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="5" bgcolor="#4C6C8F"><img height="5" width="5" alt="" src="skin/images/tabSel-left.gif"></td><td valign="middle" bgcolor="#4C6C8F"><font color="#ffffff" size="2" face="Arial, Helvetica, Sans-serif"><b><a class="base-selected" href="index.html">Home</a></b></font></td><td valign="top" width="5" bgcolor="#4C6C8F"><img height="5" width="5" alt="" src="skin/images/tabSel-right.gif"></td>
</tr>
</table>
</td><td width="6"><img alt="" height="8" width="6" src="skin/images/spacer.gif"></td><td valign="bottom">
<table summary="non selected tab" style="height: 1.6em" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="skin/images/tab-left.gif"></td><td valign="middle" bgcolor="#B2C4E0"><a class="base-not-selected" href="community/index.html">Community</a></td><td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="skin/images/tab-right.gif"></td>
</tr>
<tr>
<td colspan="3" height="1"></td>
</tr>
</table>
</td><td width="6"><img alt="" height="8" width="6" src="skin/images/spacer.gif"></td><td valign="bottom">
<table summary="non selected tab" style="height: 1.6em" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="skin/images/tab-left.gif"></td><td valign="middle" bgcolor="#B2C4E0"><a class="base-not-selected" href="community/howto/index.html">How-to</a></td><td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="skin/images/tab-right.gif"></td>
</tr>
<tr>
<td colspan="3" height="1"></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<!--================= end Tabs ==================-->
</td><td bgcolor="#294563"></td>
</tr>
<tr>
<td height="10" bgcolor="#4C6C8F" colspan="4"></td>
</tr>
</table>
<!--================= end Banner ==================-->
<!--================= start Menu, NavBar, Content ==================-->
<table summary="page content" bgcolor="#ffffff" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top">
<table summary="menu" border="0" cellspacing="0" cellpadding="0">
<tr>
<!--================= start left top NavBar ==================-->
<td rowspan="3" valign="top">
<table summary="blue line" border="0" cellpadding="0" cellspacing="0">
<tr>
<td bgcolor="#294563"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td bgcolor="#CFDCED"><font color="#4C6C8F" size="4" face="Arial, Helvetica, Sans-serif">&nbsp;</font></td>
</tr>
<tr>
<td bgcolor="#294563"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
</table>
</td>
<!--================= end left top NavBar ==================--><td bgcolor="#294563"><img width="1" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td><td valign="bottom" bgcolor="#4C6C8F"><img width="10" height="10" alt="" src="skin/images/spacer.gif" class="spacer"></td><td nowrap="nowrap" valign="top" bgcolor="#4C6C8F">
<!--================= start Menu items ==================-->
<div class="menu">
<ul>
<li>
<font color="#CFDCED">About</font>
<ul>
    
<li>
<a href="index.html">Index</a>
</li>
    
<li>
<a href="license.html">License</a>
</li>
    
<li>
<a class="external" href="http://www.apache.org/dyn/closer.cgi/xml/forrest/">Download</a>
</li>
    
<li>
<a href="who.html">Who we are</a>
</li>
    
<li>
<a href="faq.html">FAQs</a>
</li>
    
<li>
<a href="changes.html">Changes</a>
</li>
    
    
<li>
<a href="todo.html">Todo</a>
</li>
    
<li>
<a href="live-sites.html">Example sites</a>
</li>
  
</ul>
</li>
<li>
<font color="#CFDCED">Documentation</font>
<ul>
    
<li>
<a href="your-project.html">Using Forrest</a>
</li>
    
<li>
<a href="validation.html">XML Validation</a>
</li>
    
<li>
<a href="linking.html">Menus and Linking</a>
</li>
    
<li>
<a href="sitemap-ref.html">Sitemap Reference</a>
</li>
    
<li>
<a href="searching.html">Searching</a>
</li>
    
<li>
<a href="skin-package.html">Skin Packages</a>
</li>
    
    
<li>
<a href="forrest-contract.html">Our Contract</a>
</li>
    
<li>
<a href="compliance.html">Standards Compliance</a>
</li>
    
<li>
<a href="dtd-docs.html">DTD documentation</a>
</li>
    
<li>
<span class="sel"><font color="#ffcc00">Using DTD Catalogs</font></span>
</li>
    
<li>
<a href="cap.html">Sourcetype Action</a>
</li>
    
<li>
<a href="oowriter.html">OpenOffice Writer docs</a>
</li>    
    
<li>
<a href="forrestbar.html">The ForrestBar</a>
</li>
    
<li>
<a href="forrestbot.html">Forrestbot (CVS)</a>
</li>
    
<li>
<a href="forrestbot-old.html">Forrestbot (stable)</a>
</li>
    
    
<li>
<a href="upgrading_06.html">Upgrading to 0.6</a>
</li>
    
<li>
<a href="upgrading_05.html">Upgrading to 0.5</a>
</li>
  
</ul>
</li>
<li>
<font color="#CFDCED">Older Docs</font>
<ul>
    
<li>
<a href="primer.html">Forrest Primer</a>
</li>
    
<li>
<a href="libre-intro.html">Libre</a>
</li>
    
<li>
<a href="dreams.html">Dream list</a>
</li>
  
</ul>
</li>
<li>
<font color="#CFDCED">Some Samples</font>
<ul>
    
<li>
<a href="document-v12.html">document-v12</a>
</li>
    
<li>
<a href="wiki-sample.html">Wiki Reference</a>
</li>
 
</ul>
</li>
<li>
<font color="#CFDCED">Getting Involved</font>
<ul>
    
<li>
<a href="contrib.html">Contributing</a>
</li>
    
<li>
<a href="build.html">Building Forrest</a>
</li>
    
<li>
<a class="external" href="http://svn.apache.org/viewcvs.cgi/forrest/trunk/?root=Apache-SVN">Browse SVN</a>
</li>
    
<li>
<a href="mail-lists.html">Mail lists</a>
</li>
    
<li>
<a href="mail-archives.html">Mail Archives</a>
</li>
    
<li>
<a class="external" href="http://issues.cocoondev.org/jira/secure/BrowseProject.jspa?id=10000">Bugs and Issues</a>
</li>
    
<li>
<a href="forrest-issues.html">Open Issues</a>
</li>
  
</ul>
</li>
<li>
<font color="#CFDCED">Related projects</font>
<ul>
    
<li>
<a class="external" href="http://gump.apache.org/">Apache Gump</a>
</li>
    
<li>
<a class="external" href="http://cocoon.apache.org/">Apache Cocoon</a>
</li>
    
<li>
<a class="external" href="http://cocoon.apache.org/lenya/">Apache Lenya</a>
</li>
    
<li>
<a class="external" href="http://www.krysalis.org/">Krysalis Centipede</a>
</li>
  
</ul>
</li>
</ul>
</div>
<!--================= end Menu items ==================-->
</td><td valign="bottom" bgcolor="#4C6C8F"><img width="10" height="10" alt="" src="skin/images/spacer.gif" class="spacer"></td><td bgcolor="#294563"><img width="1" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td valign="bottom" align="left" colspan="2" rowspan="2" bgcolor="#4C6C8F"><img height="10" width="10" border="0" alt="" src="skin/images/menu-left.gif"></td><td bgcolor="#4C6C8F"><img height="10" width="10" alt="" src="skin/images/spacer.gif" class="spacer"></td><td valign="bottom" align="right" colspan="2" rowspan="2" bgcolor="#4C6C8F"><img height="10" width="10" border="0" alt="" src="skin/images/menu-right.gif"></td>
</tr>
<tr>
<td height="1" bgcolor="#294563"><img width="1" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
</table>
</td><td valign="top" width="100%">
<table summary="content" width="100%" border="0" cellpadding="0" cellspacing="0">
<!--================= start middle NavBar ==================-->
<tr>
<td colspan="4" bgcolor="#294563"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td align="left" width="10" bgcolor="#CFDCED"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td><td align="left" width="50%" bgcolor="#CFDCED"><font color="#4C6C8F" size="3" face="Arial, Helvetica, Sans-serif">
                &nbsp;
                
                </font><img width="10" height="8" alt="" src="skin/images/spacer.gif" class="spacer"></td><td align="right" width="50%" bgcolor="#CFDCED"><font color="#4C6C8F" size="3" face="Arial, Helvetica, Sans-serif">
                &nbsp;
                
                </font><img width="10" height="8" alt="" src="skin/images/spacer.gif" class="spacer"></td><td width="10" bgcolor="#CFDCED"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td colspan="4" bgcolor="#294563"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<!--================= end middle NavBar ==================-->
<!--================= start Content==================-->
<tr>
<td align="left" width="10"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td><td colspan="2" align="left" width="100%">
<div class="content">
<table class="title" summary="">
<tr>
<td valign="middle">
<h1>Using Catalog Entity Resolver for local DTDs</h1>
</td><td nowrap="nowrap" width="40" align="center"><a class="dida" href="catalog.pdf"><img alt="PDF" src="skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a></td>
</tr>
</table>
<ul class="minitoc">
<li>
<a href="#overview">Overview</a>
</li>
<li>
<a href="#config">General configuration notes</a>
</li>
<li>
<a href="#tools">Configuring specific tools</a>
<ul class="minitoc">
<li>
<a href="#system">Operating system catalog</a>
</li>
<li>
<a href="#xmllint">xmllint validating parser</a>
</li>
<li>
<a href="#vim">Vim</a>
</li>
<li>
<a href="#onsgmls">onsgmls validating parser</a>
</li>
<li>
<a href="#jedit">jEdit - Open Source programmer's text editor</a>
</li>
<li>
<a href="#oxygenxml">oXygen XML Editor</a>
</li>
<li>
<a href="#xmlspy">xmlspy</a>
</li>
<li>
<a href="#xxe">XMLmind XML Editor</a>
<ul class="minitoc">
<li>
<a href="#XXE+v2.5p3%2B">XXE v2.5p3+</a>
</li>
<li>
<a href="#XXE+v2.5p2+or+prior">XXE v2.5p2 or prior</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#info">Further information and resources</a>
</li>
</ul>
    
<a name="N1000D"></a><a name="overview"></a>
<h3>Overview</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        This is a collection of notes for configuring the Catalog Entity
        Resolver with your favourite XML tools (validating parsers and
        editors).
      </p>
<p>
        All XML documents declare their ruleset - the Document Type Definition
        (DTD). When Forrest processes the documents, it uses the Resolver to
        find Forrest's local copies of the DTDs, rather than trundling out
        onto the network.
      </p>
<p>
        Many Java-based XML tools already have an entity resolver, probably
        the same one that Forrest uses. Many non-Java tools also have an
        entity resolver. To use these tools with documents based on the
        Forrest DTDs, you need to configure the tools.
      </p>
<div class="frame note">
<div class="label">Note</div>
<div class="content">
        The information provided here is not intended to endorse any
        particular tool.
      </div>
</div>
<p>
        If you have any other configuration tips for a particular tool, then
        please send them to the forrest-dev mailing list.
      </p>
</div>

    
<a name="N10023"></a><a name="config"></a>
<h3>General configuration notes</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        The Forrest DTDs and supporting resources are in the Forrest
        distribution at <span class="codefrag">src/core/context/resources/schema/</span>
      
</p>
<p>
        Usually all that is required is to direct your tool to the "catalog"
        supplied by Forrest at either:
        <span class="codefrag">$FORREST/src/core/context/resources/schema/catalog.xcat</span>
        (for XML Catalog) or
        <span class="codefrag">$FORREST/src/core/context/resources/schema/catalog</span>
        (for TR 9401 Catalog).
      </p>
</div>

    
<a name="N10039"></a><a name="tools"></a>
<h3>Configuring specific tools</h3>
<div style="margin-left: 0 ; border: 2px">
<a name="N1003F"></a><a name="system"></a>
<h4>Operating system catalog</h4>
<div style="margin-left: 0 ; border: 2px">
<p>
          Some operating systems already provide a system-wide catalog that
          is used by many tools. This is usually located at
          <span class="codefrag">/etc/xml/catalog</span> or at
          <span class="codefrag">/usr/share/sgml/catalog</span> files.
        </p>
<p>
          For an XML Catalog, add this line:
        </p>
<pre class="code">
&lt;nextCatalog
catalog="/usr/local/cvs/xml-forrest/src/core/context/resources/schema/catalog.xcat"/&gt;
        </pre>
<p>
          For a TR 9401 Catalog, add this line:
        </p>
<pre class="code">
CATALOG \
"/usr/local/cvs/xml-forrest/src/core/context/resources/schema/catalog"
        </pre>
<p>
          Actually you probably do not want to touch that system catalog,
          so rather create your own catalog file in your home directory
          which refers to both the Forrest catalog and your system catalog.
        </p>
</div>
<a name="N10062"></a><a name="xmllint"></a>
<h4>xmllint validating parser</h4>
<div style="margin-left: 0 ; border: 2px">
<p>
          "xmllint" is part of the "libxml2" package.
          It is very fast and powerful, with are many facilities. It can
          validate whole directories of files at once.
          Set the SGML_CATALOG_FILES environment variable.
        </p>
<pre class="code">
export SGML_CATALOG_FILES=$SGML_CATALOG_FILES:\
$FORREST/src/core/context/resources/schema/catalog
xmllint --valid --catalogs --noout mydoc.xml
        </pre>
</div>
<a name="N10071"></a><a name="vim"></a>
<h4>Vim</h4>
<div style="margin-left: 0 ; border: 2px">
<p>
            The following .vimrc entries are useful:
          </p>
<pre class="code">
au FileType xml set efm=%A%f:%l:\ %.%#error:\ %m,%-Z%p^,%-C%.%#
au FileType xml set makeprg=xmllint\ --noout\ --valid\ --catalogs\ %
        </pre>
</div>
<a name="N10080"></a><a name="onsgmls"></a>
<h4>onsgmls validating parser</h4>
<div style="margin-left: 0 ; border: 2px">
<p>
          "onsgmls" is part of the "Open SP" package.
          You need to also tell it where to find an "SGML declaration".
          The easiest way is to create your own little "my-catalog" file,
          containing this:
        </p>
<pre class="code">
SGMLDECL "/usr/share/sgml/xml.dcl"
CATALOG \
"/usr/local/cvs/xml-forrest/src/core/context/resources/schema/catalog"
        </pre>
<p>
          Then point the parser at it:
        </p>
<pre class="code">
onsgmls -c path/to/my-catalog -wall -wxml -s mydoc.xml
        </pre>
</div>
<a name="N10097"></a><a name="jedit"></a>
<h4>jEdit - Open Source programmer's text editor</h4>
<div style="margin-left: 0 ; border: 2px">
<pre class="code">
Select the menu:
Utilities &gt; Global Options &gt; Plugins:XML &gt; Catalogs
Select the "+" button, and use the "File System Browser"
to specify the TR9401 Catalog file:
"xml-forrest/src/core/context/resources/schema/catalog"
        </pre>
</div>
<a name="N100A3"></a><a name="oxygenxml"></a>
<h4>oXygen XML Editor</h4>
<div style="margin-left: 0 ; border: 2px">
<pre class="code">
Select the menu:
External Tools &gt; Preferences &gt; XML Catalog
Specify the XML Catalog file:
"xml-forrest/src/core/context/resources/schema/catalog.xcat"
        </pre>
</div>
<a name="N100AF"></a><a name="xmlspy"></a>
<h4>xmlspy</h4>
<div style="margin-left: 0 ; border: 2px">
<pre class="code">
Add the following entry to the file CustomCatalog.xml
(located in XMLSpy install directory):

&lt;nextCatalog
catalog="file://localhost/C:/apache/xml-forrest/src/core/
context/resources/schema/catalog.xcat"/&gt;
        </pre>
</div>
<a name="N100BB"></a><a name="xxe"></a>
<h4>XMLmind XML Editor</h4>
<div style="margin-left: 0 ; border: 2px">
<a name="N100C1"></a><a name="XXE+v2.5p3%2B"></a>
<h5>XXE v2.5p3+</h5>
<div style="margin-left: 0 ; border: 2px">
<p>XXE only supports catalogs automatically detected via configuration files.  
            Download the <a class="external" href="http://www.splike.com/howtos/xxe_forrest.html">XXE 
            Forrest Config</a> files from splike.com; this also add support for WYSIWYG 
            editing of forrest documents.</p>
</div>
<a name="N100CF"></a><a name="XXE+v2.5p2+or+prior"></a>
<h5>XXE v2.5p2 or prior</h5>
<div style="margin-left: 0 ; border: 2px">
<pre class="code">
Select the menu:
Options &gt; Options &gt; Schema &gt; Add File
Specify the XML Catalog file:
"xml-forrest/src/core/context/resources/schema/catalog.xcat"
        </pre>
</div>
</div>
</div>

    
<a name="N100DD"></a><a name="info"></a>
<h3>Further information and resources</h3>
<div style="margin-left: 0 ; border: 2px">
<p>
        Forrest and Cocoon use the
        <a href="http://xml.apache.org/commons/components/resolver/">Catalog
        Entity Resolver</a>
        that is provided by the
        <a href="http://xml.apache.org/commons/">Apache XML Commons</a>
        project. The resolver is packaged with the Forrest distribution at
        <span class="codefrag">lib/core/xml-commons-resolver-x.y.jar</span>
      
</p>
<p>
        Other Forrest documentation has some notes about configuring the
        entity resolver for your own DTDs. See
        <a href="validation.html">XML Validation</a>.
      </p>
<p>
        Cocoon has extensive documentation about the entity resolver. See
        <a class="external" href="http://cocoon.apache.org/2.1/userdocs/concepts/catalog.html">Entity resolution with catalogs</a>.
      </p>
</div>

<div class="attribution"></div>
</div>
</td><td width="10"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<!--================= end Content==================-->
</table>
</td>
</tr>
</table>
<!--================= end Menu, NavBar, Content ==================-->
<!--================= start Footer ==================-->
<table summary="footer" cellspacing="0" cellpadding="0" width="100%" border="0">
<tr>
<td colspan="2" height="1" bgcolor="#4C6C8F"><img height="1" width="1" alt="" src="skin/images/spacer.gif" class="spacer"><a href="skin/images/label.gif"></a><a href="skin/images/page.gif"></a><a href="skin/images/chapter.gif"></a><a href="skin/images/chapter_open.gif"></a><a href="skin/images/current.gif"></a></td>
</tr>
<tr>
<td colspan="2" bgcolor="#CFDCED" class="copyright" align="center"><font size="2" face="Arial, Helvetica, Sans-Serif"><a href="http://www.apache.org/licenses/LICENSE-2.0">
              Copyright &copy; 2002-2004&nbsp;
              The Apache Software Foundation.</a>
          All rights reserved.
          <script type="text/javascript" language="JavaScript"><!--
              document.write(" - "+"Last Published: " + document.lastModified);
            //  --></script></font></td>
</tr>
<tr>
<td colspan="2" align="left" bgcolor="#CFDCED" class="logos"></td>
</tr>
</table>
<!--================= end Footer ==================-->
</body>
</html>
