<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Searching Forrest-built documentation</title>
<link type="text/css" href="skin/page.css" rel="stylesheet">
<link rel="shortcut icon" href="favicon.ico">
</head>
<body text="#000000" bgcolor="#FFFFFF">
<!--================= start Navigation Path ==================-->
<table summary="navigation path" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td nowrap="nowrap" valign="middle" bgcolor="#CFDCED" height="20"><img height="1" width="5" alt="" src="skin/images/spacer.gif" class="spacer"><!--===== breadcrumb trail (javascript-generated) ====--><font size="2" face="Arial, Helvetica, Sans-serif"><a href="http://www.apache.org/">apache</a> &gt; <a href="http://xml.apache.org/">xml.apache</a><script src="skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script></font></td>
</tr>
<tr>
<td bgcolor="#4C6C8F" height="2"><img height="2" width="2" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
</table>
<!--================= end Navigation Path ==================-->
<!--================= start Banner ==================-->
<table summary="header with logos" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<!--================= start Group Logo ==================-->
<td bgcolor="#294563"><a href="http://xml.apache.org/"><img class="logoImage" alt="Apache XML" src="images/group-logo.gif"></a></td>
<!--================= end Group Logo ==================-->
<!--================= start Project Logo ==================--><td width="100%" align="center" bgcolor="#294563"><a href="http://xml.apache.org/forrest/"><img class="logoImage" alt="Forrest" src="images/project-logo.gif"></a></td>
<!--================= end Project Logo ==================-->
<!--================= start Search ==================--><td valign="top" rowspan="2" bgcolor="#294563">
<form target="_blank" action="http://www.google.com/search" method="get">
<table summary="search" border="0" cellspacing="0" cellpadding="0" bgcolor="#4C6C8F">
<tr>
<td colspan="3"><img height="10" width="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td><img height="1" width="1" alt="" src="skin/images/spacer.gif" class="spacer"></td><td nowrap="nowrap"><input value="xml.apache.org" name="as_sitesearch" type="hidden"><input size="15" name="as_q" id="query" type="text"><img height="1" width="5" alt="" src="skin/images/spacer.gif" class="spacer"><input name="Search" value="Search" type="submit">
<br>
<font face="Arial, Helvetica, Sans-serif" size="2" color="white">
                          the Apache XML site
                          
                          
                        </font></td><td><img height="1" width="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td><img alt="" border="0" height="10" width="9" src="skin/images/search-left.gif"></td><td><img height="1" width="1" alt="" src="skin/images/spacer.gif" class="spacer"></td><td><img alt="" border="0" height="10" width="9" src="skin/images/search-right.gif"></td>
</tr>
</table>
</form>
</td>
<!--================= end Search ==================--><td bgcolor="#294563"><img height="10" width="10" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td valign="bottom" bgcolor="#294563" colspan="2">
<!--================= start Tabs ==================-->
<div class="tab">
<table summary="tab bar" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="6"><img alt="" height="8" width="6" src="skin/images/spacer.gif"></td><td valign="bottom">
<table summary="selected tab" style="height: 1.8em" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="5" bgcolor="#4C6C8F"><img height="5" width="5" alt="" src="skin/images/tabSel-left.gif"></td><td valign="middle" bgcolor="#4C6C8F"><font color="#ffffff" size="2" face="Arial, Helvetica, Sans-serif"><b><a class="base-selected" href="index.html">Home</a></b></font></td><td valign="top" width="5" bgcolor="#4C6C8F"><img height="5" width="5" alt="" src="skin/images/tabSel-right.gif"></td>
</tr>
</table>
</td><td width="6"><img alt="" height="8" width="6" src="skin/images/spacer.gif"></td><td valign="bottom">
<table summary="non selected tab" style="height: 1.6em" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="skin/images/tab-left.gif"></td><td valign="middle" bgcolor="#B2C4E0"><a class="base-not-selected" href="community/index.html">Community</a></td><td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="skin/images/tab-right.gif"></td>
</tr>
<tr>
<td colspan="3" height="1"></td>
</tr>
</table>
</td><td width="6"><img alt="" height="8" width="6" src="skin/images/spacer.gif"></td><td valign="bottom">
<table summary="non selected tab" style="height: 1.6em" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="skin/images/tab-left.gif"></td><td valign="middle" bgcolor="#B2C4E0"><a class="base-not-selected" href="community/howto/index.html">How-to</a></td><td valign="top" width="5" bgcolor="#B2C4E0"><img height="5" width="5" alt="" src="skin/images/tab-right.gif"></td>
</tr>
<tr>
<td colspan="3" height="1"></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<!--================= end Tabs ==================-->
</td><td bgcolor="#294563"></td>
</tr>
<tr>
<td height="10" bgcolor="#4C6C8F" colspan="4"></td>
</tr>
</table>
<!--================= end Banner ==================-->
<!--================= start Menu, NavBar, Content ==================-->
<table summary="page content" bgcolor="#ffffff" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top">
<table summary="menu" border="0" cellspacing="0" cellpadding="0">
<tr>
<!--================= start left top NavBar ==================-->
<td rowspan="3" valign="top">
<table summary="blue line" border="0" cellpadding="0" cellspacing="0">
<tr>
<td bgcolor="#294563"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td bgcolor="#CFDCED"><font color="#4C6C8F" size="4" face="Arial, Helvetica, Sans-serif">&nbsp;</font></td>
</tr>
<tr>
<td bgcolor="#294563"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
</table>
</td>
<!--================= end left top NavBar ==================--><td bgcolor="#294563"><img width="1" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td><td valign="bottom" bgcolor="#4C6C8F"><img width="10" height="10" alt="" src="skin/images/spacer.gif" class="spacer"></td><td nowrap="nowrap" valign="top" bgcolor="#4C6C8F">
<!--================= start Menu items ==================-->
<div class="menu">
<ul>
<li>
<font color="#CFDCED">About</font>
<ul>
    
<li>
<a href="index.html">Index</a>
</li>
    
<li>
<a href="license.html">License</a>
</li>
    
<li>
<a class="external" href="http://www.apache.org/dyn/closer.cgi/xml/forrest/">Download</a>
</li>
    
<li>
<a href="who.html">Who we are</a>
</li>
    
<li>
<a href="faq.html">FAQs</a>
</li>
    
<li>
<a href="changes.html">Changes</a>
</li>
    
    
<li>
<a href="todo.html">Todo</a>
</li>
    
<li>
<a href="live-sites.html">Example sites</a>
</li>
  
</ul>
</li>
<li>
<font color="#CFDCED">Documentation</font>
<ul>
    
<li>
<a href="your-project.html">Using Forrest</a>
</li>
    
<li>
<a href="validation.html">XML Validation</a>
</li>
    
<li>
<a href="linking.html">Menus and Linking</a>
</li>
    
<li>
<a href="sitemap-ref.html">Sitemap Reference</a>
</li>
    
<li>
<span class="sel"><font color="#ffcc00">Searching</font></span>
</li>
    
<li>
<a href="skin-package.html">Skin Packages</a>
</li>
    
    
<li>
<a href="forrest-contract.html">Our Contract</a>
</li>
    
<li>
<a href="compliance.html">Standards Compliance</a>
</li>
    
<li>
<a href="dtd-docs.html">DTD documentation</a>
</li>
    
<li>
<a href="catalog.html">Using DTD Catalogs</a>
</li>
    
<li>
<a href="cap.html">Sourcetype Action</a>
</li>
    
<li>
<a href="oowriter.html">OpenOffice Writer docs</a>
</li>    
    
<li>
<a href="forrestbar.html">The ForrestBar</a>
</li>
    
<li>
<a href="forrestbot.html">Forrestbot (CVS)</a>
</li>
    
<li>
<a href="forrestbot-old.html">Forrestbot (stable)</a>
</li>
    
    
<li>
<a href="upgrading_06.html">Upgrading to 0.6</a>
</li>
    
<li>
<a href="upgrading_05.html">Upgrading to 0.5</a>
</li>
  
</ul>
</li>
<li>
<font color="#CFDCED">Older Docs</font>
<ul>
    
<li>
<a href="primer.html">Forrest Primer</a>
</li>
    
<li>
<a href="libre-intro.html">Libre</a>
</li>
    
<li>
<a href="dreams.html">Dream list</a>
</li>
  
</ul>
</li>
<li>
<font color="#CFDCED">Some Samples</font>
<ul>
    
<li>
<a href="document-v12.html">document-v12</a>
</li>
    
<li>
<a href="wiki-sample.html">Wiki Reference</a>
</li>
 
</ul>
</li>
<li>
<font color="#CFDCED">Getting Involved</font>
<ul>
    
<li>
<a href="contrib.html">Contributing</a>
</li>
    
<li>
<a href="build.html">Building Forrest</a>
</li>
    
<li>
<a class="external" href="http://svn.apache.org/viewcvs.cgi/forrest/trunk/?root=Apache-SVN">Browse SVN</a>
</li>
    
<li>
<a href="mail-lists.html">Mail lists</a>
</li>
    
<li>
<a href="mail-archives.html">Mail Archives</a>
</li>
    
<li>
<a class="external" href="http://issues.cocoondev.org/jira/secure/BrowseProject.jspa?id=10000">Bugs and Issues</a>
</li>
    
<li>
<a href="forrest-issues.html">Open Issues</a>
</li>
  
</ul>
</li>
<li>
<font color="#CFDCED">Related projects</font>
<ul>
    
<li>
<a class="external" href="http://gump.apache.org/">Apache Gump</a>
</li>
    
<li>
<a class="external" href="http://cocoon.apache.org/">Apache Cocoon</a>
</li>
    
<li>
<a class="external" href="http://cocoon.apache.org/lenya/">Apache Lenya</a>
</li>
    
<li>
<a class="external" href="http://www.krysalis.org/">Krysalis Centipede</a>
</li>
  
</ul>
</li>
</ul>
</div>
<!--================= end Menu items ==================-->
</td><td valign="bottom" bgcolor="#4C6C8F"><img width="10" height="10" alt="" src="skin/images/spacer.gif" class="spacer"></td><td bgcolor="#294563"><img width="1" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td valign="bottom" align="left" colspan="2" rowspan="2" bgcolor="#4C6C8F"><img height="10" width="10" border="0" alt="" src="skin/images/menu-left.gif"></td><td bgcolor="#4C6C8F"><img height="10" width="10" alt="" src="skin/images/spacer.gif" class="spacer"></td><td valign="bottom" align="right" colspan="2" rowspan="2" bgcolor="#4C6C8F"><img height="10" width="10" border="0" alt="" src="skin/images/menu-right.gif"></td>
</tr>
<tr>
<td height="1" bgcolor="#294563"><img width="1" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
</table>
</td><td valign="top" width="100%">
<table summary="content" width="100%" border="0" cellpadding="0" cellspacing="0">
<!--================= start middle NavBar ==================-->
<tr>
<td colspan="4" bgcolor="#294563"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td align="left" width="10" bgcolor="#CFDCED"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td><td align="left" width="50%" bgcolor="#CFDCED"><font color="#4C6C8F" size="3" face="Arial, Helvetica, Sans-serif">
                &nbsp;
                
                </font><img width="10" height="8" alt="" src="skin/images/spacer.gif" class="spacer"></td><td align="right" width="50%" bgcolor="#CFDCED"><font color="#4C6C8F" size="3" face="Arial, Helvetica, Sans-serif">
                &nbsp;
                
                </font><img width="10" height="8" alt="" src="skin/images/spacer.gif" class="spacer"></td><td width="10" bgcolor="#CFDCED"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td colspan="4" bgcolor="#294563"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<!--================= end middle NavBar ==================-->
<!--================= start Content==================-->
<tr>
<td align="left" width="10"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td><td colspan="2" align="left" width="100%">
<div class="content">
<table class="title" summary="">
<tr>
<td valign="middle">
<h1>Searching Forrest-built documentation</h1>
</td><td nowrap="nowrap" width="40" align="center"><a class="dida" href="searching.pdf"><img alt="PDF" src="skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a></td>
</tr>
</table>
<ul class="minitoc">
<li>
<a href="#Google+SiteSearch">Google SiteSearch</a>
</li>
<li>
<a href="#Lucene+search">Lucene search</a>
</li>
<li>
<a href="#Disabling+full-text+search">Disabling full-text search</a>
</li>
</ul>
    
<p>Forrest provides you with two distinct options for making your
      documentation available through full-text search:</p>
    
<ul>
      
<li>Google SiteSearch,</li>
      
<li>Built-in search using Apache Lucene.</li>
    
</ul>
    
<p>Both options have their advantages and disadvantages. The
      purpose of this document is to outline them, and to help you
      make a choice. This document also tells you how to disable
      full-text search completely, if you so choose.</p>
    
<a name="N1001C"></a><a name="Google+SiteSearch"></a>
<h3>Google SiteSearch</h3>
<div style="margin-left: 0 ; border: 2px">
<p>Forrest provides a simple interface to the Google search
	engine. It invokes Google Advanced Search and limits the search
	scope to the domain of your choice. Since the actual search
	functionality is implemented on Google's end, you do not need
	any additional capability on your Forrest server (which may
	well be a simple static web server serving content generated
	with <span class="codefrag">forrest site</span>).</p>
<p>To use Google SiteSearch in your Forrest application, open
	your <span class="codefrag">skinconf.xml</span> file. By default this file is
	in the <span class="codefrag">src/documentation</span> subdirectory of your
	Forrest repository root. Find the <span class="codefrag">&lt;search&gt;</span>
	element; it should be near the top of the file. If the element
	does not exist, create it below the
	<span class="codefrag">&lt;skinconfig&gt;</span> opening tag. If there is any
	attribute named <span class="codefrag">provider</span>, remove it. The element
	should look similar to this:</p>
<pre class="code">&lt;search name="MyProject"
	domain="myproject.com"/&gt;</pre>
<p>Then, build your Forrest documentation and open it using your
	favorite web browser. You are now invited to peruse the search
	box (most skins render this in the top-right corner). Google's
	search results will be displayed in a new browser window.</p>
<p>Needless to say, for this to work your content must be
	accessible to Google's indexing robot. It can't be stored on a
	server which is only locally accessible, or which requires
	authentication. In addition, the content index is created and
	updated at a time of Google's choosing. However, the search is fast
	and search precision is usually excellent. So if your
	Forrest content is placed on a busy, popular public web
	server, Google search is probably the best choice.</p>
</div>
    
<a name="N10046"></a><a name="Lucene+search"></a>
<h3>Lucene search</h3>
<div style="margin-left: 0 ; border: 2px">
<p>Lucene is a high-performance, full-text search engine built
	entirely in Java. To use Lucene-based search with your Forrest
	documentation, you will need to run Forrest in a Java servlet
	environment (such as Tomcat or Jetty). Lucene-based searching
	will not work in a static site generated with the '<span class="codefrag">forrest
	  site</span>' command.</p>
<p>In order to enable Lucene-based full-text search in your
	Forrest application, you must first edit your
	<span class="codefrag">skinconf.xml</span> file. Locate the
	<span class="codefrag">&lt;search&gt;</span> element. If the element does not
	exist, insert it right underneath the
	<span class="codefrag">&lt;skinconfig&gt;</span> opening tag. Add an attribute
	named <span class="codefrag">provider</span> with a value of
	<span class="codefrag">lucene</span>, so that the element looks similar to
	this:</p>
<pre class="code">&lt;search name="MyProject" domain="myproject.com"
	provider="lucene"/&gt;</pre>
<p>Next, create and run your Forrest webapp. This may mean
	simply invoking <span class="codefrag">forrest run</span>, or building and
	bundling a servlet webapp (with <span class="codefrag">forrest webapp</span>),
	and then deploying it to your servlet container.</p>
<p>You can now build a Lucene search index by pointing your web
	browser at
	<span class="codefrag">http://localhost:8888/lucene-update.html</span>. This
	generates the search index and provides some information about
	the index generation process.</p>
<div class="frame note">
<div class="label">Note</div>
<div class="content">You may have to substitute a different hostname, port, or
	path, depending on your configuration. The path mentioned here
	reflects Forrest's default settings when invoked as
	<span class="codefrag">forrest run</span>.</div>
</div>
<p>Now you can utilize the full-text search box, located in the
	top-right corner of the rendered Forrest pages. Search results
	will be displayed in the same browser window and will look
	remarkably similar to the rest of your Forrest documents.</p>
<p>Unlike with Google SiteSearch, the indexing information
	retrieved by Lucene is stored on your own server, access to
	which you may limit to users in your own organization.
	Likewise, you may update or recreate the Lucene index at any
	time and at your own discretion. So if you aren't making your
	Forrest-built documentation publicly available, and you're
	able to run Forrest on a Java-enabled web server, Lucene
	search is probably right for you.</p>
</div>
    
<a name="N10085"></a><a name="Disabling+full-text+search"></a>
<h3>Disabling full-text search</h3>
<div style="margin-left: 0 ; border: 2px">
<p>If you are convinced your users don't need any full-text
	search capability whatsoever, you may disallow displaying the
	search box entirely. You may also wish to do so if you're
	keeping Forrest-built content on a restricted server (meaning
	you can't use Google), while at the same time not having any
	usable servlet-capable web server at your disposal (meaning
	you can't use Lucene, either).</p>
<p>To disable full-text search completely, open the
	<span class="codefrag">skinconf.xml</span> file and remove (or comment out) the
	entire <span class="codefrag">&lt;search&gt;</span> element.</p>
</div>
  
<div class="attribution"></div>
</div>
</td><td width="10"><img width="10" height="1" alt="" src="skin/images/spacer.gif" class="spacer"></td>
</tr>
<!--================= end Content==================-->
</table>
</td>
</tr>
</table>
<!--================= end Menu, NavBar, Content ==================-->
<!--================= start Footer ==================-->
<table summary="footer" cellspacing="0" cellpadding="0" width="100%" border="0">
<tr>
<td colspan="2" height="1" bgcolor="#4C6C8F"><img height="1" width="1" alt="" src="skin/images/spacer.gif" class="spacer"><a href="skin/images/label.gif"></a><a href="skin/images/page.gif"></a><a href="skin/images/chapter.gif"></a><a href="skin/images/chapter_open.gif"></a><a href="skin/images/current.gif"></a></td>
</tr>
<tr>
<td colspan="2" bgcolor="#CFDCED" class="copyright" align="center"><font size="2" face="Arial, Helvetica, Sans-Serif"><a href="http://www.apache.org/licenses/LICENSE-2.0">
              Copyright &copy; 2002-2004&nbsp;
              The Apache Software Foundation.</a>
          All rights reserved.
          <script type="text/javascript" language="JavaScript"><!--
              document.write(" - "+"Last Published: " + document.lastModified);
            //  --></script></font></td>
</tr>
<tr>
<td colspan="2" align="left" bgcolor="#CFDCED" class="logos"></td>
</tr>
</table>
<!--================= end Footer ==================-->
</body>
</html>
