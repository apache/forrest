<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.8-dev">
<meta name="Forrest-skin-name" content="pelt">
<title>Open issues for the next release</title>
<link type="text/css" href="skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="skin/print.css" rel="stylesheet">
<link type="text/css" href="skin/profile.css" rel="stylesheet">
<script src="skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="favicon.ico">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
<a href="http://www.apache.org/">apache</a> &gt; <a href="http://forrest.apache.org/">forrest</a><script src="skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script>
</div>
<!--+
    |header
    +-->
<div class="header">
<!--+
    |start group logo
    +-->
<div class="grouplogo">
<a href="http://www.apache.org/"><img class="logoImage" alt="Apache" src="images/apache-forrest.png" title="The Apache Software Foundation"></a>
</div>
<!--+
    |end group logo
    +-->
<!--+
    |start Project Logo
    +-->
<div class="projectlogo">
<a href="http://forrest.apache.org/"><img class="logoImage" alt="Forrest" src="images/project-logo.gif" title="Apache Forrest"></a>
</div>
<!--+
    |end Project Logo
    +-->
<!--+
    |start Search
    +-->
<div class="searchbox">
<form action="http://www.google.com/search" method="get" class="roundtopsmall">
<input value="forrest.apache.org" name="sitesearch" type="hidden"><input onFocus="getBlank (this, 'Search the site with google');" size="25" name="q" id="query" type="text" value="Search the site with google">&nbsp; 
                    <input name="Search" value="Search" type="submit">
</form>
</div>
<!--+
    |end search
    +-->
<!--+
    |start Tabs
    +-->
<ul id="tabs">
<li class="current">
<a class="base-selected" href="index.html">Welcome</a>
</li>
<li>
<a class="base-not-selected" href="contrib.html">Developers</a>
</li>
<li>
<a class="base-not-selected" href="versions/index.html">Versioned Docs</a>
</li>
<li>
<a class="base-not-selected" href="pluginDocs/index.html">Plugins</a>
</li>
<li>
<a class="base-not-selected" href="tools/index.html">Tools</a>
</li>
</ul>
<!--+
    |end Tabs
    +-->
</div>
</div>
<div id="main">
<div id="publishedStrip">
<!--+
    |start Subtabs
    +-->
<div id="level2tabs"></div>
<!--+
    |end Endtabs
    +-->
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
             
             &nbsp;
           </div>
<!--+
    |start Menu, mainarea
    +-->
<!--+
    |start Menu
    +-->
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', 'skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">About</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="index.html" title="Welcome and introduction">About Forrest</a>
</div>
<div class="menuitem">
<a href="http://forrest.apache.org/mirrors.cgi" title="Download a release from your nearest mirror or get the latest from SVN">Download</a>
</div>
<div class="menuitem">
<a href="license.html" title="Notes and FAQs about the licensing">License</a>
</div>
<div class="menuitem">
<a href="forrest-contract.html" title="What each party can expect">Our contract</a>
</div>
<div class="menuitem">
<a href="compliance.html" title="Declare the status of HTML, WAI, CSS compliance">Standards compliance</a>
</div>
<div class="menupage">
<div class="menupagetitle">Open issues</div>
</div>
<div class="menuitem">
<a href="who.html" title="Explain who is involved">Who we are</a>
</div>
<div class="menuitem">
<a href="flyer.html" title="One-page description">Flyer</a>
</div>
<div class="menuitem">
<a href="live-sites.html" title="Some sites created using Apache Forrest technology">Example sites</a>
</div>
<div class="menuitem">
<a href="thanks.html" title="Acknowledgment to those who have become involved">Thanks</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.2', 'skin/')" id="menu_1.2Title" class="menutitle">Related projects</div>
<div id="menu_1.2" class="menuitemgroup">
<div class="menuitem">
<a href="http://gump.apache.org/">Apache Gump</a>
</div>
<div class="menuitem">
<a href="http://cocoon.apache.org/">Apache Cocoon</a>
</div>
<div class="menuitem">
<a href="http://lenya.apache.org/">Apache Lenya</a>
</div>
<div class="menuitem">
<a href="http://xml.apache.org/">Apache XML</a>
</div>
<div class="menuitem">
<a href="http://projects.apache.org/">projects.apache.org</a>
</div>
</div>
<div id="credit"></div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<!--+
  |alternative credits
  +-->
<div id="credit2">
<a href="http://www.asia.apachecon.com/"><img border="0" title="ApacheCon Asia 2006 (14-17 August 2006)" alt="ApacheCon Asia 2006 (14-17 August 2006) - logo" src="http://asia.apachecon.com/wp-content/themes/apachecon/css/lyt/apache_con_asia_header.png" style="width: 150px;height: 50px;"></a><a href="http://www.us.apachecon.com/"><img border="0" title="ApacheCon US 2006 (9-13 October 2006)" alt="ApacheCon US 2006 (9-13 October 2006) - logo" src="http://www.us.apachecon.com/images/ASF-us-2006-web_masthead.jpg" style="width: 150px;height: 50px;"></a>
</div>
</div>
<!--+
    |end Menu
    +-->
<!--+
    |start content
    +-->
<div id="content">
<div title="Portable Document Format" class="pdflink">
<a class="dida" href="forrest-issues.pdf"><img alt="PDF -icon" src="skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a>
</div>
<div class="trail">Font size: 
	          &nbsp;<input value="Reset" class="resetfont" title="Reset text" onclick="ndeSetTextSize('reset'); return false;" type="button">      
	          &nbsp;<input value="-a" class="smallerfont" title="Shrink text" onclick="ndeSetTextSize('decr'); return false;" type="button">
	          &nbsp;<input value="+a" class="biggerfont" title="Enlarge text" onclick="ndeSetTextSize('incr'); return false;" type="button">
</div>
<h1>Open issues for the next release</h1>
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#%5BFOR-867%5D+need+doc+to+explain+status+of+skins+and+dispatcher">[FOR-867] need doc to explain status of skins and dispatcher</a>
</li>
<li>
<a href="#%5BFOR-868%5D+add+relevant+notes+to+the+%22Upgrading%22+xdoc">[FOR-868] add relevant notes to the "Upgrading" xdoc</a>
</li>
<li>
<a href="#%5BFOR-865%5D+Add+missing+entries+to+status.xml+to+generate+the+changes+list">[FOR-865] Add missing entries to status.xml to generate the changes list</a>
</li>
<li>
<a href="#%5BFOR-855%5D+verify+the+license+situation+prior+to+each+release">[FOR-855] verify the license situation prior to each release</a>
</li>
<li>
<a href="#%5BFOR-533%5D+Auto+Generate+plugins.xml+entry">[FOR-533] Auto Generate plugins.xml entry</a>
</li>
<li>
<a href="#%5BFOR-735%5D+Plugins+are+not+correctly+deployed+in+webapp+mode">[FOR-735] Plugins are not correctly deployed in webapp mode</a>
</li>
<li>
<a href="#%5BFOR-711%5D+Cache+results+from+the+Locationmap">[FOR-711] Cache results from the Locationmap</a>
</li>
<li>
<a href="#%5BFOR-742%5D+trouble+accessing+unversioned+plugin+for+a+released+version+of+Forrest%2C+e.g.+projectInfo">[FOR-742] trouble accessing unversioned plugin for a released version of Forrest, e.g. projectInfo</a>
</li>
<li>
<a href="#%5BFOR-639%5D+define+terminology+for+the+various+aspects+of+Dispatcher">[FOR-639] define terminology for the various aspects of Dispatcher</a>
</li>
<li>
<a href="#%5BFOR-241%5D+character+entities+%28e.g.+ampersand%29+are+expanded+again+for+href+or+src+attributes">[FOR-241] character entities (e.g. ampersand) are expanded again for href or src attributes</a>
</li>
<li>
<a href="#%5BFOR-210%5D+whole-site+html+and+pdf%3A+broken+link+faq%2C+broken+image+links">[FOR-210] whole-site html and pdf: broken link faq, broken image links</a>
</li>
<li>
<a href="#%5BFOR-211%5D+whole-site+html+and+pdf%3A+broken+ext+links">[FOR-211] whole-site html and pdf: broken ext links</a>
</li>
<li>
<a href="#%5BFOR-200%5D+Locationmap+for+Forrest+and+Users">[FOR-200] Locationmap for Forrest and Users</a>
</li>
<li>
<a href="#%5BFOR-546%5D+Sitemap+reference+doc+should+be+updated+to+reflect+plugin+architecture">[FOR-546] Sitemap reference doc should be updated to reflect plugin architecture</a>
</li>
<li>
<a href="#%5BFOR-560%5D+Remove+duplicate+jars+from+eclipse+plugins">[FOR-560] Remove duplicate jars from eclipse plugins</a>
</li>
<li>
<a href="#%5BFOR-644%5D+code-style+cleanup+for+xml+files">[FOR-644] code-style cleanup for xml files</a>
</li>
<li>
<a href="#%5BFOR-666%5D+clarify+the+sitemap+matches+etc.+in+FAQ+about+non-skinned+html">[FOR-666] clarify the sitemap matches etc. in FAQ about non-skinned html</a>
</li>
<li>
<a href="#%5BFOR-726%5D+use+locationmap+in+all+of+the+plugins">[FOR-726] use locationmap in all of the plugins</a>
</li>
<li>
<a href="#%5BFOR-721%5D+entries+without+labels+in+site.xml+are+now+being+crawled+and+generated">[FOR-721] entries without labels in site.xml are now being crawled and generated</a>
</li>
<li>
<a href="#%5BFOR-677%5D+leading+slash+in+gathered+URIs+causes+double+the+number+of+links+to+be+processed">[FOR-677] leading slash in gathered URIs causes double the number of links to be processed</a>
</li>
<li>
<a href="#%5BFOR-765%5D+forrest+war+gets+NoSuchMethodError+for+some+core+transformer">[FOR-765] forrest war gets NoSuchMethodError for some core transformer</a>
</li>
<li>
<a href="#%5BFOR-772%5D+INvalid+HTML+as+source+causes+unexpected+behaviour">[FOR-772] INvalid HTML as source causes unexpected behaviour</a>
</li>
<li>
<a href="#%5BFOR-776%5D+rationalise+the+pluginTemplate+and+current+plugins+to+have+minimal+configuration+files%2C+etc.">[FOR-776] rationalise the pluginTemplate and current plugins to have minimal configuration files, etc.</a>
</li>
<li>
<a href="#%5BFOR-209%5D+First+level+selected+tab+is+not+highlighted+when+containing+2nd+level+tabs">[FOR-209] First level selected tab is not highlighted when containing 2nd level tabs</a>
</li>
<li>
<a href="#%5BFOR-705%5D+Target+of+LocationMap+rewriteDemo+causes+build+failure+when+target+not+available">[FOR-705] Target of LocationMap rewriteDemo causes build failure when target not available</a>
</li>
</ul>
</div>
<div class="note">
<div class="label">Note</div>
<div class="content">These are the top 25 open issues for the next release that are scheduled in our
       <a href="http://issues.apache.org/jira/secure/BrowseProject.jspa?id=12310000">issue tracking system</a>
       (see 
       <a href="http://issues.apache.org/jira/secure/IssueNavigator.jspa?pid=12310000&resolutionIds=-1&tempMax=1000&reset=true">all</a> open issues).
      The listing below is regenerated on each Forrest run.</div>
</div>
<a name="N10011"></a><a name="%5BFOR-867%5D+need+doc+to+explain+status+of+skins+and+dispatcher"></a>
<h2 class="underlined_10">[FOR-867] need doc to explain status of skins and dispatcher</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-867">http://issues.apache.org/jira/browse/FOR-867</a>
</p>
<p>Need doc to explain status of skins and dispatcher. Link to the doc from warnings of dispatchers docs, from skins.html and from upgrading_08.html
&lt;br/&gt;

&lt;br/&gt;
I have already commenced this xdoc.</p>
</div>
<a name="N1001D"></a><a name="%5BFOR-868%5D+add+relevant+notes+to+the+%22Upgrading%22+xdoc"></a>
<h2 class="underlined_10">[FOR-868] add relevant notes to the "Upgrading" xdoc</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-868">http://issues.apache.org/jira/browse/FOR-868</a>
</p>
<p>We need to add some notes to the upgrading_0*.html doc for the upcoming release. This would most easily be done after attending to &lt;a href="http://issues.apache.org/jira/browse/FOR-865" title="Add missing entries to status.xml to generate the changes list"&gt;FOR-865&lt;/a&gt; &amp;quot;Add missing entries to status.xml to generate the changes list&amp;quot;.</p>
</div>
<a name="N10029"></a><a name="%5BFOR-865%5D+Add+missing+entries+to+status.xml+to+generate+the+changes+list"></a>
<h2 class="underlined_10">[FOR-865] Add missing entries to status.xml to generate the changes list</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-865">http://issues.apache.org/jira/browse/FOR-865</a>
</p>
<p>There are insufficient entries in our site-author/status.xml to generate the changes.html for the upcoming release.
&lt;br/&gt;

&lt;br/&gt;
Besides informing users of the major changes and providing cross-links to the issue tracker, this file also provides recognition of contributions ... at the moment there are too few. It also has the importance=high attribute, which generates our release announcement ... again, too few.
&lt;br/&gt;

&lt;br/&gt;
Re: better use of changes.html (Was: Community health)
&lt;br/&gt;
&lt;a href="http://marc.theaimsgroup.com/?t=114274836600001"&gt;http://marc.theaimsgroup.com/?t=114274836600001&lt;/a&gt;</p>
</div>
<a name="N10035"></a><a name="%5BFOR-855%5D+verify+the+license+situation+prior+to+each+release"></a>
<h2 class="underlined_10">[FOR-855] verify the license situation prior to each release</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-855">http://issues.apache.org/jira/browse/FOR-855</a>
</p>
<p>This should be continually happening anyway, but immediately prior to each release we need to verify that our license situation is in order. This issue should not ever be closed, rather just move the &amp;quot;Fix for Version&amp;quot; on to the next release.
&lt;br/&gt;

&lt;br/&gt;
Here are some of the tasks:
&lt;br/&gt;

&lt;br/&gt;
A) Ensure that all supporting libraries have a corresponding license. Basically every jar file or other external package needs to have a *.license.txt file. Ensure that any license conditions are met, e.g. for some we must add an entry to NOTICE.txt, while for some others we must not. Remember to abide by the ASF guidelines (e.g. nothing more restrictive than the Apache License).
&lt;br/&gt;

&lt;br/&gt;
B) Scan the whole trunk repository to add missing ASF license headers to source files and to ensure that the ASF license headers have not been accidently added to external files. See etc/relicense.txt
&lt;br/&gt;
</p>
</div>
<a name="N10041"></a><a name="%5BFOR-533%5D+Auto+Generate+plugins.xml+entry"></a>
<h2 class="underlined_10">[FOR-533] Auto Generate plugins.xml entry</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-533">http://issues.apache.org/jira/browse/FOR-533</a>
</p>
<p>The information in the plugins.xml file would be better kept in the plugin directory and added to the plugins.xml file when deployed. This would reduce the amount of duplication in the plugins config files.
&lt;br/&gt;

&lt;br/&gt;
All the necessary values are now in the plugin build.xml file.
&lt;br/&gt;

&lt;br/&gt;
This change will require that the plugins.xml file be retrieved from the build directory rather than the plugins directory when building the plugin documentation pages. We will therefore need a fall back to retrieve this file from the network if it is not currently available - this can be done with the locationmap</p>
</div>
<a name="N1004D"></a><a name="%5BFOR-735%5D+Plugins+are+not+correctly+deployed+in+webapp+mode"></a>
<h2 class="underlined_10">[FOR-735] Plugins are not correctly deployed in webapp mode</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-735">http://issues.apache.org/jira/browse/FOR-735</a>
</p>
<p>(At this point I didn't try this scenario step by step any more; basically it is what we did to setup the site, except that we copied our project data from forrest 0.6 before trying the pdf links)
&lt;br/&gt;

&lt;br/&gt;
- run forrest webapp to create an empty webapp
&lt;br/&gt;
- configure Tomcat to run the webapp (we did it by creating a context descriptor and put it onder Tomcat's config directory)
&lt;br/&gt;
- the pdf links give an error &amp;quot;Resource Not Found&amp;quot;</p>
</div>
<a name="N10059"></a><a name="%5BFOR-711%5D+Cache+results+from+the+Locationmap"></a>
<h2 class="underlined_10">[FOR-711] Cache results from the Locationmap</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-711">http://issues.apache.org/jira/browse/FOR-711</a>
</p>
<p>Now that we are using the locationmap extensively it is showing up just how innefficient it is. The problem is that for the majority of requests there are multiple reqeuests to the locationmap. We can make things much faster (especially on the first page request) by caching results in the locationmap.
&lt;br/&gt;

&lt;br/&gt;
I think a simple cache will sufice, lets just provide a static hashmap using the hint as a key and, of course, the location as the value.
&lt;br/&gt;

&lt;br/&gt;
If we test all locationmaps and find no result we should record that tere is no result in this hashmap. This will also be a good place to throw an exception so that Cocoon can better report such errors (see &lt;a href="http://issues.apache.org/jira/browse/FOR-701" title="Missing locationmap entry gives poor error"&gt;FOR-701&lt;/a&gt;)</p>
</div>
<a name="N10065"></a><a name="%5BFOR-742%5D+trouble+accessing+unversioned+plugin+for+a+released+version+of+Forrest%2C+e.g.+projectInfo"></a>
<h2 class="underlined_10">[FOR-742] trouble accessing unversioned plugin for a released version of Forrest, e.g. projectInfo</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-742">http://issues.apache.org/jira/browse/FOR-742</a>
</p>
<p>The plugin retrieval and deployment process are not quite correct. Recently the projectInfo plugin had its version number incremented and the &amp;quot;unversioned&amp;quot; plugin now relates specifically to 0.8-dev version. That prevents 0.7 from accessing the relevant plugin.
&lt;br/&gt;

&lt;br/&gt;
The solution is discussed here:
&lt;br/&gt;
&lt;a href="http://marc.theaimsgroup.com/?t=113176328300002"&gt;http://marc.theaimsgroup.com/?t=113176328300002&lt;/a&gt;</p>
</div>
<a name="N10071"></a><a name="%5BFOR-639%5D+define+terminology+for+the+various+aspects+of+Dispatcher"></a>
<h2 class="underlined_10">[FOR-639] define terminology for the various aspects of Dispatcher</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-639">http://issues.apache.org/jira/browse/FOR-639</a>
</p>
<p>See the email thread:
&lt;br/&gt;
&lt;a href="http://marc.theaimsgroup.com/?t=112276643700001"&gt;http://marc.theaimsgroup.com/?t=112276643700001&lt;/a&gt;
&lt;br/&gt;
</p>
</div>
<a name="N1007D"></a><a name="%5BFOR-241%5D+character+entities+%28e.g.+ampersand%29+are+expanded+again+for+href+or+src+attributes"></a>
<h2 class="underlined_10">[FOR-241] character entities (e.g. ampersand) are expanded again for href or src attributes</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-241">http://issues.apache.org/jira/browse/FOR-241</a>
</p>
<p>If I have a url like this inside the XML source:
&lt;br/&gt;

&lt;br/&gt;
&lt;a href="http://sourceforge.net/sflogo.php?group_id=comics-grabber&amp;type=1"&gt;http://sourceforge.net/sflogo.php?group_id=comics-grabber&amp;amp;type=1&lt;/a&gt;
&lt;br/&gt;

&lt;br/&gt;
validate-xdocs fails because it wants the literal &amp;amp; to be typed out as
&lt;br/&gt;
&amp;amp; instead. So I correct it to become:
&lt;br/&gt;

&lt;br/&gt;
&lt;a href="http://sourceforge.net/sflogo.php?group_id=comics-grabber&amp;type=1"&gt;http://sourceforge.net/sflogo.php?group_id=comics-grabber&amp;amp;type=1&lt;/a&gt;
&lt;br/&gt;

&lt;br/&gt;
However, the generated HTML has the entity resolution UNDONE!:
&lt;br/&gt;

&lt;br/&gt;
&lt;a href="http://sourceforge.net/sflogo.php?group_id=comics-grabber&amp;type=1"&gt;http://sourceforge.net/sflogo.php?group_id=comics-grabber&amp;amp;type=1&lt;/a&gt;
&lt;br/&gt;

&lt;br/&gt;
This HTML fails validation as 4.01 transitional.
&lt;br/&gt;

&lt;br/&gt;
David Crossley adds:
&lt;br/&gt;
There is a demonstration of the problem in the document
&lt;br/&gt;
src/documentation/content/xdocs/docs/dreams.xml
&lt;br/&gt;
The ampersand in the link element text is properly handled but
&lt;br/&gt;
the ampersand in the link href attribute is not.</p>
</div>
<a name="N10089"></a><a name="%5BFOR-210%5D+whole-site+html+and+pdf%3A+broken+link+faq%2C+broken+image+links"></a>
<h2 class="underlined_10">[FOR-210] whole-site html and pdf: broken link faq, broken image links</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-210">http://issues.apache.org/jira/browse/FOR-210</a>
</p>
<p>The &amp;quot;fresh-site&amp;quot; build from 'forrest seed site' reports some failures for faq.html and various missing images. Wonder if sitemap issue?&lt;br/&gt;
&lt;br/&gt;
</p>
</div>
<a name="N10095"></a><a name="%5BFOR-211%5D+whole-site+html+and+pdf%3A+broken+ext+links"></a>
<h2 class="underlined_10">[FOR-211] whole-site html and pdf: broken ext links</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-211">http://issues.apache.org/jira/browse/FOR-211</a>
</p>
<p>In the the generated site.html all of the external links are broken (i.e. the href attributes are like ... error:#ext:forrest).</p>
</div>
<a name="N100A1"></a><a name="%5BFOR-200%5D+Locationmap+for+Forrest+and+Users"></a>
<h2 class="underlined_10">[FOR-200] Locationmap for Forrest and Users</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-200">http://issues.apache.org/jira/browse/FOR-200</a>
</p>
<p>The locationmap gives us the ability to specify where sources are, both for Forrest and for the users.
&lt;br/&gt;

&lt;br/&gt;
Beware that it will not work for raw files that are not linked, as this &amp;quot;feature&amp;quot; currently uses a fixed dir being being copied by Ant.</p>
</div>
<a name="N100AD"></a><a name="%5BFOR-546%5D+Sitemap+reference+doc+should+be+updated+to+reflect+plugin+architecture"></a>
<h2 class="underlined_10">[FOR-546] Sitemap reference doc should be updated to reflect plugin architecture</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-546">http://issues.apache.org/jira/browse/FOR-546</a>
</p>
<p>The example at &lt;a href="http://forrest.apache.org/0.7/docs/sitemap-ref.html#pdf"&gt;http://forrest.apache.org/0.7/docs/sitemap-ref.html#pdf&lt;/a&gt; uses a fo2pdf serializer.  This probaly worked in versions &amp;lt; 0.7, because the PDF output feature was in the core, and the serializer was very likely declared there.
&lt;br/&gt;

&lt;br/&gt;
With version 0.7, PDF output is moved to a plugin, the fo2pdf serializer seems to be no longer there.  The serializer should probably be added to the example, for completeness.
&lt;br/&gt;

&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;map:components&amp;gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;map:serializers&amp;gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;map:serializer name=&amp;quot;fo2pdf&amp;quot;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;src=&amp;quot;org.apache.cocoon.serialization.FOPSerializer&amp;quot;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mime-type=&amp;quot;application/pdf&amp;quot;/&amp;gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;/map:serializers&amp;gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;/map:components&amp;gt;
&lt;br/&gt;

&lt;br/&gt;
I found out about this because my sitemap uses the fo2pdf too (docbook to PDF), and had to add the serializer.</p>
</div>
<a name="N100B9"></a><a name="%5BFOR-560%5D+Remove+duplicate+jars+from+eclipse+plugins"></a>
<h2 class="underlined_10">[FOR-560] Remove duplicate jars from eclipse plugins</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-560">http://issues.apache.org/jira/browse/FOR-560</a>
</p>
<p>tools/eclipse/plugins/org.apache.forrest.eclipse.servletEngine/lib contains some duplicate jars to those in the main Forrest trunk. We should find a way of reusing the jars from their existing location.</p>
</div>
<a name="N100C5"></a><a name="%5BFOR-644%5D+code-style+cleanup+for+xml+files"></a>
<h2 class="underlined_10">[FOR-644] code-style cleanup for xml files</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-644">http://issues.apache.org/jira/browse/FOR-644</a>
</p>
<p>We have much inconsistent whitespace in all of our files. This is known to cause trouble in a collaborative environment. See discussion at: &lt;a href="http://marc.theaimsgroup.com/?t=112450901100001"&gt;http://marc.theaimsgroup.com/?t=112450901100001&lt;/a&gt; and &lt;a href="http://marc.theaimsgroup.com/?t=112495618800002"&gt;http://marc.theaimsgroup.com/?t=112495618800002&lt;/a&gt; and various linked discussions.
&lt;br/&gt;
</p>
</div>
<a name="N100D1"></a><a name="%5BFOR-666%5D+clarify+the+sitemap+matches+etc.+in+FAQ+about+non-skinned+html"></a>
<h2 class="underlined_10">[FOR-666] clarify the sitemap matches etc. in FAQ about non-skinned html</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-666">http://issues.apache.org/jira/browse/FOR-666</a>
</p>
<p>The pattern matching example is quite misleading. There should be a note where exactly to copy your old site (in a standard seeded project) to make the pattern matching work.
&lt;br/&gt;

&lt;br/&gt;
At least for me it worked only after I used a  **.html directeive.
&lt;br/&gt;

&lt;br/&gt;
&amp;lt;map:match pattern=&amp;quot;old_site/**.html&amp;quot;&amp;gt;</p>
</div>
<a name="N100DD"></a><a name="%5BFOR-726%5D+use+locationmap+in+all+of+the+plugins"></a>
<h2 class="underlined_10">[FOR-726] use locationmap in all of the plugins</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-726">http://issues.apache.org/jira/browse/FOR-726</a>
</p>
<p>Each plugin has sitemaps that need to use the locationmap.
&lt;br/&gt;

&lt;br/&gt;
(Perhaps we need Jira sub-tasks for each plugin.)</p>
</div>
<a name="N100E9"></a><a name="%5BFOR-721%5D+entries+without+labels+in+site.xml+are+now+being+crawled+and+generated"></a>
<h2 class="underlined_10">[FOR-721] entries without labels in site.xml are now being crawled and generated</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-721">http://issues.apache.org/jira/browse/FOR-721</a>
</p>
<p>In our forrest/site-author/content/xdocs/site.xml there are two entries without &amp;quot;label&amp;quot; attributes. Previously these documents were not being generated. Not sure if this change in behaviour is good or bad. Needs investigation.
&lt;br/&gt;

&lt;br/&gt;
This is most likely a side-effect of the workaround for issue &lt;a href="http://issues.apache.org/jira/browse/FOR-675" title="upgrading to commons-jxpath-1.2.jar causes failures with linkrewriter protocols site: etc."&gt;FOR-675&lt;/a&gt;</p>
</div>
<a name="N100F5"></a><a name="%5BFOR-677%5D+leading+slash+in+gathered+URIs+causes+double+the+number+of+links+to+be+processed"></a>
<h2 class="underlined_10">[FOR-677] leading slash in gathered URIs causes double the number of links to be processed</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-677">http://issues.apache.org/jira/browse/FOR-677</a>
</p>
<p>Doing 'forrest' starts at the virtual document called linkmap.html where the Cocoon crawler gathers the initial set of links, then starts crawling and generating pages. Any new links are pushed onto the linkmap. However, for some sites, such as our own &amp;quot;seed-sample&amp;quot; and our &amp;quot;site-author&amp;quot;, there is a sudden jump in the number of URIs remaining to be processed.
&lt;br/&gt;

&lt;br/&gt;
This is due to a URI with a leading slash (e.g. /samples/faq.html). When that URI is processed, it gains a whole new set of links all with leading slashes, and so the list of URIs is potentially doubled.
&lt;br/&gt;

&lt;br/&gt;
This issue could be due to a user error, i.e. adding a link that deliberately begins with a slash. Sometimes, that is unavoidable.
&lt;br/&gt;

&lt;br/&gt;
However, we do have a sitemap transformer to &amp;quot;relativize&amp;quot; and &amp;quot;absolutize&amp;quot; the links. Should it always trim the leading slash? Or are there cases where that should not happen, so cannot generalise?</p>
</div>
<a name="N10101"></a><a name="%5BFOR-765%5D+forrest+war+gets+NoSuchMethodError+for+some+core+transformer"></a>
<h2 class="underlined_10">[FOR-765] forrest war gets NoSuchMethodError for some core transformer</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-765">http://issues.apache.org/jira/browse/FOR-765</a>
</p>
<p>Until recently we could run forrest as a WAR. With today's SVN r356945 it gets past the Cocoon startup phase, then on the first client request it suffers some error which causes a NoSuchMethodError. See attached log ... no other clues. This happens for any site, e.g. 'forrest seed-sample war'. All is okay for 'forrest seed-sample run'.</p>
</div>
<a name="N1010D"></a><a name="%5BFOR-772%5D+INvalid+HTML+as+source+causes+unexpected+behaviour"></a>
<h2 class="underlined_10">[FOR-772] INvalid HTML as source causes unexpected behaviour</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-772">http://issues.apache.org/jira/browse/FOR-772</a>
</p>
<p>Reported via user list:
&lt;br/&gt;

&lt;br/&gt;
Using HTML as a source:
&lt;br/&gt;

&lt;br/&gt;
&amp;gt; I manage to cut out one '&amp;gt;' too much. The page still manages to render. There
&lt;br/&gt;
&amp;gt; is no error message, and...I'll be damned...the entire title line is gone,
&lt;br/&gt;
&amp;gt; even when I &amp;quot;view source&amp;quot;.
&lt;br/&gt;

&lt;br/&gt;

&lt;br/&gt;
I guess this is a problem of using HTML as the source and would not occur if you were using XDoc. 
&lt;br/&gt;

&lt;br/&gt;
We use JTidy to preprocess the HTML (we must have valid XML to work with). I guess JTidy is just removing the invalid content. Can we configure JTidy to fail if such an error exists.
&lt;br/&gt;

&lt;br/&gt;
Does such an error get spotted during the validation stage of a &amp;quot;forrest site&amp;quot; command (execute directly with &amp;quot;forrest validate&amp;quot;)</p>
</div>
<a name="N10119"></a><a name="%5BFOR-776%5D+rationalise+the+pluginTemplate+and+current+plugins+to+have+minimal+configuration+files%2C+etc."></a>
<h2 class="underlined_10">[FOR-776] rationalise the pluginTemplate and current plugins to have minimal configuration files, etc.</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-776">http://issues.apache.org/jira/browse/FOR-776</a>
</p>
<p>forrest.properties can have minimal entries and rely on the default.forrest.properties
&lt;br/&gt;
Remove PDF from each &amp;quot;project.required.plugins&amp;quot;
&lt;br/&gt;

&lt;br/&gt;
skinconf.xml needs to be ready-to-go for Apache Forrest hosted plugins. Helps with keeping the plugin docs consistent. (The need for skinconf.xml will probably go away with the new Dispatcher.)
&lt;br/&gt;

&lt;br/&gt;
Fix whitespace in pluginTemplate files and existing plugins. Helps to use diff to keep consistent config.
&lt;br/&gt;

&lt;br/&gt;
xdocs/images should be in documentation/resources/images
&lt;br/&gt;

&lt;br/&gt;
site.xml needs to be consistent and remove any unneccessary files for xdocs.
&lt;br/&gt;

&lt;br/&gt;
Tidy up the pluginTempate/status.xml</p>
</div>
<a name="N10125"></a><a name="%5BFOR-209%5D+First+level+selected+tab+is+not+highlighted+when+containing+2nd+level+tabs"></a>
<h2 class="underlined_10">[FOR-209] First level selected tab is not highlighted when containing 2nd level tabs</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-209">http://issues.apache.org/jira/browse/FOR-209</a>
</p>
<p>When there are two levels of tabs, the selected first level tab does not get highlighted, nor are there any other visual or structural clues as to which first-level tab is active, and which contains the displayed 2nd level tabs.
&lt;br/&gt;

&lt;br/&gt;
This is checked with both the default skin, and with tigris-style.
&lt;br/&gt;
</p>
</div>
<a name="N10131"></a><a name="%5BFOR-705%5D+Target+of+LocationMap+rewriteDemo+causes+build+failure+when+target+not+available"></a>
<h2 class="underlined_10">[FOR-705] Target of LocationMap rewriteDemo causes build failure when target not available</h2>
<div class="section">
<p>
<a href="http://issues.apache.org/jira/browse/FOR-705">http://issues.apache.org/jira/browse/FOR-705</a>
</p>
<p>Build fails when given target URL of rewriteDemo is not available (site down, no longer exists, incorrect URL typing etc).
&lt;br/&gt;

&lt;br/&gt;
For various reasons given in [1] and [2] this default feature should remain but alternative options should be made available. Possible solutions given in [3]
&lt;br/&gt;

&lt;br/&gt;
[1] &lt;a href="http://marc.theaimsgroup.com/?l=forrest-dev&amp;m=112826350500282"&gt;http://marc.theaimsgroup.com/?l=forrest-dev&amp;amp;m=112826350500282&lt;/a&gt;
&lt;br/&gt;

&lt;br/&gt;
[2] &lt;a href="http://marc.theaimsgroup.com/?l=forrest-dev&amp;m=11270994920771"&gt;http://marc.theaimsgroup.com/?l=forrest-dev&amp;amp;m=11270994920771&lt;/a&gt;
&lt;br/&gt;

&lt;br/&gt;
[3] &lt;a href="http://marc.theaimsgroup.com/?l=forrest-dev&amp;m=112859428219336&amp;w=2"&gt;http://marc.theaimsgroup.com/?l=forrest-dev&amp;amp;m=112859428219336&amp;amp;w=2&lt;/a&gt;
&lt;br/&gt;

&lt;br/&gt;
</p>
</div>
</div>
<!--+
    |end content
    +-->
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<!--+
    |start bottomstrip
    +-->
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2002-2006 <a href="http://www.apache.org/licenses/">The Apache Software Foundation.</a>
</div>
<!--+
    |end bottomstrip
    +-->
</div>
</body>
</html>
